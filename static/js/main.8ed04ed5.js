/*! For license information please see main.8ed04ed5.js.LICENSE.txt */
(()=>{"use strict";var e={110:(e,t,n)=>{var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return r.isMemo(e)?o:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=o;var l=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var o=u(n);h&&(o=o.concat(h(n)));for(var a=c(t),m=c(n),g=0;g<o.length;++g){var y=o[g];if(!s[y]&&(!r||!r[y])&&(!m||!m[y])&&(!a||!a[y])){var v=d(n,y);try{l(t,y,v)}catch(w){}}}}return t}},746:(e,t)=>{var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case s:case a:case o:case f:return e;default:switch(e=e&&e.$$typeof){case l:case d:case g:case m:case c:return e;default:return t}}case i:return t}}}function S(e){return _(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=r,t.ForwardRef=d,t.Fragment=s,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||_(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===s},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===h||e===a||e===o||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===v||e.$$typeof===w||e.$$typeof===b||e.$$typeof===y)},t.typeOf=_},309:(e,t,n)=>{e.exports=n(746)},463:(e,t,n)=>{var r=n(791),i=n(296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),x=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var c="\n"+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case T:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,Ie=null;function Te(e){if(e=wi(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function ke(e){Ee?Ie?Ie.push(e):Ie=[e]:Ee=e}function xe(){if(Ee){var e=Ee,t=Ie;if(Ie=Ee=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==Ee||null!==Ie)&&(Ne(),xe())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Re=!1}function Le(e,t,n,r,i,s,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,s,o,a,c){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(s(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ct|0)|0},at=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,Et,It,Tt,kt=!1,xt=[],Ct=null,Nt=null,At=null,Ot=new Map,Pt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){kt=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==At&&jt(At)&&(At=null),Ot.forEach(Ut),Pt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<xt.length){zt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Ot.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=1,Ht(e,t,n,r)}finally{wt=i,qt.transition=s}}function Gt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=4,Ht(e,t,n,r)}finally{wt=i,qt.transition=s}}function Ht(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ot.set(s,Mt(Ot.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Mt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&_t(s),null===(s=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=vi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(ln),hn=F({},ln,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(on=e.screenX-cn.screenX,an=e.screenY-cn.screenY):an=on=0,cn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(F({},fn,{dataTransfer:0})),gn=sn(F({},hn,{relatedTarget:0})),yn=sn(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(vn),bn=sn(F({},ln,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Tn(){return In}var kn=F({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=sn(kn),Cn=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=sn(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(On),Rn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Fn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){ke(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){jr(e,0)}function Yn(e){if(H(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Hn)){var t=[];Kn(t,Hn,e,_e(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Hn)}function sr(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&cr(vr,r)||(vr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Er={},Ir={};function Tr(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Er[e]=n[t];return e}u&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var kr=Tr("animationend"),xr=Tr("animationiteration"),Cr=Tr("animationstart"),Nr=Tr("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),c(t,[e])}for(var Rr=0;Rr<Or.length;Rr++){var Dr=Or[Rr];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(kr,"onAnimationEnd"),Pr(xr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,c,l){if(ze.apply(this,arguments),Me){if(!Me)throw Error(s(198));var u=Fe;Me=!1,Fe=null,je||(je=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;Fr(i,a,l),s=c}else for(o=0;o<r.length;o++){if(c=(a=r[o]).instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;Fr(i,a,l),s=c}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&((c=o.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=vi(a)))return;if(5===(c=o.tag)||6===c){r=s=o;continue e}a=a.parentNode}}r=r.return}Oe((function(){var r=s,i=_e(n),o=[];e:{var a=Ar.get(e);if(void 0!==a){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=xn;break;case"focusin":l="focus",c=gn;break;case"focusout":l="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Nn;break;case kr:case xr:case Cr:c=yn;break;case Nr:c=An;break;case"scroll":c=dn;break;case"wheel":c=Pn;break;case"copy":case"cut":case"paste":c=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Cn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Pe(p,d))&&u.push(Kr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new c(a,l,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!vi(l)&&!l[pi])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?vi(l):null)&&(l!==(h=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==c?a:bi(c),f=null==l?a:bi(l),(a=new u(m,p+"leave",c,n,i)).target=h,a.relatedTarget=f,m=null,vi(i)===r&&((u=new u(d,p+"enter",l,n,i)).target=f,u.relatedTarget=h,m=u),h=m,c&&l)e:{for(d=l,p=0,f=u=c;f;f=Hr(f))p++;for(f=0,m=d;m;m=Hr(m))f++;for(;0<p-f;)u=Hr(u),p--;for(;0<f-p;)d=Hr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Hr(u),d=Hr(d)}u=null}else u=null;null!==c&&Qr(o,a,c,u,!1),null!==l&&null!==h&&Qr(o,h,l,u,!0)}if("select"===(c=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var g=$n;else if(Wn(a))if(Xn)g=or;else{g=ir;var y=rr}else(c=a.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Kn(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Bn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Bn&&(v=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Gr(r,w)).length&&(w=new bn(w,e,null,n,i),o.push({event:w,listeners:y}),v?w.data=v:null!==(v=zn(n))&&(w.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}jr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Kr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Kr(e,s,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(null!==c&&c===r)break;5===a.tag&&null!==l&&(a=l,i?null!=(c=Pe(n,s))&&o.unshift(Kr(n,c,a)):i||null!=(c=Pe(n,s))&&o.push(Kr(n,c,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Si=[],Ei=-1;function Ii(e){return{current:e}}function Ti(e){0>Ei||(e.current=Si[Ei],Si[Ei]=null,Ei--)}function ki(e,t){Ei++,Si[Ei]=e.current,e.current=t}var xi={},Ci=Ii(xi),Ni=Ii(!1),Ai=xi;function Oi(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ti(Ni),Ti(Ci)}function Di(e,t,n){if(Ci.current!==xi)throw Error(s(168));ki(Ci,t),ki(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Ai=Ci.current,ki(Ci,e),ki(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ni),Ti(Ci),ki(Ci,e)):Ti(Ni),ki(Ni,n)}var ji=null,Ui=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=wt;try{var n=ji;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),He(Ze,Bi),i}finally{wt=t,Vi=!1}}return null}var qi=[],Wi=0,Ki=null,Gi=0,Hi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){qi[Wi++]=Gi,qi[Wi++]=Ki,Ki=e,Gi=t}function Zi(e,t,n){Hi[Qi++]=$i,Hi[Qi++]=Xi,Hi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=s+e}else $i=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Ki;)Ki=qi[--Wi],qi[Wi]=null,Gi=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Hi[--Qi],Hi[Qi]=null,Xi=Hi[--Qi],Hi[Qi]=null,$i=Hi[--Qi],Hi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Pl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function cs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ls(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(cs(e))throw Error(s(418));t=li(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(cs(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=li(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?li(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=li(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ys=Ii(null),vs=null,ws=null,bs=null;function _s(){bs=ws=vs=null}function Ss(e){var t=ys.current;Ti(ys),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Is(e,t){vs=e,bs=ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},null===ws){if(null===vs)throw Error(s(308));ws=e,vs.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var ks=null;function xs(e){null===ks?ks=[e]:ks.push(e)}function Cs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,xs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ns(e,r)}function Ns(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var As=!1;function Os(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ps(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ds(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ns(e,n)}return null===(i=r.interleaved)?(t.next=t,xs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ns(e,n)}function Ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fs(e,t,n,r){var i=e.updateQueue;As=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var c=a,l=c.next;c.next=null,null===o?s=l:o.next=l,o=c;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(null!==s){var h=i.baseState;for(o=0,u=l=c=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:As=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=f,c=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(c=h),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Fc|=o,e.lanes=o,e.memoizedState=h}}function js(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Us=(new r.Component).refs;function Vs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zs={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),s=Rs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(rl(t,e,i,r),Ls(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),s=Rs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(rl(t,e,i,r),Ls(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Rs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ds(e,i,r))&&(rl(t,e,r,n),Ls(t,e,r))}};function Bs(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,s))}function qs(e,t,n){var r=!1,i=xi,s=t.contextType;return"object"===typeof s&&null!==s?s=Ts(s):(i=Pi(t)?Ai:Ci.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):xi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ws(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zs.enqueueReplaceState(t,t.state,null)}function Ks(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Us,Os(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ts(s):(s=Pi(t)?Ai:Ci.current,i.context=Oi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Vs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zs.enqueueReplaceState(i,i.state,null),Fs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Us&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Hs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Gs(e,t,n),r.return=e,r):((r=Ll(n.type,n.key,n.props,null,e.mode,r)).ref=Gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ll(t.type,t.key,t.props,null,e.mode,n)).ref=Gs(e,null,t),n.return=e,n;case S:return(t=Ul(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ml(t,e.mode,n,null)).return=e,t;Hs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Hs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Hs(t,r)}return null}function m(i,s,a,c){for(var l=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],c);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,m),null===u?l=y:u.sibling=y,u=y,h=g}if(m===a.length)return n(i,h),is&&Ji(i,m),l;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],c))&&(s=o(h,s,m),null===u?l=h:u.sibling=h,u=h);return is&&Ji(i,m),l}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],c))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?l=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Ji(i,m),l}function g(i,a,c,l){var u=L(c);if("function"!==typeof u)throw Error(s(150));if(null==(c=u.call(c)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,y=null,v=c.next();null!==m&&!v.done;g++,v=c.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,l);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===h?u=w:h.sibling=w,h=w,m=y}if(v.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!v.done;g++,v=c.next())null!==(v=d(i,v.value,l))&&(a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return is&&Ji(i,g),u}for(m=r(i,m);!v.done;g++,v=c.next())null!==(v=p(m,i,g,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),is&&Ji(i,g),u}return function e(r,s,o,c){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var l=o.key,u=s;null!==u;){if(u.key===l){if((l=o.type)===E){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===P&&Qs(l)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=Gs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===E?((s=Ml(o.props.children,r.mode,c,o.key)).return=r,r=s):((c=Ll(o.type,o.key,o.props,null,r.mode,c)).ref=Gs(r,s,o),c.return=r,r=c)}return a(r);case S:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Ul(o,r.mode,c)).return=r,r=s}return a(r);case P:return e(r,s,(u=o._init)(o._payload),c)}if(te(o))return m(r,s,o,c);if(L(o))return g(r,s,o,c);Hs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=jl(o,r.mode,c)).return=r,r=s),a(r)):n(r,s)}}var $s=Ys(!0),Xs=Ys(!1),Js={},Zs=Ii(Js),eo=Ii(Js),to=Ii(Js);function no(e){if(e===Js)throw Error(s(174));return e}function ro(e,t){switch(ki(to,t),ki(eo,e),ki(Zs,Js),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Zs),ki(Zs,t)}function io(){Ti(Zs),Ti(eo),Ti(to)}function so(e){no(to.current);var t=no(Zs.current),n=ce(t,e.type);t!==n&&(ki(eo,e),ki(Zs,n))}function oo(e){eo.current===e&&(Ti(Zs),Ti(eo))}var ao=Ii(0);function co(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function uo(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,mo=null,go=null,yo=null,vo=!1,wo=!1,bo=0,_o=0;function So(){throw Error(s(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:ca,e=n(r,i),wo){o=0;do{if(wo=!1,bo=0,25<=o)throw Error(s(301));o+=1,yo=go=null,t.updateQueue=null,ho.current=la,e=n(r,i)}while(wo)}if(ho.current=oa,t=null!==go&&null!==go.next,po=0,yo=go=mo=null,vo=!1,t)throw Error(s(300));return e}function To(){var e=0!==bo;return bo=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?mo.memoizedState=yo=e:yo=yo.next=e,yo}function xo(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===yo?mo.memoizedState:yo.next;if(null!==t)yo=t,go=e;else{if(null===e)throw Error(s(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===yo?mo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=xo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var c=a=null,l=null,u=o;do{var h=u.lane;if((po&h)===h)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=d,a=r):l=l.next=d,mo.lanes|=h,Fc|=h}u=u.next}while(null!==u&&u!==o);null===l?a=r:l.next=c,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,Fc|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=xo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Po(e,t){var n=mo,r=xo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ba=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ac)throw Error(s(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fo(e){var t=Ns(e,1);null!==t&&rl(t,e,1,-1)}function jo(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,mo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return xo().memoizedState}function zo(e,t,n,r){var i=ko();mo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=xo();r=void 0===r?null:r;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Uo(t,n,s,r))}mo.flags|=e,i.memoizedState=Uo(1|t,n,s,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ko(e,t){return Bo(4,2,e,t)}function Go(e,t){return Bo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ho.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),mo.lanes|=n,Fc|=n,e.baseState=!0),t)}function Zo(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{wt=n,fo.transition=r}}function ea(){return xo().memoizedState}function ta(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Cs(e,t,n,r))){rl(n,e,r,tl()),sa(n,t,r)}}function na(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var c=t.interleaved;return null===c?(i.next=i,xs(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Cs(e,t,i,r))&&(rl(n,e,r,i=tl()),sa(n,t,r))}}function ra(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function ia(e,t){wo=vo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var oa={readContext:Ts,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},aa={readContext:Ts,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Ts,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:jo,useDebugValue:Yo,useDeferredValue:function(e){return ko().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=ko();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ac)throw Error(s(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=Ac.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ca={readContext:Ts,useCallback:$o,useContext:Ts,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(xo(),go.memoizedState,e)},useTransition:function(){return[No(Co)[0],xo().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:ea,unstable_isNewReconciler:!1},la={readContext:Ts,useCallback:$o,useContext:Ts,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=xo();return null===go?t.memoizedState=e:Jo(t,go.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],xo().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Rs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kc||(Kc=!0,Gc=r),da(0,t)},n}function ma(e,t,n){(n=Rs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Hc?Hc=new Set([this]):Hc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kl.bind(null,e,t,n),t.then(e,e))}function ya(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Rs(-1,1)).tag=2,Ds(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=b.ReactCurrentOwner,ba=!1;function _a(e,t,n,r){t.child=null===e?Xs(t,null,n,r):$s(t,e.child,n,r)}function Sa(e,t,n,r,i){n=n.render;var s=t.ref;return Is(t,i),r=Io(e,t,n,r,s,i),n=To(),null===e||ba?(is&&n&&es(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function Ea(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Rl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ll(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ia(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(o,r)&&e.ref===t.ref)return Ka(e,t,i)}return t.flags|=1,(e=Dl(s,r)).ref=t.ref,e.return=t,t.child=e}function Ia(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(cr(s,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ka(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return xa(e,t,n,r,i)}function Ta(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Dc,Rc),Rc|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Dc,Rc),Rc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Dc,Rc),Rc|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Dc,Rc),Rc|=r;return _a(e,t,i,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xa(e,t,n,r,i){var s=Pi(n)?Ai:Ci.current;return s=Oi(t,s),Is(t,i),n=Io(e,t,n,r,s,i),r=To(),null===e||ba?(is&&r&&es(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function Ca(e,t,n,r,i){if(Pi(n)){var s=!0;Mi(t)}else s=!1;if(Is(t,i),null===t.stateNode)Wa(e,t),qs(t,n,r),Ks(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ts(l):l=Oi(t,l=Pi(n)?Ai:Ci.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||c!==l)&&Ws(t,o,r,l),As=!1;var d=t.memoizedState;o.state=d,Fs(t,r,o,i),c=t.memoizedState,a!==r||d!==c||Ni.current||As?("function"===typeof u&&(Vs(t,n,u,r),c=t.memoizedState),(a=As||Bs(t,n,a,r,d,c,l))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ps(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:gs(t.type,a),o.props=l,h=t.pendingProps,d=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=Ts(c):c=Oi(t,c=Pi(n)?Ai:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==c)&&Ws(t,o,r,c),As=!1,d=t.memoizedState,o.state=d,Fs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ni.current||As?("function"===typeof f&&(Vs(t,n,f,r),p=t.memoizedState),(l=As||Bs(t,n,l,r,d,p,c)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=c,r=l):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Na(e,t,n,r,s,i)}function Na(e,t,n,r,i,s){ka(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ka(e,t,s);r=t.stateNode,wa.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$s(t,e.child,null,s),t.child=$s(t,null,a,s)):_a(e,t,a,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Oa(e,t,n,r,i){return fs(),ps(i),t.flags|=256,_a(e,t,n,r),t.child}var Pa,Ra,Da,La,Ma={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,n){var r,i=t.pendingProps,o=ao.current,a=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ki(ao,1&o),null===e)return ls(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,a?(i=t.mode,a=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=c):a=Fl(c,i,0,null),e=Ml(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=Ma,e):Ua(t,c));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Va(e,t,a,r=ha(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fl({mode:"visible",children:r.children},i,0,null),(o=Ml(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$s(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=Ma,o);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,Va(e,t,a,r=ha(o=Error(s(419)),r,void 0))}if(c=0!==(a&e.childLanes),ba||c){if(null!==(r=Ac)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ns(e,i),rl(r,e,i,-1))}return gl(),Va(e,t,a,r=ha(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=li(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Hi[Qi++]=$i,Hi[Qi++]=Xi,Hi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,c,i,r,o,n);if(a){a=i.fallback,c=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Dl(r,a):(a=Ml(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,c=null===(c=e.child.memoizedState)?Fa(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Dl(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,n,r){return null!==r&&ps(r),$s(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Es(e.return,t,n)}function Ba(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===co(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===co(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,s);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ka(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ga(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ha(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ha(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Ha(t),null;case 3:return r=t.stateNode,io(),Ti(Ni),Ti(Ci),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(al(ss),ss=null))),Ra(e,t),Ha(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ha(t),null}if(e=no(Zs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var c in ve(n,o),i=null,o)if(o.hasOwnProperty(c)){var l=o[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):a.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[di]=t,e[fi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(c=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ve(n,i),l=i)if(l.hasOwnProperty(o)){var u=l[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ur("scroll",e):null!=u&&w(e,o,u,c))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ha(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no(Zs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ha(t),null;case 13:if(Ti(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ha(t),o=!1}else null!==ss&&(al(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Lc&&(Lc=3):gl())),null!==t.updateQueue&&(t.flags|=4),Ha(t),null);case 4:return io(),Ra(e,t),null===e&&Br(t.stateNode.containerInfo),Ha(t),null;case 10:return Ss(t.type._context),Ha(t),null;case 19:if(Ti(ao),null===(o=t.memoizedState))return Ha(t),null;if(r=0!==(128&t.flags),null===(c=o.rendering))if(r)Ga(o,!1);else{if(0!==Lc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=co(e))){for(t.flags|=128,Ga(o,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(c=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,e=c.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qc&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=co(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ga(o,!0),null===o.tail&&"hidden"===o.tailMode&&!c.alternate&&!is)return Ha(t),null}else 2*Xe()-o.renderingStartTime>qc&&1073741824!==n&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=o.last)?n.sibling=c:t.child=c,o.last=c)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=ao.current,ki(ao,r?1&n|2:1&n),t):(Ha(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rc)&&(Ha(t),6&t.subtreeFlags&&(t.flags|=8192)):Ha(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ya(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ti(Ni),Ti(Ci),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ti(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ao),null;case 4:return io(),null;case 10:return Ss(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ra=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var c=i[u];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(o=o||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Ur("scroll",e),o||c===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var $a=!1,Xa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function ec(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tl(e,t,r)}else n.current=null}function tc(e,t,n){try{n()}catch(r){Tl(e,t,r)}}var nc=!1;function rc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tc(t,n,s)}i=i.next}while(i!==r)}}function ic(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ac(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var hc=null,dc=!1;function fc(e,t,n){for(n=n.child;null!==n;)pc(e,t,n),n=n.sibling}function pc(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||ec(n,t);case 6:var r=hc,i=dc;hc=null,fc(e,t,n),dc=i,null!==(hc=r)&&(dc?(e=hc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hc.removeChild(n.stateNode));break;case 18:null!==hc&&(dc?(e=hc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Bt(e)):ci(hc,n.stateNode));break;case 4:r=hc,i=dc,hc=n.stateNode.containerInfo,dc=!0,fc(e,t,n),hc=r,dc=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tc(n,t,o),i=i.next}while(i!==r)}fc(e,t,n);break;case 1:if(!Xa&&(ec(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tl(n,t,a)}fc(e,t,n);break;case 21:fc(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,fc(e,t,n),Xa=r):fc(e,t,n);break;default:fc(e,t,n)}}function mc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Nl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 5:hc=c.stateNode,dc=!1;break e;case 3:case 4:hc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===hc)throw Error(s(160));pc(o,a,i),hc=null,dc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){Tl(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yc(t,e),t=t.sibling}function yc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),vc(e),4&r){try{rc(3,e,e.return),ic(3,e)}catch(g){Tl(e,e.return,g)}try{rc(5,e,e.return)}catch(g){Tl(e,e.return,g)}}break;case 1:gc(t,e),vc(e),512&r&&null!==n&&ec(n,n.return);break;case 5:if(gc(t,e),vc(e),512&r&&null!==n&&ec(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Tl(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===o.type&&null!=o.name&&X(i,o),we(c,a);var u=we(c,o);for(a=0;a<l.length;a+=2){var h=l[a],d=l[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,u)}switch(c){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Tl(e,e.return,g)}}break;case 6:if(gc(t,e),vc(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Tl(e,e.return,g)}}break;case 3:if(gc(t,e),vc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Tl(e,e.return,g)}break;case 4:default:gc(t,e),vc(e);break;case 13:gc(t,e),vc(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bc=Xe())),4&r&&mc(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(u=Xa)||h,gc(t,e),Xa=u):gc(t,e),vc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rc(4,f,f.return);break;case 1:ec(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tl(r,n,g)}}break;case 5:ec(f,f.return);break;case 22:if(null!==f.memoizedState){Sc(d);continue}}null!==p?(p.return=f,Za=p):Sc(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(c=d.stateNode,a=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=me("display",a))}catch(g){Tl(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Tl(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gc(t,e),vc(e),4&r&&mc(e);case 21:}}function vc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ac(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),uc(e,cc(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;lc(e,cc(e),o);break;default:throw Error(s(161))}}catch(a){Tl(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wc(e,t,n){Za=e,bc(e,t,n)}function bc(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$a;if(!o){var a=i.alternate,c=null!==a&&null!==a.memoizedState||Xa;a=$a;var l=Xa;if($a=o,(Xa=c)&&!l)for(Za=i;null!==Za;)c=(o=Za).child,22===o.tag&&null!==o.memoizedState?Ec(i):null!==c?(c.return=o,Za=c):Ec(i);for(;null!==s;)Za=s,bc(s,t,n),s=s.sibling;Za=i,$a=a,Xa=l}_c(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Za=s):_c(e)}}function _c(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||ic(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&js(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}js(t,a,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(s(163))}Xa||512&t.flags&&sc(t)}catch(f){Tl(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function Sc(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Ec(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ic(4,t)}catch(c){Tl(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){Tl(t,i,c)}}var s=t.return;try{sc(t)}catch(c){Tl(t,s,c)}break;case 5:var o=t.return;try{sc(t)}catch(c){Tl(t,o,c)}}}catch(c){Tl(t,t.return,c)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Ic,Tc=Math.ceil,kc=b.ReactCurrentDispatcher,xc=b.ReactCurrentOwner,Cc=b.ReactCurrentBatchConfig,Nc=0,Ac=null,Oc=null,Pc=0,Rc=0,Dc=Ii(0),Lc=0,Mc=null,Fc=0,jc=0,Uc=0,Vc=null,zc=null,Bc=0,qc=1/0,Wc=null,Kc=!1,Gc=null,Hc=null,Qc=!1,Yc=null,$c=0,Xc=0,Jc=null,Zc=-1,el=0;function tl(){return 0!==(6&Nc)?Xe():-1!==Zc?Zc:Zc=Xe()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Nc)&&0!==Pc?Pc&-Pc:null!==ms.transition?(0===el&&(el=mt()),el):0!==(e=wt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rl(e,t,n,r){if(50<Xc)throw Xc=0,Jc=null,Error(s(185));yt(e,n,r),0!==(2&Nc)&&e===Ac||(e===Ac&&(0===(2&Nc)&&(jc|=n),4===Lc&&cl(e,Pc)),il(e,r),1===n&&0===Nc&&0===(1&t.mode)&&(qc=Xe()+500,Ui&&Bi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,c=i[o];-1===c?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Ac?Pc:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(ll.bind(null,e)):zi(ll.bind(null,e)),oi((function(){0===(6&Nc)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Al(n,sl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sl(e,t){if(Zc=-1,el=0,0!==(6&Nc))throw Error(s(327));var n=e.callbackNode;if(El()&&e.callbackNode!==n)return null;var r=dt(e,e===Ac?Pc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yl(e,r);else{t=r;var i=Nc;Nc|=2;var o=ml();for(Ac===e&&Pc===t||(Wc=null,qc=Xe()+500,fl(e,t));;)try{wl();break}catch(c){pl(e,c)}_s(),kc.current=o,Nc=i,null!==Oc?t=0:(Ac=null,Pc=0,t=Lc)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Mc,fl(e,0),cl(e,r),il(e,Xe()),n;if(6===t)cl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yl(e,r))&&(0!==(o=pt(e))&&(r=o,t=ol(e,o))),1===t))throw n=Mc,fl(e,0),cl(e,r),il(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Sl(e,zc,Wc);break;case 3:if(cl(e,r),(130023424&r)===r&&10<(t=Bc+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sl.bind(null,e,zc,Wc),t);break}Sl(e,zc,Wc);break;case 4:if(cl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tc(r/1960))-r)){e.timeoutHandle=ri(Sl.bind(null,e,zc,Wc),r);break}Sl(e,zc,Wc);break;default:throw Error(s(329))}}}return il(e,Xe()),e.callbackNode===n?sl.bind(null,e):null}function ol(e,t){var n=Vc;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=yl(e,t))&&(t=zc,zc=n,null!==t&&al(t)),e}function al(e){null===zc?zc=e:zc.push.apply(zc,e)}function cl(e,t){for(t&=~Uc,t&=~jc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Nc))throw Error(s(327));El();var t=dt(e,0);if(0===(1&t))return il(e,Xe()),null;var n=yl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Mc,fl(e,0),cl(e,t),il(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sl(e,zc,Wc),il(e,Xe()),null}function ul(e,t){var n=Nc;Nc|=1;try{return e(t)}finally{0===(Nc=n)&&(qc=Xe()+500,Ui&&Bi())}}function hl(e){null!==Yc&&0===Yc.tag&&0===(6&Nc)&&El();var t=Nc;Nc|=1;var n=Cc.transition,r=wt;try{if(Cc.transition=null,wt=1,e)return e()}finally{wt=r,Cc.transition=n,0===(6&(Nc=t))&&Bi()}}function dl(){Rc=Dc.current,Ti(Dc)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Oc)for(n=Oc.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Ti(Ni),Ti(Ci),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ti(ao);break;case 10:Ss(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Ac=e,Oc=e=Dl(e.current,null),Pc=Rc=t,Lc=0,Mc=null,Uc=jc=Fc=0,zc=Vc=null,null!==ks){for(t=0;t<ks.length;t++)if(null!==(r=(n=ks[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}ks=null}return e}function pl(e,t){for(;;){var n=Oc;try{if(_s(),ho.current=oa,vo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}vo=!1}if(po=0,yo=go=mo=null,wo=!1,bo=0,xc.current=null,null===n||null===n.return){Lc=1,Mc=t,Oc=null;break}e:{var o=e,a=n.return,c=n,l=t;if(t=Pc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,h=c,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,va(p,a,c,0,t),1&p.mode&&ga(o,u,t),l=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){ga(o,u,t),gl();break e}l=Error(s(426))}else if(is&&1&c.mode){var y=ya(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),va(y,a,c,0,t),ps(ua(l,c));break e}}o=l=ua(l,c),4!==Lc&&(Lc=2),null===Vc?Vc=[o]:Vc.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,pa(0,l,t));break e;case 1:c=l;var v=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Hc||!Hc.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,ma(o,c,t));break e}}o=o.return}while(null!==o)}_l(n)}catch(b){t=b,Oc===n&&null!==n&&(Oc=n=n.return);continue}break}}function ml(){var e=kc.current;return kc.current=oa,null===e?oa:e}function gl(){0!==Lc&&3!==Lc&&2!==Lc||(Lc=4),null===Ac||0===(268435455&Fc)&&0===(268435455&jc)||cl(Ac,Pc)}function yl(e,t){var n=Nc;Nc|=2;var r=ml();for(Ac===e&&Pc===t||(Wc=null,fl(e,t));;)try{vl();break}catch(i){pl(e,i)}if(_s(),Nc=n,kc.current=r,null!==Oc)throw Error(s(261));return Ac=null,Pc=0,Lc}function vl(){for(;null!==Oc;)bl(Oc)}function wl(){for(;null!==Oc&&!Ye();)bl(Oc)}function bl(e){var t=Ic(e.alternate,e,Rc);e.memoizedProps=e.pendingProps,null===t?_l(e):Oc=t,xc.current=null}function _l(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Rc)))return void(Oc=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Oc=n);if(null===e)return Lc=6,void(Oc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Oc=t);Oc=t=e}while(null!==t);0===Lc&&(Lc=5)}function Sl(e,t,n){var r=wt,i=Cc.transition;try{Cc.transition=null,wt=1,function(e,t,n,r){do{El()}while(null!==Yc);if(0!==(6&Nc))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Ac&&(Oc=Ac=null,Pc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qc||(Qc=!0,Al(tt,(function(){return El(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cc.transition,Cc.transition=null;var a=wt;wt=1;var c=Nc;Nc|=4,xc.current=null,function(e,t){if(ei=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var a=0,c=-1,l=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(c=a+i),d!==o||0!==r&&3!==d.nodeType||(l=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(c=a),f===o&&++h===r&&(l=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(_){Tl(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nc,nc=!1}(e,n),yc(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,wc(n,e,i),$e(),Nc=c,wt=a,Cc.transition=o}else e.current=n;if(Qc&&(Qc=!1,Yc=e,$c=i),o=e.pendingLanes,0===o&&(Hc=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kc)throw Kc=!1,e=Gc,Gc=null,e;0!==(1&$c)&&0!==e.tag&&El(),o=e.pendingLanes,0!==(1&o)?e===Jc?Xc++:(Xc=0,Jc=e):Xc=0,Bi()}(e,t,n,r)}finally{Cc.transition=i,wt=r}return null}function El(){if(null!==Yc){var e=bt($c),t=Cc.transition,n=wt;try{if(Cc.transition=null,wt=16>e?16:e,null===Yc)var r=!1;else{if(e=Yc,Yc=null,$c=0,0!==(6&Nc))throw Error(s(331));var i=Nc;for(Nc|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var c=o.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:rc(8,h,o)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(oc(h),h===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:rc(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Za=v;break e}Za=o.return}}var w=e.current;for(Za=w;null!==Za;){var b=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Za=b;else e:for(a=w;null!==Za;){if(0!==(2048&(c=Za).flags))try{switch(c.tag){case 0:case 11:case 15:ic(9,c)}}catch(S){Tl(c,c.return,S)}if(c===a){Za=null;break e}var _=c.sibling;if(null!==_){_.return=c.return,Za=_;break e}Za=c.return}}if(Nc=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{wt=n,Cc.transition=t}}return!1}function Il(e,t,n){e=Ds(e,t=pa(0,t=ua(n,t),1),1),t=tl(),null!==e&&(yt(e,1,t),il(e,t))}function Tl(e,t,n){if(3===e.tag)Il(e,e,n);else for(;null!==t;){if(3===t.tag){Il(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hc||!Hc.has(r))){t=Ds(t,e=ma(t,e=ua(n,e),1),1),e=tl(),null!==t&&(yt(t,1,e),il(t,e));break}}t=t.return}}function kl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Ac===e&&(Pc&n)===n&&(4===Lc||3===Lc&&(130023424&Pc)===Pc&&500>Xe()-Bc?fl(e,0):Uc|=n),il(e,t)}function xl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tl();null!==(e=Ns(e,t))&&(yt(e,t,n),il(e,n))}function Cl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xl(e,n)}function Nl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),xl(e,n)}function Al(e,t){return He(e,t)}function Ol(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(e,t,n,r){return new Ol(e,t,n,r)}function Rl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Rl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return Ml(n.children,i,o,t);case I:a=8,i|=8;break;case T:return(e=Pl(12,n,t,2|i)).elementType=T,e.lanes=o,e;case N:return(e=Pl(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Pl(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return Fl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case x:a=9;break e;case C:a=11;break e;case O:a=14;break e;case P:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pl(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ml(e,t,n,r){return(e=Pl(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=Pl(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function jl(e,t,n){return(e=Pl(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zl(e,t,n,r,i,s,o,a,c){return e=new Vl(e,t,n,a,c),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pl(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Os(s),e}function Bl(e){if(!e)return xi;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function ql(e,t,n,r,i,s,o,a,c){return(e=zl(n,r,!0,e,0,s,0,a,c)).context=Bl(null),n=e.current,(s=Rs(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Ds(n,s,i),e.current.lanes=i,yt(e,i,r),il(e,r),e}function Wl(e,t,n,r){var i=t.current,s=tl(),o=nl(i);return n=Bl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Rs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ds(i,t,o))&&(rl(e,i,o,s),Ls(e,i,o)),o}function Kl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hl(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}Ic=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),fs();break;case 5:so(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(ys,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ja(e,t,n):(ki(ao,1&ao.current),null!==(e=Ka(e,t,n))?e.sibling:null);ki(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,Ta(e,t,n)}return Ka(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,is&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);Is(t,n),i=Io(null,t,r,e,i,n);var o=To();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Os(t),i.updater=zs,t.stateNode=i,i._reactInternals=t,Ks(t,r,e,n),t=Na(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=gs(r,e),i){case 0:t=xa(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=Sa(null,t,r,e,n);break e;case 14:t=Ea(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Aa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ps(e,t),Fs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Oa(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Oa(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=li(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ka(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&ls(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),ka(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&ls(t),null;case 13:return ja(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$s(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ki(ys,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ni.current){t=Ka(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var c=o.dependencies;if(null!==c){a=o.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Rs(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Es(o.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Es(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Is(t,n),r=r(i=Ts(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),Ea(e,t,r,i=gs(r.type,i),n);case 15:return Ia(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Wa(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Is(t,n),qs(t,r,i),Ks(t,r,i,n),Na(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return Ta(e,t,n)}throw Error(s(156,t.tag))};var Ql="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function $l(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Kl(o);a.call(e)}}Wl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Kl(o);s.call(e)}}var o=ql(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),hl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Kl(c);a.call(e)}}var c=zl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=c,e[pi]=c.current,Br(8===e.nodeType?e.parentNode:e),hl((function(){Wl(t,c,n,r)})),c}(n,t,e,i,r);return Kl(o)}$l.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wl(e,t,null,null)},$l.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hl((function(){Wl(null,e,null,null)})),t[pi]=null}},$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),il(t,Xe()),0===(6&Nc)&&(qc=Xe()+500,Bi()))}break;case 13:hl((function(){var t=Ns(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Hl(e,1)}},St=function(e){if(13===e.tag){var t=Ns(e,134217728);if(null!==t)rl(t,e,134217728,tl());Hl(e,134217728)}},Et=function(e){if(13===e.tag){var t=nl(e),n=Ns(e,t);if(null!==n)rl(n,e,t,tl());Hl(e,t)}},It=function(){return wt},Tt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));H(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=ul,Ne=hl;var tu={usingClientEntryPoint:!1,Events:[wi,bi,_i,ke,xe,ul]},nu={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(s(299));var n=!1,r="",i=Ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return hl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $l(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(s(40));return!!e._reactRootContainer&&(hl((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ul,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},459:(e,t)=>{var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case s:case a:case o:case d:case f:return e;default:switch(e=e&&e.$$typeof){case u:case l:case h:case m:case p:case c:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:(e,t,n)=>{n(459)},374:(e,t,n)=>{var r=n(791),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,s={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!c.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=l,t.jsxs=l},117:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,i)&&!I.hasOwnProperty(i)&&(s[i]=t[i]);var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===s[i]&&(s[i]=c[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:E.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return o=o(c=e),e=""===s?"."+C(c,0):s,_(o)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(x,"$&/")+"/")+e)),t.push(o)),1;if(c=0,s=""===s?".":s+":",_(e))for(var l=0;l<e.length;l++){var u=s+C(a=e[l],l);c+=N(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(a=e.next()).done;)c+=N(a=a.value,t,i,u=s+C(a,l++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)S.call(t,l)&&!I.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{e.exports=n(117)},329:(e,t,n)=>{e.exports=n(374)},315:(e,t,n)=>{t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e);return{getItem:function(e){return new Promise((function(n,r){n(t.getItem(e))}))},setItem:function(e,n){return new Promise((function(r,i){r(t.setItem(e,n))}))},removeItem:function(e){return new Promise((function(n,r){n(t.removeItem(e))}))}}};var r,i=(r=n(184))&&r.__esModule?r:{default:r}},184:(e,t)=>{function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"===typeof self?"undefined":n(self))||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch(i){return!1}return!0}(t)?self[t]:i};var i={getItem:r,setItem:r,removeItem:r}},752:(e,t,n)=>{var r;t.Z=void 0;var i=(0,((r=n(315))&&r.__esModule?r:{default:r}).default)("local");t.Z=i},813:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,c=e[a],l=a+1,u=e[l];if(0>s(c,n))l<i&&0>s(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[a]=n,r=a);else{if(!(l<i&&0>s(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function _(e){if(g=!1,b(e),!m)if(null!==r(l))m=!0,R(S);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(k),k=-1),p=!0;var s=f;try{for(b(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(l)&&i(l),b(n)}else i(l);d=r(l)}if(null!==d)var c=!0;else{var h=r(u);null!==h&&D(_,h.startTime-n),c=!1}return c}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,I=!1,T=null,k=-1,x=5,C=-1;function N(){return!(t.unstable_now()-C<x)}function A(){if(null!==T){var e=t.unstable_now();C=e;var n=!0;try{n=T(!0,e)}finally{n?E():(I=!1,T=null)}}else I=!1}if("function"===typeof w)E=function(){w(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=A,E=function(){P.postMessage(null)}}else E=function(){y(A,0)};function R(e){T=e,I||(I=!0,E())}function D(e,n){k=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(l)&&e===r(u)&&(g?(v(k),k=-1):g=!0,D(_,s-o))):(e.sortIndex=a,n(l,e),m||p||(m=!0,R(S))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{e.exports=n(813)},561:(e,t,n)=>{var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useState,o=r.useEffect,a=r.useLayoutEffect,c=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=s({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return a((function(){i.value=n,i.getSnapshot=t,l(i)&&u({inst:i})}),[e,n,t]),o((function(){return l(i)&&u({inst:i}),e((function(){l(i)&&u({inst:i})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},595:(e,t,n)=>{var r=n(791),i=n(248);var s="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,a=r.useRef,c=r.useEffect,l=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var h=a(null);if(null===h.current){var d={hasValue:!1,value:null};h.current=d}else d=h.current;h=l((function(){function e(e){if(!c){if(c=!0,o=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return a=t}return a=e}if(t=a,s(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,a=n)}var o,a,c=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,i]);var f=o(e,h[0],h[1]);return c((function(){d.hasValue=!0,d.value=f}),[f]),u(f),f}},248:(e,t,n)=>{e.exports=n(561)},327:(e,t,n)=>{e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Talk-cards/",(()=>{var e={};n.r(e),n.d(e,{FirebaseError:()=>Gr,SDK_VERSION:()=>Yi,_DEFAULT_ENTRY_NAME:()=>Fi,_addComponent:()=>zi,_addOrOverwriteComponent:()=>Bi,_apps:()=>Ui,_clearComponents:()=>Gi,_components:()=>Vi,_getProvider:()=>Wi,_registerComponent:()=>qi,_removeServiceInstance:()=>Ki,deleteApp:()=>Zi,getApp:()=>Xi,getApps:()=>Ji,initializeApp:()=>$i,onLog:()=>ts,registerVersion:()=>es,setLogLevel:()=>ns});var t,r=n(791),i=n.t(r,2),s=n(250),o=n(164),a=n.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const l="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,a=s.history,h=t.Pop,m=null,g=y();function y(){return(a.state||{idx:null}).idx}function v(){h=t.Pop;let e=y(),n=null==e?null:e-g;g=e,m&&m({action:h,location:b.location,delta:n})}function w(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:p(e);return u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(c({},a.state,{idx:g}),""));let b={get action(){return h},get location(){return e(s,a)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(l,v),m=e,()=>{s.removeEventListener(l,v),m=null}},createHref:e=>n(s,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){h=t.Push;let i=f(b.location,e,n);r&&r(i,e),g=y()+1;let c=d(i,g),l=b.createHref(i);try{a.pushState(c,"",l)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(l)}o&&m&&m({action:h,location:b.location,delta:1})},replace:function(e,n){h=t.Replace;let i=f(b.location,e,n);r&&r(i,e),g=y();let s=d(i,g),c=b.createHref(i);a.replaceState(s,"",c),o&&m&&m({action:h,location:b.location,delta:0})},go:e=>a.go(e)};return b}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){void 0===n&&(n="/");let r=P(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;let i=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o)s=N(i[o],O(r));return s}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(u(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=F([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),w(e.children,t,c,a)),(null!=e.path||e.index)&&t.push({path:a,score:C(a,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=b(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const _=/^:\w+$/,S=3,E=2,I=1,T=10,k=-2,x=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(x)&&(r+=k),t&&(r+=E),n.filter((e=>!x(e))).reduce(((e,t)=>e+(_.test(t)?S:""===t?I:T)),r)}function N(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},c);if(!l)return null;Object.assign(r,l.params);let u=e.route;s.push({params:r,pathname:F([i,l.pathname]),pathnameBase:j(F([i,l.pathnameBase])),route:u}),"/"!==l.pathnameBase&&(i=F([i,l.pathnameBase]))}return s}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const c=a[n];return e[r]=i&&!c?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return h(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c||"",r),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function O(e){try{return decodeURI(e)}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function L(e){return D(e).map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase))}function M(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=c({},e),u(!i.pathname||!i.pathname.includes("?"),R("?","pathname","search",i)),u(!i.pathname||!i.pathname.includes("#"),R("#","pathname","hash",i)),u(!i.search||!i.search.includes("#"),R("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else if(r){let e=t[t.length-1].replace(/^\//,"").split("/");if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e.pop();i.pathname=t.join("/")}s="/"+e.join("/")}else{let e=t.length-1;if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:U(r),hash:V(i)}}(i,s),h=a&&"/"!==a&&a.endsWith("/"),d=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!h&&!d||(l.pathname+="/"),l}const F=e=>e.join("/").replace(/\/\/+/g,"/"),j=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],q=(new Set(B),["get",...B]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const K=r.createContext(null);const G=r.createContext(null);const H=r.createContext(null);const Q=r.createContext(null);const Y=r.createContext({outlet:null,matches:[],isDataRoute:!1});const $=r.createContext(null);function X(){return null!=r.useContext(Q)}function J(){return X()||u(!1),r.useContext(Q).location}function Z(e){r.useContext(H).static||r.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=r.useContext(Y);return e?function(){let{router:e}=ue(ce.UseNavigateStable),t=de(le.UseNavigateStable),n=r.useRef(!1);Z((()=>{n.current=!0}));let i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},i)))}),[e,t]);return i}():function(){X()||u(!1);let e=r.useContext(K),{basename:t,navigator:n}=r.useContext(H),{matches:i}=r.useContext(Y),{pathname:s}=J(),o=JSON.stringify(L(i)),a=r.useRef(!1);return Z((()=>{a.current=!0})),r.useCallback((function(r,i){if(void 0===i&&(i={}),!a.current)return;if("number"===typeof r)return void n.go(r);let c=M(r,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(c.pathname="/"===c.pathname?t:F([t,c.pathname])),(i.replace?n.replace:n.push)(c,i.state,i)}),[t,n,o,s,e])}()}function te(e,t){let{relative:n}=void 0===t?{}:t,{matches:i}=r.useContext(Y),{pathname:s}=J(),o=JSON.stringify(L(i));return r.useMemo((()=>M(e,JSON.parse(o),s,"path"===n)),[e,o,s,n])}function ne(e,n,i){X()||u(!1);let{navigator:s}=r.useContext(H),{matches:o}=r.useContext(Y),a=o[o.length-1],c=a?a.params:{},l=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let h,d=J();if(n){var f;let e="string"===typeof n?m(n):n;"/"===l||(null==(f=e.pathname)?void 0:f.startsWith(l))||u(!1),h=e}else h=d;let p=h.pathname||"/",g=v(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});let y=ae(g&&g.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:F([l,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:F([l,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,i);return n&&y?r.createElement(Q.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:t.Pop}},y):y}function re(){let e=function(){var e;let t=r.useContext($),n=he(le.UseRouteError),i=de(le.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,null)}const ie=r.createElement(re,null);class se extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?r.createElement(Y.Provider,{value:this.props.routeContext},r.createElement($.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(K);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(Y.Provider,{value:t},i)}function ae(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var s;if(null==(s=n)||!s.errors)return null;e=n.matches}let o=e,a=null==(i=n)?void 0:i.errors;if(null!=a){let e=o.findIndex((e=>e.route.id&&(null==a?void 0:a[e.route.id])));e>=0||u(!1),o=o.slice(0,Math.min(o.length,e+1))}return o.reduceRight(((e,i,s)=>{let c=i.route.id?null==a?void 0:a[i.route.id]:null,l=null;n&&(l=i.route.errorElement||ie);let u=t.concat(o.slice(0,s+1)),h=()=>{let t;return t=c?l:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(oe,{match:i,routeContext:{outlet:e,matches:u,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?r.createElement(se,{location:n.location,revalidation:n.revalidation,component:l,error:c,children:h(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):h()}),null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),le=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(le||{});function ue(e){let t=r.useContext(K);return t||u(!1),t}function he(e){let t=r.useContext(G);return t||u(!1),t}function de(e){let t=function(e){let t=r.useContext(Y);return t||u(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||u(!1),n.route.id}i.startTransition;function fe(e){let{to:t,replace:n,state:i,relative:s}=e;X()||u(!1);let{matches:o}=r.useContext(Y),{pathname:a}=J(),c=ee(),l=M(t,L(o),a,"path"===s),h=JSON.stringify(l);return r.useEffect((()=>c(JSON.parse(h),{replace:n,state:i,relative:s})),[c,h,s,n,i]),null}function pe(e){u(!1)}function me(e){let{basename:n="/",children:i=null,location:s,navigationType:o=t.Pop,navigator:a,static:c=!1}=e;X()&&u(!1);let l=n.replace(/^\/*/,"/"),h=r.useMemo((()=>({basename:l,navigator:a,static:c})),[l,a,c]);"string"===typeof s&&(s=m(s));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:y="default"}=s,v=r.useMemo((()=>{let e=P(d,l);return null==e?null:{location:{pathname:e,search:f,hash:p,state:g,key:y},navigationType:o}}),[l,d,f,p,g,y,o]);return null==v?null:r.createElement(H.Provider,{value:h},r.createElement(Q.Provider,{children:i,value:v}))}function ge(e){let{children:t,location:n}=e;return ne(ye(t),n)}new Promise((()=>{}));r.Component;function ye(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,ye(e.props.children,s));e.type!==pe&&u(!1),e.props.index&&e.props.children&&u(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ye(e.props.children,s)),n.push(o)})),n}function ve(){return ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ve.apply(this,arguments)}function we(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const be=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;const _e=i.startTransition;a.flushSync;function Se(e){let{basename:t,children:n,future:i,window:s}=e,o=r.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),g((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:p(t)}),null,a)));let c=o.current,[l,u]=r.useState({action:c.action,location:c.location}),{v7_startTransition:h}=i||{},d=r.useCallback((e=>{h&&_e?_e((()=>u(e))):u(e)}),[u,h]);return r.useLayoutEffect((()=>c.listen(d)),[c,d]),r.createElement(me,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:c})}const Ee="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=r.forwardRef((function(e,t){let n,{onClick:i,relative:s,reloadDocument:o,replace:a,state:c,target:l,to:h,preventScrollReset:d,unstable_viewTransition:f}=e,m=we(e,be),{basename:g}=r.useContext(H),y=!1;if("string"===typeof h&&Ie.test(h)&&(n=h,Ee))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=P(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:y=!0}catch(b){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;X()||u(!1);let{basename:i,navigator:s}=r.useContext(H),{hash:o,pathname:a,search:c}=te(e,{relative:n}),l=a;return"/"!==i&&(l="/"===a?i:F([i,a])),s.createHref({pathname:l,search:c,hash:o})}(h,{relative:s}),w=function(e,t){let{target:n,replace:i,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:c}=void 0===t?{}:t,l=ee(),u=J(),h=te(e,{relative:a});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:p(u)===p(h);l(e,{replace:n,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:c})}}),[u,l,h,i,s,n,e,o,a,c])}(h,{replace:a,state:c,target:l,preventScrollReset:d,relative:s,unstable_viewTransition:f});return r.createElement("a",ve({},m,{href:n||v,onClick:y||o?i:function(e){i&&i(e),e.defaultPrevented||w(e)},ref:t,target:l}))}));var ke,xe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ke||(ke={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(xe||(xe={}));function Ce(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ne(e){return!!e&&!!e[vt]}function Ae(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===wt}(e)||Array.isArray(e)||!!e[yt]||!!(null===(t=e.constructor)||void 0===t?void 0:t[yt])||Fe(e)||je(e))}function Oe(e,t,n){void 0===n&&(n=!1),0===Pe(e)?(n?Object.keys:bt)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Pe(e){var t=e[vt];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Fe(e)?2:je(e)?3:0}function Re(e,t){return 2===Pe(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function De(e,t){return 2===Pe(e)?e.get(t):e[t]}function Le(e,t,n){var r=Pe(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Me(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Fe(e){return ft&&e instanceof Map}function je(e){return pt&&e instanceof Set}function Ue(e){return e.o||e.t}function Ve(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=_t(e);delete t[vt];for(var n=bt(t),r=0;r<n.length;r++){var i=n[r],s=t[i];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function ze(e,t){return void 0===t&&(t=!1),qe(e)||Ne(e)||!Ae(e)||(Pe(e)>1&&(e.set=e.add=e.clear=e.delete=Be),Object.freeze(e),t&&Oe(e,(function(e,t){return ze(t,!0)}),!0)),e}function Be(){Ce(2)}function qe(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function We(e){var t=St[e];return t||Ce(18,e),t}function Ke(e,t){St[e]||(St[e]=t)}function Ge(){return ht}function He(e,t){t&&(We("Patches"),e.u=[],e.s=[],e.v=t)}function Qe(e){Ye(e),e.p.forEach(Xe),e.p=null}function Ye(e){e===ht&&(ht=e.l)}function $e(e){return ht={p:[],l:ht,h:e,m:!0,_:0}}function Xe(e){var t=e[vt];0===t.i||1===t.i?t.j():t.g=!0}function Je(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||We("ES5").S(t,e,r),r?(n[vt].P&&(Qe(t),Ce(4)),Ae(e)&&(e=Ze(t,e),t.l||tt(t,e)),t.u&&We("Patches").M(n[vt].t,e,t.u,t.s)):e=Ze(t,n,[]),Qe(t),t.u&&t.v(t.u,t.s),e!==gt?e:void 0}function Ze(e,t,n){if(qe(t))return t;var r=t[vt];if(!r)return Oe(t,(function(i,s){return et(e,r,t,i,s,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return tt(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=Ve(r.k):r.o,s=i,o=!1;3===r.i&&(s=new Set(i),i.clear(),o=!0),Oe(s,(function(t,s){return et(e,r,i,t,s,n,o)})),tt(e,i,!1),n&&e.u&&We("Patches").N(r,n,e.u,e.s)}return r.o}function et(e,t,n,r,i,s,o){if(Ne(i)){var a=Ze(e,i,s&&t&&3!==t.i&&!Re(t.R,r)?s.concat(r):void 0);if(Le(n,r,a),!Ne(a))return;e.m=!1}else o&&n.add(i);if(Ae(i)&&!qe(i)){if(!e.h.D&&e._<1)return;Ze(e,i),t&&t.A.l||tt(e,i)}}function tt(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&ze(t,n)}function nt(e,t){var n=e[vt];return(n?Ue(n):e)[t]}function rt(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function it(e){e.P||(e.P=!0,e.l&&it(e.l))}function st(e){e.o||(e.o=Ve(e.t))}function ot(e,t,n){var r=Fe(t)?We("MapSet").F(t,n):je(t)?We("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Ge(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,s=Et;n&&(i=[r],s=It);var o=Proxy.revocable(i,s),a=o.revoke,c=o.proxy;return r.k=c,r.j=a,c}(t,n):We("ES5").J(t,n);return(n?n.A:Ge()).p.push(r),r}function at(e){return Ne(e)||Ce(22,e),function e(t){if(!Ae(t))return t;var n,r=t[vt],i=Pe(t);if(r){if(!r.P&&(r.i<4||!We("ES5").K(r)))return r.t;r.I=!0,n=ct(t,i),r.I=!1}else n=ct(t,i);return Oe(n,(function(t,i){r&&De(r.t,t)===i||Le(n,t,e(i))})),3===i?new Set(n):n}(e)}function ct(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Ve(e)}function lt(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[vt];return Et.get(t,e)},set:function(t){var n=this[vt];Et.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][vt];if(!i.P)switch(i.i){case 5:r(i)&&it(i);break;case 4:n(i)&&it(i)}}}function n(e){for(var t=e.t,n=e.k,r=bt(n),i=r.length-1;i>=0;i--){var s=r[i];if(s!==vt){var o=t[s];if(void 0===o&&!Re(t,s))return!0;var a=n[s],c=a&&a[vt];if(c?c.t!==o:!Me(a,o))return!0}}var l=!!t[vt];return r.length!==bt(t).length+(l?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};Ke("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var s=_t(n);delete s[vt];for(var o=bt(s),a=0;a<o.length;a++){var c=o[a];s[c]=e(c,t||!!s[c].enumerable)}return Object.create(Object.getPrototypeOf(n),s)}(r,t),s={i:r?5:4,A:n?n.A:Ge(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,vt,{value:s,writable:!0}),i},S:function(e,n,i){i?Ne(n)&&n[vt].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[vt];if(n){var i=n.t,s=n.k,o=n.R,a=n.i;if(4===a)Oe(s,(function(t){t!==vt&&(void 0!==i[t]||Re(i,t)?o[t]||e(s[t]):(o[t]=!0,it(n)))})),Oe(i,(function(e){void 0!==s[e]||Re(s,e)||(o[e]=!1,it(n))}));else if(5===a){if(r(n)&&(it(n),o.length=!0),s.length<i.length)for(var c=s.length;c<i.length;c++)o[c]=!1;else for(var l=i.length;l<s.length;l++)o[l]=!0;for(var u=Math.min(s.length,i.length),h=0;h<u;h++)s.hasOwnProperty(h)||(o[h]=!0),void 0===o[h]&&e(s[h])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var ut,ht,dt="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ft="undefined"!=typeof Map,pt="undefined"!=typeof Set,mt="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,gt=dt?Symbol.for("immer-nothing"):((ut={})["immer-nothing"]=!0,ut),yt=dt?Symbol.for("immer-draftable"):"__$immer_draftable",vt=dt?Symbol.for("immer-state"):"__$immer_state",wt=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),bt="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,_t=Object.getOwnPropertyDescriptors||function(e){var t={};return bt(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},St={},Et={get:function(e,t){if(t===vt)return e;var n=Ue(e);if(!Re(n,t))return function(e,t,n){var r,i=rt(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!Ae(r)?r:r===nt(e.t,t)?(st(e),e.o[t]=ot(e.A.h,r,e)):r},has:function(e,t){return t in Ue(e)},ownKeys:function(e){return Reflect.ownKeys(Ue(e))},set:function(e,t,n){var r=rt(Ue(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=nt(Ue(e),t),s=null==i?void 0:i[vt];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Me(n,i)&&(void 0!==n||Re(e.t,t)))return!0;st(e),it(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==nt(e.t,t)||t in e.t?(e.R[t]=!1,st(e),it(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Ue(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){Ce(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ce(12)}},It={};Oe(Et,(function(e,t){It[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),It.deleteProperty=function(e,t){return It.set.call(this,e,t,void 0)},It.set=function(e,t,n){return Et.set.call(this,e[0],t,n,e[0])};var Tt=function(){function e(e){var t=this;this.O=mt,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var s=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return s.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&Ce(6),void 0!==r&&"function"!=typeof r&&Ce(7),Ae(e)){var a=$e(t),c=ot(t,e,void 0),l=!0;try{o=n(c),l=!1}finally{l?Qe(a):Ye(a)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return He(a,r),Je(e,a)}),(function(e){throw Qe(a),e})):(He(a,r),Je(o,a))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===gt&&(o=void 0),t.D&&ze(o,!0),r){var u=[],h=[];We("Patches").M(e,o,u,h),r(u,h)}return o}Ce(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,s=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return[e,r,i]})):[s,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){Ae(e)||Ce(8),Ne(e)&&(e=at(e));var t=$e(this),n=ot(this,e,void 0);return n[vt].C=!0,Ye(t),n},t.finishDraft=function(e,t){var n=(e&&e[vt]).A;return He(n,t),Je(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!mt&&Ce(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=We("Patches").$;return Ne(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),kt=new Tt;kt.produce,kt.produceWithPatches.bind(kt),kt.setAutoFreeze.bind(kt),kt.setUseProxies.bind(kt),kt.applyPatches.bind(kt),kt.createDraft.bind(kt),kt.finishDraft.bind(kt);function xt(e){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xt(e)}function Ct(e){var t=function(e,t){if("object"!==xt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===xt(t)?t:String(t)}function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){var r,i,s;r=e,i=t,s=n[t],(i=Ct(i))in r?Object.defineProperty(r,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[i]=s})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ot(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Pt="function"===typeof Symbol&&Symbol.observable||"@@observable",Rt=function(){return Math.random().toString(36).substring(7).split("").join(".")},Dt={INIT:"@@redux/INIT"+Rt(),REPLACE:"@@redux/REPLACE"+Rt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Rt()}};function Lt(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Mt(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Ot(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Ot(1));return n(Mt)(e,t)}if("function"!==typeof e)throw new Error(Ot(2));var i=e,s=t,o=[],a=o,c=!1;function l(){a===o&&(a=o.slice())}function u(){if(c)throw new Error(Ot(3));return s}function h(e){if("function"!==typeof e)throw new Error(Ot(4));if(c)throw new Error(Ot(5));var t=!0;return l(),a.push(e),function(){if(t){if(c)throw new Error(Ot(6));t=!1,l();var n=a.indexOf(e);a.splice(n,1),o=null}}}function d(e){if(!Lt(e))throw new Error(Ot(7));if("undefined"===typeof e.type)throw new Error(Ot(8));if(c)throw new Error(Ot(9));try{c=!0,s=i(s,e)}finally{c=!1}for(var t=o=a,n=0;n<t.length;n++){(0,t[n])()}return e}return d({type:Dt.INIT}),(r={dispatch:d,subscribe:h,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Ot(10));i=e,d({type:Dt.REPLACE})}})[Pt]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Ot(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[Pt]=function(){return this},e},r}function Ft(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var s,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Dt.INIT}))throw new Error(Ot(12));if("undefined"===typeof n(void 0,{type:Dt.PROBE_UNKNOWN_ACTION()}))throw new Error(Ot(13))}))}(n)}catch(a){s=a}return function(e,t){if(void 0===e&&(e={}),s)throw s;for(var r=!1,i={},a=0;a<o.length;a++){var c=o[a],l=n[c],u=e[c],h=l(u,t);if("undefined"===typeof h){t&&t.type;throw new Error(Ot(14))}i[c]=h,r=r||h!==u}return(r=r||o.length!==Object.keys(e).length)?i:e}}function jt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Ut(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Ot(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},s=t.map((function(e){return e(i)}));return r=jt.apply(void 0,s)(n.dispatch),At(At({},n),{},{dispatch:r})}}}function Vt(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var zt=Vt();zt.withExtraArgument=Vt;const Bt=zt;var qt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wt=function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},Kt=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Gt=Object.defineProperty,Ht=Object.defineProperties,Qt=Object.getOwnPropertyDescriptors,Yt=Object.getOwnPropertySymbols,$t=Object.prototype.hasOwnProperty,Xt=Object.prototype.propertyIsEnumerable,Jt=function(e,t,n){return t in e?Gt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Zt=function(e,t){for(var n in t||(t={}))$t.call(t,n)&&Jt(e,n,t[n]);if(Yt)for(var r=0,i=Yt(t);r<i.length;r++){n=i[r];Xt.call(t,n)&&Jt(e,n,t[n])}return e},en=function(e,t){return Ht(e,Qt(t))},tn=function(e,t,n){return new Promise((function(r,i){var s=function(e){try{a(n.next(e))}catch(t){i(t)}},o=function(e){try{a(n.throw(e))}catch(t){i(t)}},a=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(s,o)};a((n=n.apply(e,t)).next())}))},nn="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?jt:jt.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function rn(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}function sn(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Zt(Zt({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}var on=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return qt(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Kt([void 0],e[0].concat(this)))):new(t.bind.apply(t,Kt([void 0],e.concat(this))))},t}(Array),an=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return qt(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Kt([void 0],e[0].concat(this)))):new(t.bind.apply(t,Kt([void 0],e.concat(this))))},t}(Array);function cn(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,e.actionCreatorCheck,new on);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Bt.withExtraArgument(n.extraArgument)):r.push(Bt));0;return r}(e)}}var ln=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},un=["name","message","stack","code"],hn=function(e,t){this.payload=e,this.meta=t},dn=function(e,t){this.payload=e,this.meta=t},fn=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=un;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=sn(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:en(Zt({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=sn(e+"/pending",(function(e,t,n){return{payload:void 0,meta:en(Zt({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),s=sn(e+"/rejected",(function(e,t,r,i,s){return{payload:i,error:(n&&n.serializeError||fn)(e||"Rejected"),meta:en(Zt({},s||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(a,c,l){var u,h=(null==n?void 0:n.idGenerator)?n.idGenerator(e):ln(),d=new o;function f(e){u=e,d.abort()}var p=function(){return tn(this,null,(function(){var o,p,m,g,y,v;return Wt(this,(function(w){switch(w.label){case 0:return w.trys.push([0,4,,5]),g=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:c,extra:l}),null===(b=g)||"object"!==typeof b||"function"!==typeof b.then?[3,2]:[4,g];case 1:g=w.sent(),w.label=2;case 2:if(!1===g||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,y=new Promise((function(e,t){return d.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:u||"Aborted"})}))})),a(i(h,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:h,arg:e},{getState:c,extra:l}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:a,getState:c,extra:l,requestId:h,signal:d.signal,abort:f,rejectWithValue:function(e,t){return new hn(e,t)},fulfillWithValue:function(e,t){return new dn(e,t)}})).then((function(t){if(t instanceof hn)throw t;return t instanceof dn?r(t.payload,h,e,t.meta):r(t,h,e)}))])];case 3:return m=w.sent(),[3,5];case 4:return v=w.sent(),m=v instanceof hn?s(null,h,e,v.payload,v.meta):s(v,h,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&s.match(m)&&m.meta.condition||a(m),[2,m]}var b}))}))}();return Object.assign(p,{abort:f,requestId:h,arg:e,unwrap:function(){return p.then(pn)}})}}),{pending:i,rejected:s,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function pn(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var mn="listenerMiddleware";sn(mn+"/add"),sn(mn+"/removeAll"),sn(mn+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var gn,yn=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:yn(10);lt();const vn={usuarioEmail:"",usuarioLogado:0};const wn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN":return{...e,usuarioLogado:1,usuarioEmail:t.usuarioEmail};case"LOG_OUT":return{...e,usuarioLogado:0,usuarioEmail:null};default:return e}};var bn="persist:",_n="persist/FLUSH",Sn="persist/REHYDRATE",En="persist/PAUSE",In="persist/PERSIST",Tn="persist/PURGE",kn="persist/REGISTER";function xn(e){return xn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xn(e)}function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function An(e,t,n,r){r.debug;var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(n,!0).forEach((function(t){Nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return e&&"object"===xn(e)&&Object.keys(e).forEach((function(r){"_persist"!==r&&t[r]===n[r]&&(i[r]=e[r])})),i}function On(e){var t,n=e.blacklist||null,r=e.whitelist||null,i=e.transforms||[],s=e.throttle||0,o="".concat(void 0!==e.keyPrefix?e.keyPrefix:bn).concat(e.key),a=e.storage;t=!1===e.serialize?function(e){return e}:"function"===typeof e.serialize?e.serialize:Pn;var c=e.writeFailHandler||null,l={},u={},h=[],d=null,f=null;function p(){if(0===h.length)return d&&clearInterval(d),void(d=null);var e=h.shift(),n=i.reduce((function(t,n){return n.in(t,e,l)}),l[e]);if(void 0!==n)try{u[e]=t(n)}catch(r){console.error("redux-persist/createPersistoid: error serializing state",r)}else delete u[e];0===h.length&&(Object.keys(u).forEach((function(e){void 0===l[e]&&delete u[e]})),f=a.setItem(o,t(u)).catch(g))}function m(e){return(!r||-1!==r.indexOf(e)||"_persist"===e)&&(!n||-1===n.indexOf(e))}function g(e){c&&c(e)}return{update:function(e){Object.keys(e).forEach((function(t){m(t)&&l[t]!==e[t]&&-1===h.indexOf(t)&&h.push(t)})),Object.keys(l).forEach((function(t){void 0===e[t]&&m(t)&&-1===h.indexOf(t)&&void 0!==l[t]&&h.push(t)})),null===d&&(d=setInterval(p,s)),l=e},flush:function(){for(;0!==h.length;)p();return f||Promise.resolve()}}}function Pn(e){return JSON.stringify(e)}function Rn(e){var t,n=e.transforms||[],r="".concat(void 0!==e.keyPrefix?e.keyPrefix:bn).concat(e.key),i=e.storage;e.debug;return t=!1===e.deserialize?function(e){return e}:"function"===typeof e.deserialize?e.deserialize:Dn,i.getItem(r).then((function(e){if(e)try{var r={},i=t(e);return Object.keys(i).forEach((function(e){r[e]=n.reduceRight((function(t,n){return n.out(t,e,i)}),t(i[e]))})),r}catch(s){throw s}}))}function Dn(e){return JSON.parse(e)}function Ln(e){0}function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(n,!0).forEach((function(t){jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Un(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zn(n,!0).forEach((function(t){qn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wn={registry:[],bootstrapped:!1},Kn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kn:return Bn({},e,{registry:[].concat(Vn(e.registry),[t.key])});case Sn:var n=e.registry.indexOf(t.key),r=Vn(e.registry);return r.splice(n,1),Bn({},e,{registry:r,bootstrapped:0===r.length});default:return e}};const Gn=function(e,t){var n=void 0!==e.version?e.version:-1,r=(e.debug,void 0===e.stateReconciler?An:e.stateReconciler),i=e.getStoredState||Rn,s=void 0!==e.timeout?e.timeout:5e3,o=null,a=!1,c=!0,l=function(e){return e._persist.rehydrated&&o&&!c&&o.update(e),e};return function(u,h){var d=u||{},f=d._persist,p=Un(d,["_persist"]);if(h.type===In){var m=!1,g=function(t,n){m||(h.rehydrate(e.key,t,n),m=!0)};if(s&&setTimeout((function(){!m&&g(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))}),s),c=!1,o||(o=On(e)),f)return Fn({},t(p,h),{_persist:f});if("function"!==typeof h.rehydrate||"function"!==typeof h.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(e.key),i(e).then((function(t){var r=e.migrate||function(e,t){return Promise.resolve(e)};r(t,n).then((function(e){g(e)}),(function(e){g(void 0,e)}))}),(function(e){g(void 0,e)})),Fn({},t(p,h),{_persist:{version:n,rehydrated:!1}})}if(h.type===Tn)return a=!0,h.result(function(e){var t=e.storage,n="".concat(void 0!==e.keyPrefix?e.keyPrefix:bn).concat(e.key);return t.removeItem(n,Ln)}(e)),Fn({},t(p,h),{_persist:f});if(h.type===_n)return h.result(o&&o.flush()),Fn({},t(p,h),{_persist:f});if(h.type===En)c=!0;else if(h.type===Sn){if(a)return Fn({},p,{_persist:Fn({},f,{rehydrated:!0})});if(h.key===e.key){var y=t(p,h),v=h.payload,w=Fn({},!1!==r&&void 0!==v?r(v,u,y,e):y,{_persist:Fn({},f,{rehydrated:!0})});return l(w)}}if(!f)return t(u,h);var b=t(p,h);return b===p?u:l(Fn({},b,{_persist:f}))}}({key:"talkcards",storage:n(752).Z},wn),Hn=function(e){var t,n=cn(),r=e||{},i=r.reducer,s=void 0===i?void 0:i,o=r.middleware,a=void 0===o?n():o,c=r.devTools,l=void 0===c||c,u=r.preloadedState,h=void 0===u?void 0:u,d=r.enhancers,f=void 0===d?void 0:d;if("function"===typeof s)t=s;else{if(!rn(s))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Ft(s)}var p=a;"function"===typeof p&&(p=p(n));var m=Ut.apply(void 0,p),g=jt;l&&(g=nn(Zt({trace:!1},"object"===typeof l&&l)));var y=new an(m),v=y;return Array.isArray(f)?v=Kt([m],f):"function"===typeof f&&(v=f(y)),Mt(t,h,g.apply(void 0,v))}({reducer:Gn,middleware:e=>e({serializableCheck:!1})}),Qn=function(e,t,n){var r=n||!1,i=Mt(Kn,Wn,t&&t.enhancer?t.enhancer:void 0),s=function(e){i.dispatch({type:kn,key:e})},o=function(t,n,s){var o={type:Sn,payload:n,err:s,key:t};e.dispatch(o),i.dispatch(o),r&&a.getState().bootstrapped&&(r(),r=!1)},a=Bn({},i,{purge:function(){var t=[];return e.dispatch({type:Tn,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:_n,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:En})},persist:function(){e.dispatch({type:In,register:s,rehydrate:o})}});return t&&t.manualPersist||a.persist(),a}(Hn);var Yn=n(248),$n=n(327);let Xn=function(e){e()};const Jn=()=>Xn,Zn=Symbol.for("react-redux-context"),er="undefined"!==typeof globalThis?globalThis:{};function tr(){var e;if(!r.createContext)return{};const t=null!=(e=er[Zn])?e:er[Zn]=new Map;let n=t.get(r.createContext);return n||(n=r.createContext(null),t.set(r.createContext,n)),n}const nr=tr();function rr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr;return function(){return(0,r.useContext)(e)}}const ir=rr();let sr=()=>{throw new Error("uSES not initialized!")};const or=(e,t)=>e===t;function ar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr;const t=e===nr?ir:rr(e);return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:i=or,stabilityCheck:s,noopCheck:o}="function"===typeof n?{equalityFn:n}:n;const{store:a,subscription:c,getServerState:l,stabilityCheck:u,noopCheck:h}=t(),d=((0,r.useRef)(!0),(0,r.useCallback)({[e.name]:t=>e(t)}[e.name],[e,u,s])),f=sr(c.addNestedSub,a.getState,l||a.getState,d,i);return(0,r.useDebugValue)(f),f}}const cr=ar();n(110),n(900);const lr={notify(){},get:()=>[]};function ur(e,t){let n,r=lr,i=0,s=!1;function o(){l.onStateChange&&l.onStateChange()}function a(){i++,n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){const e=Jn();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}function c(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=lr)}const l={addNestedSub:function(e){a();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),c())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,a())},tryUnsubscribe:function(){s&&(s=!1,c())},getListeners:()=>r};return l}const hr=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?r.useLayoutEffect:r.useEffect;let dr=null;const fr=function(e){let{store:t,context:n,children:i,serverState:s,stabilityCheck:o="once",noopCheck:a="once"}=e;const c=r.useMemo((()=>{const e=ur(t);return{store:t,subscription:e,getServerState:s?()=>s:void 0,stabilityCheck:o,noopCheck:a}}),[t,s,o,a]),l=r.useMemo((()=>t.getState()),[t]);hr((()=>{const{subscription:e}=c;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[c,l]);const u=n||nr;return r.createElement(u.Provider,{value:c},i)};function pr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr;const t=e===nr?ir:rr(e);return function(){const{store:e}=t();return e}}const mr=pr();function gr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr;const t=e===nr?mr:pr(e);return function(){return t().dispatch}}const yr=gr();var vr;function wr(e){return wr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wr(e)}function br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _r(e){return _r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_r(e)}function Sr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Er(e,t){return Er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Er(e,t)}function Ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(e=>{sr=e})($n.useSyncExternalStoreWithSelector),(e=>{dr=e})(Yn.useSyncExternalStore),vr=o.unstable_batchedUpdates,Xn=vr;var Tr=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=function(e,t){return!t||"object"!==wr(t)&&"function"!==typeof t?Sr(e):t}(this,(e=_r(t)).call.apply(e,[this].concat(i))),Ir(Sr(n),"state",{bootstrapped:!1}),Ir(Sr(n),"_unsubscribe",void 0),Ir(Sr(n),"handlePersistorState",(function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally((function(){return n.setState({bootstrapped:!0})})):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Er(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"===typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}])&&br(n.prototype,r),i&&br(n,i),t}(r.PureComponent);Ir(Tr,"defaultProps",{children:null,loading:null});var kr=n(329);const xr=function(){const e=yr();return(0,kr.jsx)("nav",{className:"navbar navbar-expand-lg",children:(0,kr.jsxs)("div",{className:"container-fluid",children:[(0,kr.jsx)(Te,{className:"navbar-brand",to:"/",children:(0,kr.jsx)("img",{src:"https://i.ibb.co/48Dnk3z/1697669419320.png",width:"40",height:"40",alt:""})}),(0,kr.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,kr.jsx)("i",{className:"fa-solid fa-bars text-white"})}),(0,kr.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:[(0,kr.jsxs)("ul",{className:"navbar-nav me-auto mb-lg-0",children:[(0,kr.jsx)("li",{className:"nav-item",children:(0,kr.jsx)(Te,{className:"nav-link",to:"/",children:"Home"})}),cr((e=>e.usuarioLogado))>0?(0,kr.jsx)(kr.Fragment,{children:(0,kr.jsx)("li",{className:"nav-item",children:(0,kr.jsx)(Te,{className:"nav-link",to:"/criarcard",children:"Criar um card"})})}):null]}),(0,kr.jsx)("ul",{className:"navbar-nav d-flex",children:cr((e=>e.usuarioLogado))>0?(0,kr.jsx)(kr.Fragment,{children:(0,kr.jsx)("li",{className:"nav-item nav-link pe-3 logout",onClick:()=>{e({type:"LOG_OUT"})},children:"Sair"})}):(0,kr.jsxs)(kr.Fragment,{children:[(0,kr.jsx)("li",{className:"nav-item",children:(0,kr.jsx)(Te,{className:"nav-link pe-3",to:"/novousuario",children:"Cadastrar"})}),(0,kr.jsx)("li",{className:"nav-item",children:(0,kr.jsx)(Te,{className:"nav-link pe-3",to:"/login",children:"Login"})})]})})]})]})})};const Cr=n.p+"static/media/LOgo.d03123ed3969b0889ac2c36d0b39a994.svg",Nr=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ar={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,l=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|c>>6,d=63&c;a||(d=64,s||(h=64)),r.push(n[l],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Nr(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Or;const c=t<<2|s>>4;if(r.push(c),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Or extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pr=function(e){return function(e){const t=Nr(e);return Ar.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Rr=function(e){try{return Ar.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Dr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Dr(e[n],t[n]));return e}const Lr=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Mr=()=>{try{return Lr()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/Talk-cards",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Rr(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Fr=()=>{var e;return null===(e=Mr())||void 0===e?void 0:e.config};class jr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ur(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Pr(JSON.stringify({alg:"none",type:"JWT"})),Pr(JSON.stringify(s)),""].join(".")}function Vr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function zr(){var e;const t=null===(e=Mr())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Br(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function qr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Wr(){const e=Vr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Kr(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Gr extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hr.prototype.create)}}class Hr{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Qr,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Gr(n,s,t)}}const Qr=/\{\$([^}]+)}/g;function Yr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $r(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Xr(n)&&Xr(s)){if(!$r(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Xr(e){return null!==e&&"object"===typeof e}function Jr(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Zr(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function ei(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ti(e,t){const n=new ni(e,t);return n.subscribe.bind(n)}class ni{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ri),void 0===r.error&&(r.error=ri),void 0===r.complete&&(r.complete=ri);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ri(){}function ii(e){return e&&e._delegate?e._delegate:e}class si{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const oi="[DEFAULT]";class ai{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new jr;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:oi})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===oi?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi;return this.component?this.component.multipleInstances?e:oi:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ci{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ai(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const li=[];var ui;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ui||(ui={}));const hi={debug:ui.DEBUG,verbose:ui.VERBOSE,info:ui.INFO,warn:ui.WARN,error:ui.ERROR,silent:ui.SILENT},di=ui.INFO,fi={[ui.DEBUG]:"log",[ui.VERBOSE]:"log",[ui.INFO]:"info",[ui.WARN]:"warn",[ui.ERROR]:"error"},pi=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=fi[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class mi{constructor(e){this.name=e,this._logLevel=di,this._logHandler=pi,this._userLogHandler=null,li.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ui))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?hi[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ui.DEBUG,...t),this._logHandler(this,ui.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ui.VERBOSE,...t),this._logHandler(this,ui.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ui.INFO,...t),this._logHandler(this,ui.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ui.WARN,...t),this._logHandler(this,ui.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ui.ERROR,...t),this._logHandler(this,ui.ERROR,...t)}}const gi=(e,t)=>t.some((t=>e instanceof t));let yi,vi;const wi=new WeakMap,bi=new WeakMap,_i=new WeakMap,Si=new WeakMap,Ei=new WeakMap;let Ii={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return bi.get(e);if("objectStoreNames"===t)return e.objectStoreNames||_i.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xi(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ti(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(vi||(vi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ci(this),n),xi(wi.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xi(e.apply(Ci(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Ci(this),t,...r);return _i.set(s,t.sort?t.sort():[t]),xi(s)}}function ki(e){return"function"===typeof e?Ti(e):(e instanceof IDBTransaction&&function(e){if(bi.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));bi.set(e,t)}(e),gi(e,yi||(yi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ii):e)}function xi(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(xi(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&wi.set(t,e)})).catch((()=>{})),Ei.set(t,e),t}(e);if(Si.has(e))return Si.get(e);const t=ki(e);return t!==e&&(Si.set(e,t),Ei.set(t,e)),t}const Ci=e=>Ei.get(e);const Ni=["get","getKey","getAll","getAllKeys","count"],Ai=["put","add","delete","clear"],Oi=new Map;function Pi(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Oi.get(t))return Oi.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ai.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ni.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Oi.set(t,s),s}Ii=(e=>({...e,get:(t,n,r)=>Pi(t,n)||e.get(t,n,r),has:(t,n)=>!!Pi(t,n)||e.has(t,n)}))(Ii);class Ri{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Di="@firebase/app",Li="0.9.23",Mi=new mi("@firebase/app"),Fi="[DEFAULT]",ji={[Di]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ui=new Map,Vi=new Map;function zi(e,t){try{e.container.addComponent(t)}catch(n){Mi.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Bi(e,t){e.container.addOrOverwriteComponent(t)}function qi(e){const t=e.name;if(Vi.has(t))return Mi.debug("There were multiple attempts to register component ".concat(t,".")),!1;Vi.set(t,e);for(const n of Ui.values())zi(n,e);return!0}function Wi(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ki(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fi;Wi(e,t).clearInstance(n)}function Gi(){Vi.clear()}const Hi=new Hr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Qi{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new si("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}const Yi="10.6.0";function $i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Fi,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Hi.create("bad-app-name",{appName:String(i)});if(n||(n=Fr()),!n)throw Hi.create("no-options");const s=Ui.get(i);if(s){if($r(n,s.options)&&$r(r,s.config))return s;throw Hi.create("duplicate-app",{appName:i})}const o=new ci(i);for(const c of Vi.values())o.addComponent(c);const a=new Qi(n,r,o);return Ui.set(i,a),a}function Xi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi;const t=Ui.get(e);if(!t&&e===Fi&&Fr())return $i();if(!t)throw Hi.create("no-app",{appName:e});return t}function Ji(){return Array.from(Ui.values())}async function Zi(e){const t=e.name;Ui.has(t)&&(Ui.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function es(e,t,n){var r;let i=null!==(r=ji[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Mi.warn(e.join(" "))}qi(new si("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function ts(e,t){if(null!==e&&"function"!==typeof e)throw Hi.create("invalid-log-argument");!function(e,t){for(const n of li){let r=null;t&&t.level&&(r=hi[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:ui[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function ns(e){var t;t=e,li.forEach((e=>{e.setLogLevel(t)}))}const rs="firebase-heartbeat-database",is=1,ss="firebase-heartbeat-store";let os=null;function as(){return os||(os=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=xi(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(xi(o.result),e.oldVersion,e.newVersion,xi(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(rs,is,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(ss)}}).catch((e=>{throw Hi.create("idb-open",{originalErrorMessage:e.message})}))),os}async function cs(e,t){try{const n=(await as()).transaction(ss,"readwrite"),r=n.objectStore(ss);await r.put(t,ls(e)),await n.done}catch(n){if(n instanceof Gr)Mi.warn(n.message);else{const e=Hi.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Mi.warn(e.message)}}}function ls(e){return"".concat(e.name,"!").concat(e.options.appId)}class us{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ds(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e;const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=hs();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==n&&!this._heartbeatsCache.heartbeats.some((e=>e.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=hs(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),fs(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fs(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Pr(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function hs(){return(new Date).toISOString().substring(0,10)}class ds{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Kr()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await as();return await t.transaction(ss).objectStore(ss).get(ls(e))}catch(t){if(t instanceof Gr)Mi.warn(t.message);else{const e=Hi.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Mi.warn(e.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return cs(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return cs(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function fs(e){return Pr(JSON.stringify({version:2,heartbeats:e})).length}var ps;ps="",qi(new si("platform-logger",(e=>new Ri(e)),"PRIVATE")),qi(new si("heartbeat",(e=>new us(e)),"PRIVATE")),es(Di,Li,ps),es(Di,Li,"esm2017"),es("fire-js","");class ms{constructor(e,t){this._delegate=e,this.firebase=t,zi(e,new si("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Zi(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fi;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fi;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){zi(this._delegate,e)}_addOrOverwriteComponent(e){Bi(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const gs=new Hr("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const ys=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=$i(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Yr(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:es,setLogLevel:ns,onLog:ts,apps:null,SDK_VERSION:Yi,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(qi(e)&&"PUBLIC"===e.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw gs.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&Dr(o,e.serviceProps),r[s]=o,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Yr(n,e=e||Fi))throw gs.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(ms);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Dr(n,e)},createSubscribe:ti,ErrorFactory:Hr,deepExtend:Dr}),n}(),vs=new mi("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){vs.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&vs.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ws=ys;!function(e){es("@firebase/app-compat","0.2.23",e)}();ws.registerVersion("firebase","10.6.0","app-compat");const bs=ws.initializeApp({apiKey:"AIzaSyCJ6ANKNX_lrD8dCcWFHosrIW7TZUvm-iU",authDomain:"testers-fc6a9.firebaseapp.com",projectId:"testers-fc6a9",storageBucket:"testers-fc6a9.appspot.com",messagingSenderId:"1055386364793",appId:"1:1055386364793:web:4abc06d8bb4f1888531da8"});function _s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Ss={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Es="EMAIL_SIGNIN",Is="PASSWORD_RESET",Ts="RECOVER_EMAIL",ks="REVERT_SECOND_FACTOR_ADDITION",xs="VERIFY_AND_CHANGE_EMAIL",Cs="VERIFY_EMAIL";function Ns(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const As=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Os=Ns,Ps=new Hr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Rs=new mi("@firebase/auth");function Ds(e){if(Rs.logLevel<=ui.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Rs.error("Auth (".concat(Yi,"): ").concat(e),...n)}}function Ls(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Us(e,...n)}function Ms(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Us(e,...n)}function Fs(e,t,n){const r=Object.assign(Object.assign({},Os()),{[t]:n});return new Hr("auth","Firebase",r).create(t,{appName:e.name})}function js(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ls(e,"argument-error"),Fs(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Us(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Ps.create(e,...n)}function Vs(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Us(t,...r)}}function zs(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ds(t),new Error(t)}function Bs(e,t){e||zs(t)}function qs(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ws(){return"http:"===Ks()||"https:"===Ks()}function Ks(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Gs{constructor(e,t){this.shortDelay=e,this.longDelay=t,Bs(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vr())||qr()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ws()||Br()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Hs(e,t){Bs(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Qs{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ys={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$s=new Gs(3e4,6e4);function Xs(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Js(e,t,n,r){return Zs(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Jr(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Qs.fetch()(to(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Zs(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ys),t);try{const t=new ro(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw io(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw io(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw io(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw io(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Fs(e,a,o);Ls(e,a)}}catch(i){if(i instanceof Gr)throw i;Ls(e,"network-request-failed",{message:String(i)})}}async function eo(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Js(e,t,n,r,i);return"mfaPendingCredential"in s&&Ls(e,"multi-factor-auth-required",{_serverResponse:s}),s}function to(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Hs(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function no(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ro{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Ms(this.auth,"network-request-failed"))),$s.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function io(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ms(e,t,r);return i.customData._tokenResponse=n,i}function so(e){return void 0!==e&&void 0!==e.getResponse}function oo(e){return void 0!==e&&void 0!==e.enterprise}class ao{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return no(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function co(e,t){return Js(e,"GET","/v2/recaptchaConfig",Xs(e,t))}function lo(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function uo(e){return 1e3*Number(e)}function ho(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Ds("JWT malformed, contained fewer than 3 sections"),null;try{const e=Rr(n);return e?JSON.parse(e):(Ds("Failed to decode base64 JWT payload"),null)}catch(i){return Ds("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function fo(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Gr&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class po{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class mo{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=lo(this.lastLoginAt),this.creationTime=lo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function go(e){var t;const n=e.auth,r=await e.getIdToken(),i=await fo(e,async function(e,t){return Js(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Vs(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=_s(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,o),c=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!c&&l,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new mo(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,h)}class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Vs(e.idToken,"internal-error"),Vs("undefined"!==typeof e.idToken,"internal-error"),Vs("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=ho(e);return Vs(t,"internal-error"),Vs("undefined"!==typeof t.exp,"internal-error"),Vs("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Vs(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Zs(e,{},(async()=>{const n=Jr({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=to(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Qs.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new yo;return n&&(Vs("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Vs("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Vs("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return zs("not implemented")}}function vo(e,t){Vs("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class wo{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=_s(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new po(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new mo(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await fo(this,this.stsTokenManager.getToken(this.auth,e));return Vs(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ii(e),r=await n.getIdToken(t),i=ho(r);Vs(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:lo(uo(i.auth_time)),issuedAtTime:lo(uo(i.iat)),expirationTime:lo(uo(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ii(e);await go(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Vs(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Vs(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await go(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await fo(this,async function(e,t){return Js(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:S}=t;Vs(v&&S,e,"internal-error");const E=yo.fromJSON(this.name,S);Vs("string"===typeof v,e,"internal-error"),vo(u,e.name),vo(h,e.name),Vs("boolean"===typeof w,e,"internal-error"),Vs("boolean"===typeof b,e,"internal-error"),vo(d,e.name),vo(f,e.name),vo(p,e.name),vo(m,e.name),vo(g,e.name),vo(y,e.name);const I=new wo({uid:v,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(I.providerData=_.map((e=>Object.assign({},e)))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new yo;r.updateFromServerResponse(t);const i=new wo({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await go(i),i}}const bo=new Map;function _o(e){Bs(e instanceof Function,"Expected a class definition");let t=bo.get(e);return t?(Bs(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,bo.set(e,t),t)}class So{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}So.type="NONE";const Eo=So;function Io(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class To{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Io(this.userKey,r.apiKey,i),this.fullPersistenceKey=Io("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?wo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new To(_o(Eo),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||_o(Eo);const s=Io(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(s);if(t){const n=wo._fromJSON(e,t);l!==i&&(o=n),i=l;break}}catch(c){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(c){}}))),new To(i,e,n)):new To(i,e,n)}}function ko(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ao(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xo(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Po(t))return"Blackberry";if(Ro(t))return"Webos";if(Co(t))return"Safari";if((t.includes("chrome/")||No(t))&&!t.includes("edge/"))return"Chrome";if(Oo(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function xo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr();return/firefox\//i.test(e)}function Co(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function No(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr();return/crios\//i.test(e)}function Ao(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr();return/iemobile/i.test(e)}function Oo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr();return/android/i.test(e)}function Po(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr();return/blackberry/i.test(e)}function Ro(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr();return/webos/i.test(e)}function Do(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Lo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr();return Do(e)||Oo(e)||Ro(e)||Po(e)||/windows phone/i.test(e)||Ao(e)}function Mo(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ko(Vr());break;case"Worker":t="".concat(ko(Vr()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Yi,"/").concat(r)}class Fo{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(Ge){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class jo{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Uo{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zo(this),this.idTokenSubscription=new zo(this),this.beforeStateQueue=new Fo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ps,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_o(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await To.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Vs(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await go(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?ii(e):null;return t&&Vs(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Vs(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(_o(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Js(e,"GET","/v2/passwordPolicy",Xs(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new jo(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hr("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Js(e,"POST","/v2/accounts:revokeToken",Xs(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_o(e)||this._popupRedirectResolver;Vs(t,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[_o(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Vs(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Vs(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Rs.logLevel<=ui.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Rs.warn("Auth (".concat(Yi,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Vo(e){return ii(e)}class zo{constructor(e){this.auth=e,this.observer=null,this.addObserver=ti((e=>this.observer=e))}get next(){return Vs(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Bo(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ms("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function qo(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Wo{constructor(e){this.type="recaptcha-enterprise",this.auth=Vo(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;oo(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{co(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new ao(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&oo(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Bo("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Ko(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Wo(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Go(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ko(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Ko(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Ho(e,t,n){const r=Vo(e);Vs(r._canInitEmulator,r,"emulator-config-failed"),Vs(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Qo(t),{host:o,port:a}=function(e){const t=Qo(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Yo(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Yo(t)}}}(t),c=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Qo(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Yo(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class $o{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zs("not implemented")}_getIdTokenResponse(e){return zs("not implemented")}_linkToIdToken(e,t){return zs("not implemented")}_getReauthenticationResolver(e){return zs("not implemented")}}async function Xo(e,t){return Js(e,"POST","/v1/accounts:resetPassword",Xs(e,t))}async function Jo(e,t){return Js(e,"POST","/v1/accounts:signUp",t)}async function Zo(e,t){return eo(e,"POST","/v1/accounts:signInWithPassword",Xs(e,t))}async function ea(e,t){return Js(e,"POST","/v1/accounts:sendOobCode",Xs(e,t))}async function ta(e,t){return ea(e,t)}async function na(e,t){return ea(e,t)}class ra extends $o{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ra(e,t,"password")}static _fromEmailAndCode(e,t){return new ra(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Go(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Zo);case"emailLink":return async function(e,t){return eo(e,"POST","/v1/accounts:signInWithEmailLink",Xs(e,t))}(e,{email:this._email,oobCode:this._password});default:Ls(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Go(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Jo);case"emailLink":return async function(e,t){return eo(e,"POST","/v1/accounts:signInWithEmailLink",Xs(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ls(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ia(e,t){return eo(e,"POST","/v1/accounts:signInWithIdp",Xs(e,t))}class sa extends $o{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ls("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=_s(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new sa(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return ia(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ia(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ia(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jr(t)}return e}}const oa={USER_NOT_FOUND:"user-not-found"};class aa extends $o{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new aa({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new aa({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return eo(e,"POST","/v1/accounts:signInWithPhoneNumber",Xs(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await eo(e,"POST","/v1/accounts:signInWithPhoneNumber",Xs(e,t));if(n.temporaryProof)throw io(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return eo(e,"POST","/v1/accounts:signInWithPhoneNumber",Xs(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),oa)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new aa({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ca{constructor(e){var t,n,r,i,s,o;const a=Zr(ei(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Vs(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Zr(ei(e)).link,n=t?Zr(ei(t)).deep_link_id:null,r=Zr(ei(e)).deep_link_id;return(r?Zr(ei(r)).link:null)||r||n||t||e}(e);try{return new ca(t)}catch(n){return null}}}class la{constructor(){this.providerId=la.PROVIDER_ID}static credential(e,t){return ra._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ca.parseLink(t);return Vs(n,"argument-error"),ra._fromEmailAndCode(e,n.code,n.tenantId)}}la.PROVIDER_ID="password",la.EMAIL_PASSWORD_SIGN_IN_METHOD="password",la.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ua{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ha extends ua{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class da extends ha{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Vs("providerId"in t&&"signInMethod"in t,"argument-error"),sa._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Vs(e.idToken||e.accessToken,"argument-error"),sa._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return da.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return da.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=t;if(!r&&!i&&!n&&!s)return null;if(!a)return null;try{return new da(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch(c){return null}}}class fa extends ha{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return fa.credential(t.oauthAccessToken)}catch(n){return null}}}fa.FACEBOOK_SIGN_IN_METHOD="facebook.com",fa.PROVIDER_ID="facebook.com";class pa extends ha{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return sa._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return pa.credential(n,r)}catch(i){return null}}}pa.GOOGLE_SIGN_IN_METHOD="google.com",pa.PROVIDER_ID="google.com";class ma extends ha{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ma.credential(t.oauthAccessToken)}catch(n){return null}}}ma.GITHUB_SIGN_IN_METHOD="github.com",ma.PROVIDER_ID="github.com";class ga extends $o{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return ia(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ia(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ia(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new ga(n,i):null}static _create(e,t){return new ga(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ya extends ua{constructor(e){Vs(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return ya.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return ya.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=ga.fromJSON(e);return Vs(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return ga._create(r,n)}catch(i){return null}}}class va extends ha{constructor(){super("twitter.com")}static credential(e,t){return sa._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return va.credential(n,r)}catch(i){return null}}}async function wa(e,t){return eo(e,"POST","/v1/accounts:signUp",Xs(e,t))}va.TWITTER_SIGN_IN_METHOD="twitter.com",va.PROVIDER_ID="twitter.com";class ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await wo._fromIdTokenResponse(e,n,r),s=_a(n);return new ba({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=_a(n);return new ba({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function _a(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Sa extends Gr{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Sa.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Sa(e,t,n,r)}}function Ea(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Sa._fromErrorAndOperation(e,n,t,r);throw n}))}function Ia(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Ta(e,t){const n=ii(e);await xa(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Js(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Ia(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function ka(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await fo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ba._forOperation(e,"link",r)}async function xa(e,t,n){await go(t);const r=!1===e?"provider-already-linked":"no-such-provider";Vs(Ia(t.providerData).has(n)===e,t.auth,r)}async function Ca(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await fo(e,Ea(r,i,t,e),n);Vs(s.idToken,r,"internal-error");const o=ho(s.idToken);Vs(o,r,"internal-error");const{sub:a}=o;return Vs(e.uid===a,r,"user-mismatch"),ba._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&Ls(r,"user-mismatch"),s}}async function Na(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Ea(e,r,t),s=await ba._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Aa(e,t){return Na(Vo(e),t)}async function Oa(e,t){const n=ii(e);return await xa(!1,n,t.providerId),ka(n,t)}async function Pa(e,t){return Ca(ii(e),t)}async function Ra(e,t){const n=Vo(e),r=await async function(e,t){return eo(e,"POST","/v1/accounts:signInWithCustomToken",Xs(e,t))}(n,{token:t,returnSecureToken:!0}),i=await ba._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Da{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?La._fromServerResponse(e,t):"totpInfo"in t?Ma._fromServerResponse(e,t):Ls(e,"internal-error")}}class La extends Da{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new La(t)}}class Ma extends Da{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Ma(t)}}function Fa(e,t,n){var r;Vs((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Vs("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Vs(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Vs(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function ja(e){const t=Vo(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ua(e,t){await async function(e,t){return Js(e,"POST","/v1/accounts:update",Xs(e,t))}(ii(e),{oobCode:t})}async function Va(e,t){const n=ii(e),r=await Xo(n,{oobCode:t}),i=r.requestType;switch(Vs(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Vs(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Vs(r.mfaInfo,n,"internal-error");default:Vs(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Da._fromServerResponse(Vo(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function za(e,t){const n={identifier:t,continueUri:Ws()?qs():"http://localhost"},{signinMethods:r}=await async function(e,t){return Js(e,"POST","/v1/accounts:createAuthUri",Xs(e,t))}(ii(e),n);return r||[]}async function Ba(e,t){const n=ii(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Fa(n.auth,r,t);const{email:i}=await async function(e,t){return ea(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function qa(e,t,n){const r=ii(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Fa(r.auth,i,n);const{email:s}=await async function(e,t){return ea(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function Wa(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=ii(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await fo(i,async function(e,t){return Js(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}async function Ka(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await fo(e,async function(e,t){return Js(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}class Ga{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Ha extends Ga{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Qa extends Ga{constructor(e,t){super(e,"facebook.com",t)}}class Ya extends Ha{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class $a extends Ga{constructor(e,t){super(e,"google.com",t)}}class Xa extends Ha{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Ja(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=ho(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Ga(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Qa(s,i);case"github.com":return new Ya(s,i);case"google.com":return new $a(s,i);case"twitter.com":return new Xa(s,i,e.screenName||null);case"custom":case"anonymous":return new Ga(s,null);default:return new Ga(s,r,i)}}(n)}class Za{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Za("enroll",e,t)}static _fromMfaPendingCredential(e){return new Za("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Za._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Za._fromIdtoken(e.multiFactorSession.idToken)}return null}}class ec{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Vo(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Da._fromServerResponse(n,e)));Vs(r.mfaPendingCredential,n,"internal-error");const s=Za._fromMfaPendingCredential(r.mfaPendingCredential);return new ec(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await ba._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Vs(t.user,n,"internal-error"),ba._forOperation(t.user,t.operationType,o);default:Ls(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class tc{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Da._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new tc(e)}async getSession(){return Za._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await fo(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await fo(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},Js(r,"POST","/v2/accounts/mfaEnrollment:withdraw",Xs(r,i))));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(s){throw s}var r,i}}const nc=new WeakMap;const rc="__sak";class ic{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rc,"1"),this.storage.removeItem(rc),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class sc extends ic{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Vr();return Co(e)||Do(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Lo(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Wr()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}sc.type="LOCAL";const oc=sc;class ac extends ic{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ac.type="SESSION";const cc=ac;class lc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new lc(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function uc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}lc.receivers=[];class hc{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const c=uc("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function dc(){return window}function fc(){return"undefined"!==typeof dc().WorkerGlobalScope&&"function"===typeof dc().importScripts}const pc="firebaseLocalStorageDb",mc="firebaseLocalStorage",gc="fbase_key";class yc{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function vc(e,t){return e.transaction([mc],t?"readwrite":"readonly").objectStore(mc)}function wc(){const e=indexedDB.open(pc,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(mc,{keyPath:gc})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(mc)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(pc);return new yc(e).toPromise()}(),t(await wc()))}))}))}async function bc(e,t,n){const r=vc(e,!0).put({[gc]:t,value:n});return new yc(r).toPromise()}function _c(e,t){const n=vc(e,!0).delete(t);return new yc(n).toPromise()}class Sc{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await wc()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fc()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lc._getInstance(fc()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new hc(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wc();return await bc(e,rc,"1"),await _c(e,rc),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>bc(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=vc(e,!1).get(t),r=await new yc(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>_c(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=vc(e,!1).getAll();return new yc(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Sc.type="LOCAL";const Ec=Sc;const Ic=1e12;class Tc{constructor(e){this.auth=e,this.counter=Ic,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new kc(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Ic;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Ic;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Ic;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class kc{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Vs(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const xc=qo("rcb"),Cc=new Gs(3e4,6e4);class Nc{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=dc().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Vs(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&so(dc().grecaptcha)?Promise.resolve(dc().grecaptcha):new Promise(((n,r)=>{const i=dc().setTimeout((()=>{r(Ms(e,"network-request-failed"))}),Cc.get());dc()[xc]=()=>{dc().clearTimeout(i),delete dc()[xc];const s=dc().grecaptcha;if(!s||!so(s))return void r(Ms(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};Bo("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Jr({onload:xc,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Ms(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=dc().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ac{async load(e){return new Tc(e)}clearedOneInstance(){}}const Oc="recaptcha",Pc={theme:"light",type:"image"};class Rc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Pc);this.parameters=n,this.type=Oc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vo(e),this.isInvisible="invisible"===this.parameters.size,Vs("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Vs(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ac:new Nc,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Vs(!this.parameters.sitekey,this.auth,"argument-error"),Vs(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Vs("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=dc()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Vs(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Vs(Ws()&&!fc(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Js(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Vs(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Vs(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Dc{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=aa._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Lc(e,t,n){var r;const i=await n.verify();try{let s;if(Vs("string"===typeof i,e,"argument-error"),Vs(n.type===Oc,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Vs("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Js(e,"POST","/v2/accounts/mfaEnrollment:start",Xs(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Vs("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Vs(n,e,"missing-multi-factor-info");const o=await function(e,t){return Js(e,"POST","/v2/accounts/mfaSignIn:start",Xs(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Js(e,"POST","/v1/accounts:sendVerificationCode",Xs(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Mc{constructor(e){this.providerId=Mc.PROVIDER_ID,this.auth=Vo(e)}verifyPhoneNumber(e,t){return Lc(this.auth,e,ii(t))}static credential(e,t){return aa._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Mc.credentialFromTaggedObject(t)}static credentialFromError(e){return Mc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?aa._fromTokenResponse(n,r):null}}function Fc(e,t){return t?_o(t):(Vs(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Mc.PROVIDER_ID="phone",Mc.PHONE_SIGN_IN_METHOD="phone";class jc extends $o{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ia(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ia(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Uc(e){return Na(e.auth,new jc(e),e.bypassAuthState)}function Vc(e){const{auth:t,user:n}=e;return Vs(n,t,"internal-error"),Ca(n,new jc(e),e.bypassAuthState)}async function zc(e){const{auth:t,user:n}=e;return Vs(n,t,"internal-error"),ka(n,new jc(e),e.bypassAuthState)}class Bc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Uc;case"linkViaPopup":case"linkViaRedirect":return zc;case"reauthViaPopup":case"reauthViaRedirect":return Vc;default:Ls(this.auth,"internal-error")}}resolve(e){Bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qc=new Gs(2e3,1e4);class Wc extends Bc{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Wc.currentPopupAction&&Wc.currentPopupAction.cancel(),Wc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Vs(e,this.auth,"internal-error"),e}async onExecution(){Bs(1===this.filter.length,"Popup operations only handle one event");const e=uc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Ms(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ms(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,qc.get())};e()}}Wc.currentPopupAction=null;const Kc="pendingRedirect",Gc=new Map;class Hc extends Bc{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Xc(t),r=$c(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Qc(e,t){return $c(e)._set(Xc(t),"true")}function Yc(e,t){Gc.set(e._key(),t)}function $c(e){return _o(e._redirectPersistence)}function Xc(e){return Io(Kc,e.config.apiKey,e.name)}function Jc(e,t,n){return async function(e,t,n){const r=Vo(e);js(e,t,ua),await r._initializationPromise;const i=Fc(r,n);return await Qc(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Zc(e,t,n){return async function(e,t,n){const r=ii(e);js(r.auth,t,ua),await r.auth._initializationPromise;const i=Fc(r.auth,n);await Qc(i,r.auth);const s=await nl(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function el(e,t,n){return async function(e,t,n){const r=ii(e);js(r.auth,t,ua),await r.auth._initializationPromise;const i=Fc(r.auth,n);await xa(!1,r,t.providerId),await Qc(i,r.auth);const s=await nl(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function tl(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Vo(e),i=Fc(r,t),s=new Hc(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function nl(e){const t=uc("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class rl{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!sl(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ms(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(il(e))}saveEventToCache(e){this.cachedEventUids.add(il(e)),this.lastProcessedEventTime=Date.now()}}function il(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function sl(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function ol(e){return Js(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const al=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cl=/^https?/;function ll(e){const t=qs(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!cl.test(n))return!1;if(al.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ul=new Gs(3e4,6e4);function hl(){const e=dc().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let dl=null;function fl(e){return dl=dl||function(e){return new Promise(((t,n)=>{var r,i,s;function o(){hl(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{hl(),n(Ms(e,"network-request-failed"))},timeout:ul.get()})}if(null===(i=null===(r=dc().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=dc().gapi)||void 0===s?void 0:s.load)){const t=qo("iframefcb");return dc()[t]=()=>{gapi.load?o():n(Ms(e,"network-request-failed"))},Bo("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw dl=null,e}))}(e),dl}const pl=new Gs(5e3,15e3),ml="__/auth/iframe",gl="emulator/auth/iframe",yl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wl(e){const t=e.config;Vs(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Hs(t,gl):"https://".concat(e.config.authDomain,"/").concat(ml),r={apiKey:t.apiKey,appName:e.name,v:Yi},i=vl.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Jr(r).slice(1))}const bl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _l{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Sl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},bl),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Vr().toLowerCase();n&&(a=No(l)?"_blank":n),xo(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Do(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new _l(null);const h=window.open(t||"",a,u);Vs(h,e,"popup-blocked");try{h.focus()}catch(d){}return new _l(h)}const El="__/auth/handler",Il="emulator/auth/handler",Tl=encodeURIComponent("fac");async function kl(e,t,n,r,i,s){Vs(e.config.authDomain,e,"auth-domain-config-required"),Vs(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Yi,eventId:i};if(t instanceof ua){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof ha){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=await e._getAppCheckToken(),l=c?"#".concat(Tl,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(El);return Hs(t,Il)}(e),"?").concat(Jr(a).slice(1)).concat(l)}const xl="webStorageSupport";const Cl=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cc,this._completeRedirectFn=tl,this._overrideRedirectResult=Yc}async _openPopup(e,t,n,r){var i;Bs(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Sl(e,await kl(e,t,n,qs(),r),uc())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){dc().location.href=e}(await kl(e,t,n,qs(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Bs(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await fl(e),n=dc().gapi;return Vs(n,e,"internal-error"),t.open({where:document.body,url:wl(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yl,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Ms(e,"network-request-failed"),s=dc().setTimeout((()=>{r(i)}),pl.get());function o(){dc().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}(e),n=new rl(e);return t.register("authEvent",(t=>{Vs(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xl,{type:xl},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[xl];void 0!==i&&t(!!i),Ls(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await ol(e);for(const r of t)try{if(ll(r))return}catch(n){}Ls(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Lo()||Co()||Do()}};class Nl{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return zs("unexpected MultiFactorSessionType")}}}class Al extends Nl{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Al(e)}_finalizeEnroll(e,t,n){return function(e,t){return Js(e,"POST","/v2/accounts/mfaEnrollment:finalize",Xs(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Js(e,"POST","/v2/accounts/mfaSignIn:finalize",Xs(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Ol{constructor(){}static assertion(e){return Al._fromCredential(e)}}Ol.FACTOR_ID="phone";var Pl="@firebase/auth",Rl="1.4.0";class Dl{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Vs(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=Mr())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var Ll;function Ml(){return window}Ll="Browser",qi(new si("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Vs(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:Ll,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mo(Ll)},l=new Uo(r,i,s,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_o);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),qi(new si("auth-internal",(e=>(e=>new Dl(e))(Vo(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),es(Pl,Rl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ll)),es(Pl,Rl,"esm2017");async function Fl(e,t,n){var r;const{BuildInfo:i}=Ml();Bs(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(Bs(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return Do()?o.ibi=i.packageName:Oo()?o.apn=i.packageName:Ls(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,kl(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}function jl(e){const{cordova:t}=Ml();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const Ul=20;class Vl extends rl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function zl(e){const t=await Wl()._get(Kl(e));return t&&await Wl()._remove(Kl(e)),t}function Bl(e,t){var n,r;const i=function(e){const t=Gl(e),n=t.link?decodeURIComponent(t.link):void 0,r=Gl(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Gl(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Gl(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?Ms(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function ql(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Ul;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Wl(){return _o(oc)}function Kl(e){return Io("authEvent",e.config.apiKey,e.name)}function Gl(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Zr(n.join("?"))}const Hl=class{constructor(){this._redirectPersistence=cc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=tl,this._overrideRedirectResult=Yc}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Vl(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Ls(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,c,l,u;const h=Ml();Vs("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Vs("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Vs("function"===typeof(null===(s=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Vs("function"===typeof(null===(c=null===(a=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Vs("function"===typeof(null===(u=null===(l=null===h||void 0===h?void 0:h.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Gc.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:ql(),postBody:null,tenantId:e.tenantId,error:Ms(e,"no-auth-event")}}(e,n,r);await function(e,t){return Wl()._set(Kl(e),t)}(e,s);const o=await Fl(e,s,t);return async function(e,t,n){const{cordova:r}=Ml();let i=()=>{};try{await new Promise(((s,o)=>{let a=null;function c(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function l(){a||(a=window.setTimeout((()=>{o(Ms(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),Oo()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await jl(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Ml(),n={};Do()?n.iosBundleId=t.packageName:Oo()?n.androidPackageName=t.packageName:Ls(e,"operation-not-supported-in-this-environment"),await ol(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Ml(),s=setTimeout((async()=>{await zl(e),t.onEvent(Ql())}),500),o=async n=>{clearTimeout(s);const r=await zl(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=Bl(r,n.url)),t.onEvent(i||Ql())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const a=r,c="".concat(i.packageName.toLowerCase(),"://");Ml().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&o({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}};function Ql(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ms("no-auth-event")}}function Yl(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function $l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr();return!("file:"!==Yl()&&"ionic:"!==Yl()&&"capacitor:"!==Yl()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr();return Wr()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr();return/Edge\/\d+/.test(e)}(e)}function Jl(){try{const e=self.localStorage,t=uc();if(e)return e.setItem(t,"1"),e.removeItem(t),!Xl()||Kr()}catch(e){return Zl()&&Kr()}return!1}function Zl(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function eu(){return("http:"===Yl()||"https:"===Yl()||Br()||$l())&&!(qr()||zr())&&Jl()&&!Zl()}function tu(){return $l()&&"undefined"!==typeof document}const nu={LOCAL:"local",NONE:"none",SESSION:"session"},ru=Vs,iu="persistence";async function su(e){await e._initializationPromise;const t=ou(),n=Io(iu,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function ou(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const au=Vs;class cu{constructor(){this.browserResolver=_o(Cl),this.cordovaResolver=_o(Hl),this.underlyingResolver=null,this._redirectPersistence=cc,this._completeRedirectFn=tl,this._overrideRedirectResult=Yc}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return tu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return au(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!tu()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function lu(e){return e.unwrap()}function uu(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new pu(e,function(e,t){var n;const r=ii(e),i=t;return Vs(t.customData.operationType,r,"argument-error"),Vs(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ec._fromError(r,i)}(e,t))}else if(r){const e=hu(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function hu(e){const{_tokenResponse:t}=e instanceof Gr?e.customData:e;if(!t)return null;if(!(e instanceof Gr)&&"temporaryProof"in t&&"phoneNumber"in t)return Mc.credentialFromResult(e);const n=t.providerId;if(!n||n===Ss.PASSWORD)return null;let r;switch(n){case Ss.GOOGLE:r=pa;break;case Ss.FACEBOOK:r=fa;break;case Ss.GITHUB:r=ma;break;case Ss.TWITTER:r=va;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?ga._create(n,o):sa._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new da(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof Gr?r.credentialFromError(e):r.credentialFromResult(e)}function du(e,t){return t.catch((t=>{throw t instanceof Gr&&uu(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,hu(r)),additionalUserInfo:Ja(e),user:mu.getOrCreate(n)};var r}))}async function fu(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>du(e,n.confirm(t))}}class pu{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return du(lu(this.auth),this.resolver.resolveSignIn(e))}}class mu{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=ii(e);return nc.has(t)||nc.set(t,tc._fromUser(t)),nc.get(t)}(e)}static getOrCreate(e){return mu.USER_MAP.has(e)||mu.USER_MAP.set(e,new mu(e)),mu.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return du(this.auth,Oa(this._delegate,e))}async linkWithPhoneNumber(e,t){return fu(this.auth,async function(e,t,n){const r=ii(e);await xa(!1,r,"phone");const i=await Lc(r.auth,t,ii(n));return new Dc(i,(e=>Oa(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return du(this.auth,async function(e,t,n){const r=ii(e);js(r.auth,t,ua);const i=Fc(r.auth,n);return new Wc(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,cu))}async linkWithRedirect(e){return await su(Vo(this.auth)),el(this._delegate,e,cu)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return du(this.auth,Pa(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return fu(this.auth,async function(e,t,n){const r=ii(e),i=await Lc(r.auth,t,ii(n));return new Dc(i,(e=>Pa(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return du(this.auth,async function(e,t,n){const r=ii(e);js(r.auth,t,ua);const i=Fc(r.auth,n);return new Wc(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,cu))}async reauthenticateWithRedirect(e){return await su(Vo(this.auth)),Zc(this._delegate,e,cu)}sendEmailVerification(e){return Ba(this._delegate,e)}async unlink(e){return await Ta(this._delegate,e),this}updateEmail(e){return function(e,t){return Ka(ii(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Ka(ii(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await ka(ii(e),t)}(this._delegate,e)}updateProfile(e){return Wa(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return qa(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}mu.USER_MAP=new WeakMap;const gu=Vs;class yu{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;gu(n,"invalid-api-key",{appName:e.name}),gu(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?cu:void 0;this._delegate=t.initialize({options:{persistence:wu(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(As),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?mu.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Ho(this._delegate,e,t)}applyActionCode(e){return Ua(this._delegate,e)}checkActionCode(e){return Va(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Xo(ii(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ja(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return du(this._delegate,async function(e,t,n){const r=Vo(e),i=Go(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wa),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ja(e),t})),o=await ba._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return za(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=ca.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){gu(eu(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Vo(e)._initializationPromise,tl(e,t,!1)}(this._delegate,cu);return e?du(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Vo(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=vu(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=vu(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Vo(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){Vs(t.handleCodeInApp,r,"argument-error"),t&&Fa(r,e,t)}(i,n),await Go(r,i,"getOobCode",na)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=Vo(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Fa(r,i,n),await Go(r,i,"getOobCode",ta)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){ru(Object.values(nu).includes(t),e,"invalid-persistence-type"),qr()?ru(t!==nu.SESSION,e,"unsupported-persistence-type"):zr()?ru(t===nu.NONE,e,"unsupported-persistence-type"):Zl()?ru(t===nu.NONE||t===nu.LOCAL&&Kr(),e,"unsupported-persistence-type"):ru(t===nu.NONE||Jl(),e,"unsupported-persistence-type")}(this._delegate,e),e){case nu.SESSION:t=cc;break;case nu.LOCAL:t=await _o(Ec)._isAvailable()?Ec:oc;break;case nu.NONE:t=Eo;break;default:return Ls("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return du(this._delegate,async function(e){var t;const n=Vo(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new ba({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await wa(n,{returnSecureToken:!0}),i=await ba._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return du(this._delegate,Aa(this._delegate,e))}signInWithCustomToken(e){return du(this._delegate,Ra(this._delegate,e))}signInWithEmailAndPassword(e,t){return du(this._delegate,function(e,t,n){return Aa(ii(e),la.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ja(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return du(this._delegate,async function(e,t,n){const r=ii(e),i=la.credentialWithLink(t,n||qs());return Vs(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Aa(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return fu(this._delegate,async function(e,t,n){const r=Vo(e),i=await Lc(r,t,ii(n));return new Dc(i,(e=>Aa(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return gu(eu(),this._delegate,"operation-not-supported-in-this-environment"),du(this._delegate,async function(e,t,n){const r=Vo(e);js(e,t,ua);const i=Fc(r,n);return new Wc(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,cu))}async signInWithRedirect(e){return gu(eu(),this._delegate,"operation-not-supported-in-this-environment"),await su(this._delegate),Jc(this._delegate,e,cu)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Va(ii(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function vu(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&mu.getOrCreate(e)),error:t,complete:n}}function wu(e,t){const n=function(e,t){const n=ou();if(!n)return[];const r=Io(iu,e,t);switch(n.getItem(r)){case nu.NONE:return[Eo];case nu.LOCAL:return[Ec,cc];case nu.SESSION:return[cc];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Ec)||n.push(Ec),"undefined"!==typeof window)for(const r of[oc,cc])n.includes(r)||n.push(r);return n.includes(Eo)||n.push(Eo),n}yu.Persistence=nu;class bu{constructor(){this.providerId="phone",this._delegate=new Mc(lu(ws.auth()))}static credential(e,t){return Mc.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}bu.PHONE_SIGN_IN_METHOD=Mc.PHONE_SIGN_IN_METHOD,bu.PROVIDER_ID=Mc.PROVIDER_ID;const _u=Vs;class Su{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ws.app();var r;_u(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Rc(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var Eu;(Eu=ws).INTERNAL.registerComponent(new si("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new yu(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Es,PASSWORD_RESET:Is,RECOVER_EMAIL:Ts,REVERT_SECOND_FACTOR_ADDITION:ks,VERIFY_AND_CHANGE_EMAIL:xs,VERIFY_EMAIL:Cs}},EmailAuthProvider:la,FacebookAuthProvider:fa,GithubAuthProvider:ma,GoogleAuthProvider:pa,OAuthProvider:da,SAMLAuthProvider:ya,PhoneAuthProvider:bu,PhoneMultiFactorGenerator:Ol,RecaptchaVerifier:Su,TwitterAuthProvider:va,Auth:yu,AuthCredential:$o,Error:Gr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Eu.registerVersion("@firebase/auth-compat","0.4.9");const Iu=function(){const[e,t]=(0,r.useState)(),[n,i]=(0,r.useState)(),[s,o]=(0,r.useState)(),[a,c]=(0,r.useState)(),[l,u]=(0,r.useState)(),[h,d]=(0,r.useState)(),f=yr();return(0,kr.jsxs)(kr.Fragment,{children:[(0,kr.jsx)(xr,{}),(0,kr.jsxs)("div",{className:"login-content d-flex align-items-center my-2 py-lg-5",children:[cr((e=>e.usuarioLogado))>0?(0,kr.jsx)(fe,{to:"/"}):null,(0,kr.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"form-signin mx-auto",children:[(0,kr.jsxs)("div",{className:"text-center mb-4",children:[(0,kr.jsx)("img",{className:"mb-4",src:Cr,alt:"",width:"150",height:"150"}),(0,kr.jsx)("h1",{className:"h3 mb-3 fw-normal fw-bold",children:"Login"})]}),(0,kr.jsxs)("div",{className:"form-floating",children:[(0,kr.jsx)("input",{onChange:e=>t(e.target.value),type:"email",className:"form-control my-2",id:"floatingInput",placeholder:"E-mail"}),(0,kr.jsx)("label",{htmlFor:"floatingInput",children:"Email"})]}),(0,kr.jsxs)("div",{className:"form-floating",children:[(0,kr.jsx)("input",{onChange:e=>i(e.target.value),type:"password",className:"form-control my-2",id:"floatingPassword",placeholder:"Senha"}),(0,kr.jsx)("label",{htmlFor:"floatingPassword",children:"Senha"})]}),a?(0,kr.jsx)("div",{className:"row "+l,children:(0,kr.jsx)("div",{className:"mx-auto spinner-border text-danger mt-3",role:"status"})}):(0,kr.jsx)("input",{onClick:function(){if(c(1),o(null),!e||!n)return c(0),o("erro"),void d("Voc\xea precisa informar o e-mail e senha para fazer o login!");bs.auth().signInWithEmailAndPassword(e,n).then((t=>{u("d-none"),o("sucesso"),setTimeout((()=>{f({type:"LOG_IN",usuarioEmail:e}),c(0)}),2e3)})).catch((e=>{o("erro"),d("Verifique se o usu\xe1rio ou a senha est\xe3o corretos!"),c(0)}))},value:"Logar",className:"btn btn-lg btn-block mt-3 btn-login w-100 text-white",type:"submit"}),(0,kr.jsxs)("div",{className:"msg-login text-center my-3",children:["sucesso"===s&&(0,kr.jsxs)("span",{children:[(0,kr.jsx)("strong",{children:"WoW!"})," Voc\xea est\xe1 conectado! \ud83d\ude0e"]}),"erro"===s&&(0,kr.jsxs)("span",{children:[(0,kr.jsx)("strong",{children:"Ops!"})," ",h," \ud83d\ude22"]})]}),(0,kr.jsxs)("div",{className:"opcoes-login mt-3 text-center",children:[(0,kr.jsx)(Te,{to:"/usuariorecuperarsenha",className:"mx-2",children:"Recuperar senha"}),(0,kr.jsx)("span",{children:"\u2605"}),(0,kr.jsx)(Te,{to:"/novousuario",className:"mx-2",children:"Quero cadastrar"})]})]})]})]})};const Tu=function(){const[e,t]=(0,r.useState)(),[n,i]=(0,r.useState)(),[s,o]=(0,r.useState)(),[a,c]=(0,r.useState)(),[l,u]=(0,r.useState)(),[h,d]=(0,r.useState)(),f=ee();return(0,kr.jsxs)(kr.Fragment,{children:[(0,kr.jsx)(xr,{}),cr((e=>e.usuarioLogado))>0?(0,kr.jsx)(fe,{to:"/"}):null,(0,kr.jsx)("div",{className:"form-cadastro  d-flex align-items-center my-2 py-lg-5",children:(0,kr.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"text-center form-login mx-auto",children:[(0,kr.jsxs)("div",{className:"text-center mb-4",children:[(0,kr.jsx)("img",{className:"mb-4",src:Cr,alt:"",width:"150",height:"150"}),(0,kr.jsx)("h1",{className:"h3 mb-3 fw-normal fw-bold",children:"Cadastro"})]}),(0,kr.jsxs)("div",{className:"form-floating",children:[(0,kr.jsx)("input",{onChange:e=>t(e.target.value),type:"email",className:"form-control my-2",id:"floatingInput",placeholder:"E-mail"}),(0,kr.jsx)("label",{htmlFor:"floatingInput",children:"Email"})]}),(0,kr.jsxs)("div",{className:"form-floating",children:[(0,kr.jsx)("input",{onChange:e=>i(e.target.value),type:"password",className:"form-control my-2",id:"floatingPassword",placeholder:"Senha"}),(0,kr.jsx)("label",{htmlFor:"floatingPassword",children:"Senha"})]}),h?(0,kr.jsx)("div",{className:"spinner-border text-danger mt-3",role:"status"}):(0,kr.jsx)("input",{onClick:function(){if(d(1),o(null),!e||!n)return d(0),o("erro"),void c("Voc\xea precisa informar o e-mail e senha para fazer o cadastro.");bs.auth().createUserWithEmailAndPassword(e,n).then((e=>{u("disabled"),o("sucesso"),d(0),setTimeout((()=>{f("/login")}),2e3)})).catch((e=>{switch(d(0),o("erro"),e.message){case"Firebase: Password should be at least 6 characters (auth/weak-password).":c("A senha deve ter pelo menos 6 caracteres!");break;case"Firebase: The email address is already in use by another account. (auth/email-already-in-use).":c("Este e-mail j\xe1 est\xe1 sendo utilizado por outro usu\xe1rio!");break;case"Firebase: The email address is badly formatted. (auth/invalid-email).":c("O formato do seu email \xe9 inv\xe1lido!");break;default:c("N\xe3o foi poss\xedvel cadastrar. Tente novamente mais tarde!")}}))},type:"submit",value:"Cadastrar",className:"text-white btn btn-lg btn-block mt-3 btn-cadastro w-100 "+l}),(0,kr.jsxs)("div",{className:"msg-login text-black text-center mt-3",children:["sucesso"===s&&(0,kr.jsxs)("span",{children:[(0,kr.jsx)("strong",{children:"WoW!"})," Usu\xe1rio cadastrado com sucesso \ud83d\ude0e"]}),"erro"===s&&(0,kr.jsxs)("span",{children:[(0,kr.jsx)("strong",{children:"Ops!"})," ",a," \ud83d\ude22"]})]})]})})]})};var ku,xu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Cu={},Nu=Nu||{},Au=xu||self;function Ou(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Pu(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ru="closure_uid_"+(1e9*Math.random()>>>0),Du=0;function Lu(e,t,n){return e.call.apply(e.bind,arguments)}function Mu(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Fu(e,t,n){return(Fu=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Lu:Mu).apply(null,arguments)}function ju(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Uu(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Vu(){this.s=this.s,this.o=this.o}Vu.prototype.s=!1,Vu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Ru)&&e[Ru]||(e[Ru]=++Du)}(this)},Vu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zu=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Bu(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function qu(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Ou(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Wu(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Wu.prototype.h=function(){this.defaultPrevented=!0};var Ku=function(){if(!Au.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Au.addEventListener("test",(()=>{}),t),Au.removeEventListener("test",(()=>{}),t)}catch(Me){}return e}();function Gu(e){return/^[\s\xa0]*$/.test(e)}function Hu(){var e=Au.navigator;return e&&(e=e.userAgent)?e:""}function Qu(e){return-1!=Hu().indexOf(e)}function Yu(e){return Yu[" "](e),e}Yu[" "]=function(){};var $u,Xu,Ju=Qu("Opera"),Zu=Qu("Trident")||Qu("MSIE"),eh=Qu("Edge"),th=eh||Zu,nh=Qu("Gecko")&&!(-1!=Hu().toLowerCase().indexOf("webkit")&&!Qu("Edge"))&&!(Qu("Trident")||Qu("MSIE"))&&!Qu("Edge"),rh=-1!=Hu().toLowerCase().indexOf("webkit")&&!Qu("Edge");function ih(){var e=Au.document;return e?e.documentMode:void 0}e:{var sh="",oh=function(){var e=Hu();return nh?/rv:([^\);]+)(\)|;)/.exec(e):eh?/Edge\/([\d\.]+)/.exec(e):Zu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):rh?/WebKit\/(\S+)/.exec(e):Ju?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(oh&&(sh=oh?oh[1]:""),Zu){var ah=ih();if(null!=ah&&ah>parseFloat(sh)){$u=String(ah);break e}}$u=sh}if(Au.document&&Zu){var ch=ih();Xu=ch||(parseInt($u,10)||void 0)}else Xu=void 0;var lh=Xu;function uh(e,t){if(Wu.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(nh){e:{try{Yu(t.nodeName);var i=!0;break e}catch(Le){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:hh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&uh.$.h.call(this)}}Uu(uh,Wu);var hh={2:"touch",3:"pen",4:"mouse"};uh.prototype.h=function(){uh.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var dh="closure_listenable_"+(1e6*Math.random()|0),fh=0;function ph(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++fh,this.fa=this.ia=!1}function mh(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function gh(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function yh(e){const t={};for(const n in e)t[n]=e[n];return t}const vh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wh(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<vh.length;t++)n=vh[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function bh(e){this.src=e,this.g={},this.h=0}function _h(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=zu(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(mh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Sh(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}bh.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Sh(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new ph(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Eh="closure_lm_"+(1e6*Math.random()|0),Ih={};function Th(e,t,n,r,i){if(r&&r.once)return xh(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Th(e,t[s],n,r,i);return null}return n=Dh(n),e&&e[dh]?e.O(t,n,Pu(r)?!!r.capture:!!r,i):kh(e,t,n,!1,r,i)}function kh(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Pu(i)?!!i.capture:!!i,a=Ph(e);if(a||(e[Eh]=a=new bh(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Oh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ku||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ah(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function xh(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)xh(e,t[s],n,r,i);return null}return n=Dh(n),e&&e[dh]?e.P(t,n,Pu(r)?!!r.capture:!!r,i):kh(e,t,n,!0,r,i)}function Ch(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Ch(e,t[s],n,r,i);else r=Pu(r)?!!r.capture:!!r,n=Dh(n),e&&e[dh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Sh(s=e.g[t],n,r,i))&&(mh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Ph(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Sh(t,n,r,i)),(n=-1<e?t[e]:null)&&Nh(n))}function Nh(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[dh])_h(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ah(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ph(t))?(_h(n,e),0==n.h&&(n.src=null,t[Eh]=null)):mh(e)}}}function Ah(e){return e in Ih?Ih[e]:Ih[e]="on"+e}function Oh(e,t){if(e.fa)e=!0;else{t=new uh(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Nh(e),e=n.call(r,t)}return e}function Ph(e){return(e=e[Eh])instanceof bh?e:null}var Rh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dh(e){return"function"===typeof e?e:(e[Rh]||(e[Rh]=function(t){return e.handleEvent(t)}),e[Rh])}function Lh(){Vu.call(this),this.i=new bh(this),this.S=this,this.J=null}function Mh(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Wu(t,e);else if(t instanceof Wu)t.target=t.target||e;else{var i=t;wh(t=new Wu(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Fh(o,r,!0,t)&&i}if(i=Fh(o=t.g=e,r,!0,t)&&i,i=Fh(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Fh(o=t.g=n[s],r,!1,t)&&i}function Fh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&_h(e.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Uu(Lh,Vu),Lh.prototype[dh]=!0,Lh.prototype.removeEventListener=function(e,t,n,r){Ch(this,e,t,n,r)},Lh.prototype.N=function(){if(Lh.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)mh(n[r]);delete t.g[e],t.h--}}this.J=null},Lh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Lh.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var jh=Au.JSON.stringify;function Uh(){var e=Gh;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Vh=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new zh),(e=>e.reset()));class zh{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Bh(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function qh(e){Au.setTimeout((()=>{throw e}),0)}let Wh,Kh=!1,Gh=new class{constructor(){this.h=this.g=null}add(e,t){const n=Vh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Hh=()=>{const e=Au.Promise.resolve(void 0);Wh=()=>{e.then(Qh)}};var Qh=()=>{for(var e;e=Uh();){try{e.h.call(e.g)}catch(Me){qh(Me)}var t=Vh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Kh=!1};function Yh(e,t){Lh.call(this),this.h=e||1,this.g=t||Au,this.j=Fu(this.qb,this),this.l=Date.now()}function $h(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Xh(e,t,n){if("function"===typeof e)n&&(e=Fu(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Fu(e.handleEvent,e)}return 2147483647<Number(t)?-1:Au.setTimeout(e,t||0)}function Jh(e){e.g=Xh((()=>{e.g=null,e.i&&(e.i=!1,Jh(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Uu(Yh,Lh),(ku=Yh.prototype).ga=!1,ku.T=null,ku.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Mh(this,"tick"),this.ga&&($h(this),this.start()))}},ku.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ku.N=function(){Yh.$.N.call(this),$h(this),delete this.g};class Zh extends Vu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Jh(this)}N(){super.N(),this.g&&(Au.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ed(e){Vu.call(this),this.h=e,this.g={}}Uu(ed,Vu);var td=[];function nd(e,t,n,r){Array.isArray(n)||(n&&(td[0]=n.toString()),n=td);for(var i=0;i<n.length;i++){var s=Th(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function rd(e){gh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Nh(e)}),e),e.g={}}function id(){this.g=!0}function sd(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return jh(n)}catch(Ce){return t}}(e,n)+(r?" "+r:"")}))}ed.prototype.N=function(){ed.$.N.call(this),rd(this)},ed.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},id.prototype.Ea=function(){this.g=!1},id.prototype.info=function(){};var od={},ad=null;function cd(){return ad=ad||new Lh}function ld(e){Wu.call(this,od.Ta,e)}function ud(e){const t=cd();Mh(t,new ld(t))}function hd(e,t){Wu.call(this,od.STAT_EVENT,e),this.stat=t}function dd(e){const t=cd();Mh(t,new hd(t,e))}function fd(e,t){Wu.call(this,od.Ua,e),this.size=t}function pd(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Au.setTimeout((function(){e()}),t)}od.Ta="serverreachability",Uu(ld,Wu),od.STAT_EVENT="statevent",Uu(hd,Wu),od.Ua="timingevent",Uu(fd,Wu);var md={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gd={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function yd(){}function vd(e){return e.h||(e.h=e.i())}function wd(){}yd.prototype.h=null;var bd,_d={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Sd(){Wu.call(this,"d")}function Ed(){Wu.call(this,"c")}function Id(){}function Td(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ed(this),this.P=xd,e=th?125:void 0,this.V=new Yh(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new kd}function kd(){this.i=null,this.g="",this.h=!1}Uu(Sd,Wu),Uu(Ed,Wu),Uu(Id,yd),Id.prototype.g=function(){return new XMLHttpRequest},Id.prototype.i=function(){return{}},bd=new Id;var xd=45e3,Cd={},Nd={};function Ad(e,t,n){e.L=1,e.v=Yd(Wd(t)),e.s=n,e.S=!0,Od(e,null)}function Od(e,t){e.G=Date.now(),Ld(e),e.A=Wd(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),lf(n.i,"t",r),e.C=0,n=e.l.J,e.h=new kd,e.g=lp(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Zh(Fu(e.Pa,e,e.g),e.O)),nd(e.U,e.g,"readystatechange",e.nb),t=e.I?yh(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),ud(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Pd(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Rd(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Dd(e,n),r==Nd){4==t&&(e.o=4,dd(14),i=!1),sd(e.j,e.m,null,"[Incomplete Response]");break}if(r==Cd){e.o=4,dd(15),sd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}sd(e.j,e.m,r,null),Vd(e,r)}Pd(e)&&r!=Nd&&r!=Cd&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,dd(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),tp(t),t.M=!0,dd(11))):(sd(e.j,e.m,n,"[Invalid Chunked Response]"),Ud(e),jd(e))}function Dd(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Nd:(n=Number(t.substring(n,r)),isNaN(n)?Cd:(r+=1)+n>t.length?Nd:(t=t.slice(r,r+n),e.C=r+n,t))}function Ld(e){e.Y=Date.now()+e.P,Md(e,e.P)}function Md(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=pd(Fu(e.lb,e),t)}function Fd(e){e.B&&(Au.clearTimeout(e.B),e.B=null)}function jd(e){0==e.l.H||e.J||ip(e.l,e)}function Ud(e){Fd(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,$h(e.V),rd(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Vd(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||gf(n.i,e)))if(!e.K&&gf(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(Ke){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;rp(n),Hf(n)}ep(n),dd(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=pd(Fu(n.ib,n),6e3));if(1>=mf(n.i)&&n.oa){try{n.oa()}catch(Ke){}n.oa=void 0}}else op(n,11)}else if((e.K||n.g==e)&&rp(n),!Gu(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const t=l[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=l[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(yf(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Qd(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=cp(r,r.J?r.pa:null,r.Y),o.K){vf(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(Fd(a),Ld(a)),r.g=o}else Zf(r);0<n.j.length&&Yf(n)}else"stop"!=l[0]&&"close"!=l[0]||op(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?op(n,7):Gf(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}ud()}catch(Ke){}}function zd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ou(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Ou(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Ou(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(ku=Td.prototype).setTimeout=function(e){this.P=e},ku.nb=function(e){e=e.target;const t=this.M;t&&3==Vf(e)?t.l():this.Pa(e)},ku.Pa=function(e){try{if(e==this.g)e:{const u=Vf(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||th||this.g&&(this.h.h||this.g.ja()||zf(this.g)))){this.J||4!=u||7==t||ud(),Fd(this);var n=this.g.da();this.ca=n;t:if(Pd(this)){var r=zf(this.g);e="";var i=r.length,s=4==Vf(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ud(this),jd(this);var o="";break t}this.h.i=new Au.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gu(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,dd(12),Ud(this),jd(this);break e}sd(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vd(this,n)}this.S?(Rd(this,u,o),th&&this.i&&3==u&&(nd(this.U,this.V,"tick",this.mb),this.V.start())):(sd(this.j,this.m,o,null),Vd(this,o)),4==u&&Ud(this),this.i&&!this.J&&(4==u?ip(this.l,this):(this.i=!1,Ld(this)))}else(function(e){const t={};e=(e.g&&2<=Vf(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Gu(e[r]))continue;var n=Bh(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,dd(12)):(this.o=0,dd(13)),Ud(this),jd(this)}}}catch(Re){}},ku.mb=function(){if(this.g){var e=Vf(this.g),t=this.g.ja();this.C<t.length&&(Fd(this),Rd(this,e,t),this.i&&4!=e&&Ld(this))}},ku.cancel=function(){this.J=!0,Ud(this)},ku.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(ud(),dd(17)),Ud(this),this.o=2,jd(this)):Md(this,this.Y-e)};var Bd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qd(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof qd){this.h=e.h,Kd(this,e.j),this.s=e.s,this.g=e.g,Gd(this,e.m),this.l=e.l;var t=e.i,n=new sf;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Hd(this,n),this.o=e.o}else e&&(t=String(e).match(Bd))?(this.h=!1,Kd(this,t[1]||"",!0),this.s=$d(t[2]||""),this.g=$d(t[3]||"",!0),Gd(this,t[4]),this.l=$d(t[5]||"",!0),Hd(this,t[6]||"",!0),this.o=$d(t[7]||"")):(this.h=!1,this.i=new sf(null,this.h))}function Wd(e){return new qd(e)}function Kd(e,t,n){e.j=n?$d(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Gd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Hd(e,t,n){t instanceof sf?(e.i=t,function(e,t){t&&!e.j&&(of(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(af(this,t),lf(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Xd(t,nf)),e.i=new sf(t,e.h))}function Qd(e,t,n){e.i.set(t,n)}function Yd(e){return Qd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function $d(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Xd(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Jd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Jd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}qd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Xd(t,Zd,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Xd(t,Zd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Xd(n,"/"==n.charAt(0)?tf:ef,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Xd(n,rf)),e.join("")};var Zd=/[#\/\?@]/g,ef=/[#\?:]/g,tf=/[#\?]/g,nf=/[#\?@]/g,rf=/#/g;function sf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function of(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function af(e,t){of(e),t=uf(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function cf(e,t){return of(e),t=uf(e,t),e.g.has(t)}function lf(e,t,n){af(e,t),0<n.length&&(e.i=null,e.g.set(uf(e,t),Bu(n)),e.h+=n.length)}function uf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ku=sf.prototype).add=function(e,t){of(this),this.i=null,e=uf(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ku.forEach=function(e,t){of(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},ku.ta=function(){of(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},ku.Z=function(e){of(this);let t=[];if("string"===typeof e)cf(this,e)&&(t=t.concat(this.g.get(uf(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},ku.set=function(e,t){return of(this),this.i=null,cf(this,e=uf(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ku.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},ku.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var hf=class{constructor(e,t){this.g=e,this.map=t}};function df(e){this.l=e||ff,Au.PerformanceNavigationTiming?e=0<(e=Au.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Au.g&&Au.g.Ka&&Au.g.Ka()&&Au.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ff=10;function pf(e){return!!e.h||!!e.g&&e.g.size>=e.j}function mf(e){return e.h?1:e.g?e.g.size:0}function gf(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function yf(e,t){e.g?e.g.add(t):e.h=t}function vf(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function wf(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Bu(e.i)}df.prototype.cancel=function(){if(this.i=wf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var bf=class{stringify(e){return Au.JSON.stringify(e,void 0)}parse(e){return Au.JSON.parse(e,void 0)}};function _f(){this.g=new bf}function Sf(e,t,n){const r=n||"";try{zd(e,(function(e,n){let i=e;Pu(e)&&(i=jh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ef(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(Le){}}function If(e){this.l=e.ec||null,this.j=e.ob||!1}function Tf(e,t){Lh.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=kf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Uu(If,yd),If.prototype.g=function(){return new Tf(this.l,this.j)},If.prototype.i=function(e){return function(){return e}}({}),Uu(Tf,Lh);var kf=0;function xf(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Cf(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Nf(e)}function Nf(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ku=Tf.prototype).open=function(e,t){if(this.readyState!=kf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Nf(this)},ku.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Au).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},ku.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Cf(this)),this.readyState=kf},ku.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Nf(this)),this.g&&(this.readyState=3,Nf(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Au.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xf(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},ku.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Cf(this):Nf(this),3==this.readyState&&xf(this)}},ku.Za=function(e){this.g&&(this.response=this.responseText=e,Cf(this))},ku.Ya=function(e){this.g&&(this.response=e,Cf(this))},ku.ka=function(){this.g&&Cf(this)},ku.setRequestHeader=function(e,t){this.v.append(e,t)},ku.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ku.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Tf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Af=Au.JSON.parse;function Of(e){Lh.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Pf,this.L=this.M=!1}Uu(Of,Lh);var Pf="",Rf=/^https?$/i,Df=["POST","PUT"];function Lf(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Mf(e),jf(e)}function Mf(e){e.F||(e.F=!0,Mh(e,"complete"),Mh(e,"error"))}function Ff(e){if(e.h&&"undefined"!=typeof Nu&&(!e.C[1]||4!=Vf(e)||2!=e.da()))if(e.v&&4==Vf(e))Xh(e.La,0,e);else if(Mh(e,"readystatechange"),4==Vf(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(Bd)[1]||null;!i&&Au.self&&Au.self.location&&(i=Au.self.location.protocol.slice(0,-1)),r=!Rf.test(i?i.toLowerCase():"")}n=r}if(n)Mh(e,"complete"),Mh(e,"success");else{e.m=6;try{var s=2<Vf(e)?e.g.statusText:""}catch(Ce){s=""}e.j=s+" ["+e.da()+"]",Mf(e)}}finally{jf(e)}}}function jf(e,t){if(e.g){Uf(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Mh(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Uf(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Au.clearTimeout(e.A),e.A=null)}function Vf(e){return e.g?e.g.readyState:0}function zf(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Pf:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(We){return null}}function Bf(e){let t="";return gh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function qf(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Bf(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Qd(e,t,n))}function Wf(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kf(e){this.Ga=0,this.j=[],this.l=new id,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wf("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wf("baseRetryDelayMs",5e3,e),this.hb=Wf("retryDelaySeedMs",1e4,e),this.eb=Wf("forwardChannelMaxRetries",2,e),this.xa=Wf("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new df(e&&e.concurrentRequestLimit),this.Ja=new _f,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Gf(e){if(Qf(e),3==e.H){var t=e.W++,n=Wd(e.I);if(Qd(n,"SID",e.K),Qd(n,"RID",t),Qd(n,"TYPE","terminate"),Xf(e,n),(t=new Td(e,e.l,t)).L=2,t.v=Yd(Wd(n)),n=!1,Au.navigator&&Au.navigator.sendBeacon)try{n=Au.navigator.sendBeacon(t.v.toString(),"")}catch(ze){}!n&&Au.Image&&((new Image).src=t.v,n=!0),n||(t.g=lp(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Ld(t)}ap(e)}function Hf(e){e.g&&(tp(e),e.g.cancel(),e.g=null)}function Qf(e){Hf(e),e.u&&(Au.clearTimeout(e.u),e.u=null),rp(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Au.clearTimeout(e.m),e.m=null)}function Yf(e){if(!pf(e.i)&&!e.m){e.m=!0;var t=e.Na;Wh||Hh(),Kh||(Wh(),Kh=!0),Gh.add(t,e),e.C=0}}function $f(e,t){var n;n=t?t.m:e.W++;const r=Wd(e.I);Qd(r,"SID",e.K),Qd(r,"RID",n),Qd(r,"AID",e.V),Xf(e,r),e.o&&e.s&&qf(r,e.o,e.s),n=new Td(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Jf(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),yf(e.i,n),Ad(n,r,t)}function Xf(e,t){e.na&&gh(e.na,(function(e,n){Qd(t,n,e)})),e.h&&zd({},(function(e,n){Qd(t,n,e)}))}function Jf(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Fu(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{Sf(a,e,"req"+n+"_")}catch(yt){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Zf(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Wh||Hh(),Kh||(Wh(),Kh=!0),Gh.add(t,e),e.A=0}}function ep(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=pd(Fu(e.Ma,e),sp(e,e.A)),e.A++,!0)}function tp(e){null!=e.B&&(Au.clearTimeout(e.B),e.B=null)}function np(e){e.g=new Td(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Wd(e.wa);Qd(t,"RID","rpc"),Qd(t,"SID",e.K),Qd(t,"AID",e.V),Qd(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Qd(t,"TO",e.qa),Qd(t,"TYPE","xmlhttp"),Xf(e,t),e.o&&e.s&&qf(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Yd(Wd(t)),n.s=null,n.S=!0,Od(n,e)}function rp(e){null!=e.v&&(Au.clearTimeout(e.v),e.v=null)}function ip(e,t){var n=null;if(e.g==t){rp(e),tp(e),e.g=null;var r=2}else{if(!gf(e.i,t))return;n=t.F,vf(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Mh(r=cd(),new fd(r,n)),Yf(e)}else Zf(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(mf(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=pd(Fu(e.Na,e,t),sp(e,e.C)),e.C++,!0))}(e,t)||2==r&&ep(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:op(e,5);break;case 4:op(e,10);break;case 3:op(e,6);break;default:op(e,2)}}function sp(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function op(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Fu(e.pb,e);n||(n=new qd("//www.google.com/images/cleardot.gif"),Au.location&&"http"==Au.location.protocol||Kd(n,"https"),Yd(n)),function(e,t){const n=new id;if(Au.Image){const r=new Image;r.onload=ju(Ef,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ju(Ef,n,r,"TestLoadImage: error",!1,t),r.onabort=ju(Ef,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ju(Ef,n,r,"TestLoadImage: timeout",!1,t),Au.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else dd(2);e.H=0,e.h&&e.h.za(t),ap(e),Qf(e)}function ap(e){if(e.H=0,e.ma=[],e.h){const t=wf(e.i);0==t.length&&0==e.j.length||(qu(e.ma,t),qu(e.ma,e.j),e.i.i.length=0,Bu(e.j),e.j.length=0),e.h.ya()}}function cp(e,t,n){var r=n instanceof qd?Wd(n):new qd(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Gd(r,r.m);else{var i=Au.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new qd(null);r&&Kd(s,r),t&&(s.g=t),i&&Gd(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Qd(r,n,t),Qd(r,"VER",e.ra),Xf(e,r),r}function lp(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Of(new If({ob:!0})):new Of(e.va)).Oa(e.J),t}function up(){}function hp(){if(Zu&&!(10<=Number(lh)))throw Error("Environmental error: no available transport.")}function dp(e,t){Lh.call(this),this.g=new Kf(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Gu(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Gu(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new mp(this)}function fp(e){Sd.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function pp(){Ed.call(this),this.status=1}function mp(e){this.g=e}function gp(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function yp(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function vp(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(ku=Of.prototype).Oa=function(e){this.M=e},ku.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():bd.g(),this.C=this.u?vd(this.u):vd(bd),this.g.onreadystatechange=Fu(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(Le){return void Lf(this,Le)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Au.FormData&&e instanceof Au.FormData,!(0<=zu(Df,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Uf(this),0<this.B&&((this.L=function(e){return Zu&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fu(this.ua,this)):this.A=Xh(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(Le){Lf(this,Le)}},ku.ua=function(){"undefined"!=typeof Nu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mh(this,"timeout"),this.abort(8))},ku.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Mh(this,"complete"),Mh(this,"abort"),jf(this))},ku.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jf(this,!0)),Of.$.N.call(this)},ku.La=function(){this.s||(this.G||this.v||this.l?Ff(this):this.kb())},ku.kb=function(){Ff(this)},ku.isActive=function(){return!!this.g},ku.da=function(){try{return 2<Vf(this)?this.g.status:-1}catch(De){return-1}},ku.ja=function(){try{return this.g?this.g.responseText:""}catch(De){return""}},ku.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Af(t)}},ku.Ia=function(){return this.m},ku.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(ku=Kf.prototype).ra=8,ku.H=1,ku.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Td(this,this.l,e);let s=this.s;if(this.U&&(s?(s=yh(s),wh(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Jf(this,i,t),Qd(n=Wd(this.I),"RID",e),Qd(n,"CVER",22),this.F&&Qd(n,"X-HTTP-Session-Id",this.F),Xf(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Bf(s)))+"&"+t:this.o&&qf(n,this.o,s)),yf(this.i,i),this.bb&&Qd(n,"TYPE","init"),this.P?(Qd(n,"$req",t),Qd(n,"SID","null"),i.aa=!0,Ad(i,n,null)):Ad(i,n,t),this.H=2}}else 3==this.H&&(e?$f(this,e):0==this.j.length||pf(this.i)||$f(this))},ku.Ma=function(){if(this.u=null,np(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=pd(Fu(this.jb,this),e)}},ku.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,dd(10),Hf(this),np(this))},ku.ib=function(){null!=this.v&&(this.v=null,Hf(this),ep(this),dd(19))},ku.pb=function(e){e?(this.l.info("Successfully pinged google.com"),dd(2)):(this.l.info("Failed to ping google.com"),dd(1))},ku.isActive=function(){return!!this.h&&this.h.isActive(this)},(ku=up.prototype).Ba=function(){},ku.Aa=function(){},ku.za=function(){},ku.ya=function(){},ku.isActive=function(){return!0},ku.Va=function(){},hp.prototype.g=function(e,t){return new dp(e,t)},Uu(dp,Lh),dp.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;dd(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=cp(e,null,e.Y),Yf(e)},dp.prototype.close=function(){Gf(this.g)},dp.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=jh(e),e=n);t.j.push(new hf(t.fb++,e)),3==t.H&&Yf(t)},dp.prototype.N=function(){this.g.h=null,delete this.j,Gf(this.g),delete this.g,dp.$.N.call(this)},Uu(fp,Sd),Uu(pp,Ed),Uu(mp,up),mp.prototype.Ba=function(){Mh(this.g,"a")},mp.prototype.Aa=function(e){Mh(this.g,new fp(e))},mp.prototype.za=function(e){Mh(this.g,new pp)},mp.prototype.ya=function(){Mh(this.g,"b")},Uu(gp,(function(){this.blockSize=-1})),gp.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},gp.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)yp(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){yp(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){yp(this,r),i=0;break}}this.h=i,this.i+=t},gp.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var wp={};function bp(e){return-128<=e&&128>e?function(e,t){var n=wp;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new vp([0|e],0>e?-1:0)})):new vp([0|e],0>e?-1:0)}function _p(e){if(isNaN(e)||!isFinite(e))return Ep;if(0>e)return Cp(_p(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Sp;return new vp(t,0)}var Sp=4294967296,Ep=bp(0),Ip=bp(1),Tp=bp(16777216);function kp(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function xp(e){return-1==e.h}function Cp(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new vp(n,~e.h).add(Ip)}function Np(e,t){return e.add(Cp(t))}function Ap(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Op(e,t){this.g=e,this.h=t}function Pp(e,t){if(kp(t))throw Error("division by zero");if(kp(e))return new Op(Ep,Ep);if(xp(e))return t=Pp(Cp(e),t),new Op(Cp(t.g),Cp(t.h));if(xp(t))return t=Pp(e,Cp(t)),new Op(Cp(t.g),t.h);if(30<e.g.length){if(xp(e)||xp(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Ip,r=t;0>=r.X(e);)n=Rp(n),r=Rp(r);var i=Dp(n,1),s=Dp(r,1);for(r=Dp(r,2),n=Dp(n,2);!kp(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Dp(r,1),n=Dp(n,1)}return t=Np(e,i.R(t)),new Op(i,t)}for(i=Ep;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=_p(n)).R(t);xp(o)||0<o.X(e);)o=(s=_p(n-=r)).R(t);kp(s)&&(s=Ip),i=i.add(s),e=Np(e,o)}return new Op(i,e)}function Rp(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new vp(n,e.h)}function Dp(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new vp(i,e.h)}(ku=vp.prototype).ea=function(){if(xp(this))return-Cp(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Sp+r)*t,t*=Sp}return e},ku.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(kp(this))return"0";if(xp(this))return"-"+Cp(this).toString(e);for(var t=_p(Math.pow(e,6)),n=this,r="";;){var i=Pp(n,t).g,s=((0<(n=Np(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(kp(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},ku.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},ku.X=function(e){return xp(e=Np(this,e))?-1:kp(e)?0:1},ku.abs=function(){return xp(this)?Cp(this):this},ku.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new vp(n,-2147483648&n[n.length-1]?-1:0)},ku.R=function(e){if(kp(this)||kp(e))return Ep;if(xp(this))return xp(e)?Cp(this).R(Cp(e)):Cp(Cp(this).R(e));if(xp(e))return Cp(this.R(Cp(e)));if(0>this.X(Tp)&&0>e.X(Tp))return _p(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,c=65535&e.D(i);n[2*r+2*i]+=o*c,Ap(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Ap(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Ap(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Ap(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new vp(n,0)},ku.gb=function(e){return Pp(this,e).h},ku.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new vp(n,this.h&e.h)},ku.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new vp(n,this.h|e.h)},ku.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new vp(n,this.h^e.h)},hp.prototype.createWebChannel=hp.prototype.g,dp.prototype.send=dp.prototype.u,dp.prototype.open=dp.prototype.m,dp.prototype.close=dp.prototype.close,md.NO_ERROR=0,md.TIMEOUT=8,md.HTTP_ERROR=6,gd.COMPLETE="complete",wd.EventType=_d,_d.OPEN="a",_d.CLOSE="b",_d.ERROR="c",_d.MESSAGE="d",Lh.prototype.listen=Lh.prototype.O,Of.prototype.listenOnce=Of.prototype.P,Of.prototype.getLastError=Of.prototype.Sa,Of.prototype.getLastErrorCode=Of.prototype.Ia,Of.prototype.getStatus=Of.prototype.da,Of.prototype.getResponseJson=Of.prototype.Wa,Of.prototype.getResponseText=Of.prototype.ja,Of.prototype.send=Of.prototype.ha,Of.prototype.setWithCredentials=Of.prototype.Oa,gp.prototype.digest=gp.prototype.l,gp.prototype.reset=gp.prototype.reset,gp.prototype.update=gp.prototype.j,vp.prototype.add=vp.prototype.add,vp.prototype.multiply=vp.prototype.R,vp.prototype.modulo=vp.prototype.gb,vp.prototype.compare=vp.prototype.X,vp.prototype.toNumber=vp.prototype.ea,vp.prototype.toString=vp.prototype.toString,vp.prototype.getBits=vp.prototype.D,vp.fromNumber=_p,vp.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Cp(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=_p(Math.pow(n,8)),i=Ep,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=_p(Math.pow(n,o)),i=i.R(o).add(_p(a))):i=(i=i.R(r)).add(_p(a))}return i};var Lp=Cu.createWebChannelTransport=function(){return new hp},Mp=Cu.getStatEventTarget=function(){return cd()},Fp=Cu.ErrorCode=md,jp=Cu.EventType=gd,Up=Cu.Event=od,Vp=Cu.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},zp=Cu.FetchXmlHttpFactory=If,Bp=Cu.WebChannel=wd,qp=Cu.XhrIo=Of,Wp=Cu.Md5=gp,Kp=Cu.Integer=vp;const Gp="@firebase/firestore";class Hp{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hp.UNAUTHENTICATED=new Hp(null),Hp.GOOGLE_CREDENTIALS=new Hp("google-credentials-uid"),Hp.FIRST_PARTY=new Hp("first-party-uid"),Hp.MOCK_USER=new Hp("mock-user");let Qp="10.5.2";const Yp=new mi("@firebase/firestore");function $p(){return Yp.logLevel}function Xp(e){if(Yp.logLevel<=ui.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(em);Yp.debug("Firestore (".concat(Qp,"): ").concat(e),...i)}}function Jp(e){if(Yp.logLevel<=ui.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(em);Yp.error("Firestore (".concat(Qp,"): ").concat(e),...i)}}function Zp(e){if(Yp.logLevel<=ui.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(em);Yp.warn("Firestore (".concat(Qp,"): ").concat(e),...i)}}function em(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(Ae){return e}}function tm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Qp,") INTERNAL ASSERTION FAILED: ")+e;throw Jp(t),new Error(t)}function nm(e,t){e||tm()}function rm(e,t){return e}const im={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class sm extends Gr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class om{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class am{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class cm{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Hp.UNAUTHENTICATED)))}shutdown(){}}class lm{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class um{constructor(e){this.t=e,this.currentUser=Hp.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new om;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new om,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Xp("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Xp("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new om)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Xp("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(nm("string"==typeof t.accessToken),new am(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return nm(null===e||"string"==typeof e),new Hp(e)}}class hm{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Hp.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class dm{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new hm(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Hp.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pm{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Xp("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Xp("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Xp("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Xp("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(nm("string"==typeof e.token),this.R=e.token,new fm(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function mm(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class gm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=mm(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function ym(e,t){return e<t?-1:e>t?1:0}function vm(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function wm(e){return e+"\0"}class bm{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new sm(im.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new sm(im.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new sm(im.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new sm(im.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bm.fromMillis(Date.now())}static fromDate(e){return bm.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new bm(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ym(this.nanoseconds,e.nanoseconds):ym(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _m{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _m(e)}static min(){return new _m(new bm(0,0))}static max(){return new _m(new bm(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Sm{constructor(e,t,n){void 0===t?t=0:t>e.length&&tm(),void 0===n?n=e.length-t:n>e.length-t&&tm(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Sm.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sm?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Em extends Sm{construct(e,t,n){return new Em(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new sm(im.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Em(e)}static emptyPath(){return new Em([])}}const Im=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tm extends Sm{construct(e,t,n){return new Tm(e,t,n)}static isValidIdentifier(e){return Im.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tm.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Tm(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new sm(im.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new sm(im.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new sm(im.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new sm(im.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tm(t)}static emptyPath(){return new Tm([])}}class km{constructor(e){this.path=e}static fromPath(e){return new km(Em.fromString(e))}static fromName(e){return new km(Em.fromString(e).popFirst(5))}static empty(){return new km(Em.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Em.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Em.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new km(new Em(e.slice()))}}class xm{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Cm(e){return e.fields.find((e=>2===e.kind))}function Nm(e){return e.fields.filter((e=>2!==e.kind))}xm.UNKNOWN_ID=-1;class Am{constructor(e,t){this.fieldPath=e,this.kind=t}}class Om{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Om(0,Dm.min())}}function Pm(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=_m.fromTimestamp(1e9===r?new bm(n+1,0):new bm(n,r));return new Dm(i,km.empty(),t)}function Rm(e){return new Dm(e.readTime,e.key,-1)}class Dm{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Dm(_m.min(),km.empty(),-1)}static max(){return new Dm(_m.max(),km.empty(),-1)}}function Lm(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=km.comparator(e.documentKey,t.documentKey),0!==n?n:ym(e.largestBatchId,t.largestBatchId))}const Mm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function jm(e){if(e.code!==im.FAILED_PRECONDITION||e.message!==Mm)throw e;Xp("LocalStore","Unexpectedly lost primary lease")}class Um{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Um(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Um?t:Um.resolve(t)}catch(e){return Um.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Um.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Um.reject(t)}static resolve(e){return new Um(((t,n)=>{t(e)}))}static reject(e){return new Um(((t,n)=>{n(e)}))}static waitFor(e){return new Um(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Um.resolve(!1);for(const n of e)t=t.next((e=>e?Um.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Um(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{s[c]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Um(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Vm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new om,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new qm(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Qm(t.target.error);this.V.reject(new qm(e,n))}}static open(e,t,n,r){try{return new Vm(t,e.transaction(r,n))}catch(e){throw new qm(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Xp("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Km(t)}}class zm{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===zm.S(Vr())&&Jp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Xp("SimpleDb","Removing database:",e),Gm(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Kr())return!1;if(zm.C())return!0;const e=Vr(),t=zm.S(e),n=0<t&&t<10,r=zm.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/Talk-cards",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Xp("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new qm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new sm(im.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new sm(im.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new qm(e,r))},r.onupgradeneeded=e=>{Xp("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Xp("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=Vm.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Um.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Xp("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Bm{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Gm(this.k.delete())}}class qm extends sm{constructor(e,t){super(im.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Wm(e){return"IndexedDbTransactionError"===e.name}class Km{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Xp("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Xp("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Gm(n)}add(e){return Xp("SimpleDb","ADD",this.store.name,e,e),Gm(this.store.add(e))}get(e){return Gm(this.store.get(e)).next((t=>(void 0===t&&(t=null),Xp("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Xp("SimpleDb","DELETE",this.store.name,e),Gm(this.store.delete(e))}count(){return Xp("SimpleDb","COUNT",this.store.name),Gm(this.store.count())}W(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new Um(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Um(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Xp("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Um(((n,r)=>{t.onerror=e=>{const t=Qm(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Um(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Bm(i),o=t(i.primaryKey,i.value,s);if(o instanceof Um){const e=o.catch((e=>(s.done(),Um.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>Um.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Gm(e){return new Um(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Qm(e.target.error);n(t)}}))}let Hm=!1;function Qm(e){const t=zm.S(Vr());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new sm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Hm||(Hm=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Ym{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){Xp("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Xp("IndexBackiller","Documents written: ".concat(await this.X.te()))}catch(e){Wm(e)?Xp("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await jm(e)}await this.ee(6e4)}))}}class $m{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return Um.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Xp("IndexBackiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(Xp("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Rm(t);Lm(r,n)>0&&(n=r)})),new Dm(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Xm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Jm(e){return null==e}function Zm(e){return 0===e&&1/e==-1/0}function eg(e){return"number"==typeof e&&Number.isInteger(e)&&!Zm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function tg(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=rg(t)),t=ng(e.get(n),t);return rg(t)}function ng(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function rg(e){return e+"\x01\x01"}function ig(e){const t=e.length;if(nm(t>=2),2===t)return nm("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Em.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&tm(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:tm()}s=t+2}return new Em(r)}Xm._e=-1;const sg=["userId","batchId"];function og(e,t){return[e,tg(t)]}function ag(e,t,n){return[e,tg(t),n]}const cg={},lg=["prefixPath","collectionGroup","readTime","documentId"],ug=["prefixPath","collectionGroup","documentId"],hg=["collectionGroup","readTime","prefixPath","documentId"],dg=["canonicalId","targetId"],fg=["targetId","path"],pg=["path","targetId"],mg=["collectionId","parent"],gg=["indexId","uid"],yg=["uid","sequenceNumber"],vg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],wg=["indexId","uid","orderedDocumentKey"],bg=["userId","collectionPath","documentId"],_g=["userId","collectionPath","largestBatchId"],Sg=["userId","collectionGroup","largestBatchId"],Eg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ig=[...Eg,"documentOverlays"],Tg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kg=Tg,xg=[...kg,"indexConfiguration","indexState","indexEntries"];class Cg extends Fm{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Ng(e,t){const n=rm(e);return zm.M(n.ae,t)}function Ag(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Og(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Pg(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Rg{constructor(e,t){this.comparator=e,this.root=t||Lg.EMPTY}insert(e,t){return new Rg(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lg.BLACK,null,null))}remove(e){return new Rg(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lg.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dg(this.root,e,this.comparator,!0)}}class Dg{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lg{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Lg.RED,this.left=null!=r?r:Lg.EMPTY,this.right=null!=i?i:Lg.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Lg(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Lg.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Lg.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lg.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lg.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tm();if(this.right.isRed())throw tm();const e=this.left.check();if(e!==this.right.check())throw tm();return e+(this.isRed()?0:1)}}Lg.EMPTY=null,Lg.RED=!0,Lg.BLACK=!1,Lg.EMPTY=new class{constructor(){this.size=0}get key(){throw tm()}get value(){throw tm()}get color(){throw tm()}get left(){throw tm()}get right(){throw tm()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Lg(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mg{constructor(e){this.comparator=e,this.data=new Rg(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fg(this.data.getIterator())}getIteratorFrom(e){return new Fg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Mg))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Mg(this.comparator);return t.data=e,t}}class Fg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function jg(e){return e.hasNext()?e.getNext():void 0}class Ug{constructor(e){this.fields=e,e.sort(Tm.comparator)}static empty(){return new Ug([])}unionWith(e){let t=new Mg(Tm.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ug(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vm(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Vg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class zg{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Vg("Invalid base64 string: "+e):e}}(e);return new zg(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new zg(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ym(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zg.EMPTY_BYTE_STRING=new zg("");const Bg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qg(e){if(nm(!!e),"string"==typeof e){let t=0;const n=Bg.exec(e);if(nm(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Wg(e.seconds),nanos:Wg(e.nanos)}}function Wg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Kg(e){return"string"==typeof e?zg.fromBase64String(e):zg.fromUint8Array(e)}function Gg(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Hg(e){const t=e.mapValue.fields.__previous_value__;return Gg(t)?Hg(t):t}function Qg(e){const t=qg(e.mapValue.fields.__local_write_time__.timestampValue);return new bm(t.seconds,t.nanos)}class Yg{constructor(e,t,n,r,i,s,o,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=c}}class $g{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $g("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $g&&e.projectId===this.projectId&&e.database===this.database}}const Xg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Jg={nullValue:"NULL_VALUE"};function Zg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Gg(e)?4:fy(e)?9007199254740991:10:tm()}function ey(e,t){if(e===t)return!0;const n=Zg(e);if(n!==Zg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Qg(e).isEqual(Qg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=qg(e.timestampValue),r=qg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Kg(e.bytesValue).isEqual(Kg(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Wg(e.geoPointValue.latitude)===Wg(t.geoPointValue.latitude)&&Wg(e.geoPointValue.longitude)===Wg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Wg(e.integerValue)===Wg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Wg(e.doubleValue),r=Wg(t.doubleValue);return n===r?Zm(n)===Zm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return vm(e.arrayValue.values||[],t.arrayValue.values||[],ey);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ag(n)!==Ag(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ey(n[i],r[i])))return!1;return!0}(e,t);default:return tm()}}function ty(e,t){return void 0!==(e.values||[]).find((e=>ey(e,t)))}function ny(e,t){if(e===t)return 0;const n=Zg(e),r=Zg(t);if(n!==r)return ym(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ym(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Wg(e.integerValue||e.doubleValue),r=Wg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ry(e.timestampValue,t.timestampValue);case 4:return ry(Qg(e),Qg(t));case 5:return ym(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Kg(e),r=Kg(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ym(n[i],r[i]);if(0!==e)return e}return ym(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ym(Wg(e.latitude),Wg(t.latitude));return 0!==n?n:ym(Wg(e.longitude),Wg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=ny(n[i],r[i]);if(e)return e}return ym(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Xg.mapValue&&t===Xg.mapValue)return 0;if(e===Xg.mapValue)return 1;if(t===Xg.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=ym(r[o],s[o]);if(0!==e)return e;const t=ny(n[r[o]],i[s[o]]);if(0!==t)return t}return ym(r.length,s.length)}(e.mapValue,t.mapValue);default:throw tm()}}function ry(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ym(e,t);const n=qg(e),r=qg(t),i=ym(n.seconds,r.seconds);return 0!==i?i:ym(n.nanos,r.nanos)}function iy(e){return sy(e)}function sy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=qg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Kg(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return km.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=sy(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(sy(e.fields[i]));return n+"}"}(e.mapValue):tm()}function oy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ay(e){return!!e&&"integerValue"in e}function cy(e){return!!e&&"arrayValue"in e}function ly(e){return!!e&&"nullValue"in e}function uy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function hy(e){return!!e&&"mapValue"in e}function dy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Og(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=dy(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=dy(e.arrayValue.values[n]);return t}return Object.assign({},e)}function fy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function py(e){return"nullValue"in e?Jg:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?oy($g.empty(),km.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:tm()}function my(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?oy($g.empty(),km.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Xg:tm()}function gy(e,t){const n=ny(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function yy(e,t){const n=ny(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class vy{constructor(e){this.value=e}static empty(){return new vy({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!hy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dy(t)}setAll(e){let t=Tm.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=dy(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());hy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ey(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];hy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Og(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new vy(dy(this.value))}}function wy(e){const t=[];return Og(e.fields,((e,n)=>{const r=new Tm([e]);if(hy(n)){const e=wy(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ug(t)}class by{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new by(e,0,_m.min(),_m.min(),_m.min(),vy.empty(),0)}static newFoundDocument(e,t,n,r){return new by(e,1,t,_m.min(),n,r,0)}static newNoDocument(e,t){return new by(e,2,t,_m.min(),_m.min(),vy.empty(),0)}static newUnknownDocument(e,t){return new by(e,3,t,_m.min(),_m.min(),vy.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_m.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vy.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vy.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_m.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof by&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new by(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class _y{constructor(e,t){this.position=e,this.inclusive=t}}function Sy(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?km.comparator(km.fromName(o.referenceValue),n.key):ny(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Ey(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ey(e.position[n],t.position[n]))return!1;return!0}class Iy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ty(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ky{}class xy extends ky{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Fy(e,t,n):"array-contains"===t?new zy(e,n):"in"===t?new By(e,n):"not-in"===t?new qy(e,n):"array-contains-any"===t?new Wy(e,n):new xy(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new jy(e,n):new Uy(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ny(t,this.value)):null!==t&&Zg(this.value)===Zg(t)&&this.matchesComparison(ny(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tm()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cy extends ky{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Cy(e,t)}matches(e){return Ny(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ny(e){return"and"===e.op}function Ay(e){return"or"===e.op}function Oy(e){return Py(e)&&Ny(e)}function Py(e){for(const t of e.filters)if(t instanceof Cy)return!1;return!0}function Ry(e){if(e instanceof xy)return e.field.canonicalString()+e.op.toString()+iy(e.value);if(Oy(e))return e.filters.map((e=>Ry(e))).join(",");{const t=e.filters.map((e=>Ry(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Dy(e,t){return e instanceof xy?function(e,t){return t instanceof xy&&e.op===t.op&&e.field.isEqual(t.field)&&ey(e.value,t.value)}(e,t):e instanceof Cy?function(e,t){return t instanceof Cy&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Dy(n,t.filters[r])),!0)}(e,t):void tm()}function Ly(e,t){const n=e.filters.concat(t);return Cy.create(n,e.op)}function My(e){return e instanceof xy?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(iy(e.value))}(e):e instanceof Cy?function(e){return e.op.toString()+" {"+e.getFilters().map(My).join(" ,")+"}"}(e):"Filter"}class Fy extends xy{constructor(e,t,n){super(e,t,n),this.key=km.fromName(n.referenceValue)}matches(e){const t=km.comparator(e.key,this.key);return this.matchesComparison(t)}}class jy extends xy{constructor(e,t){super(e,"in",t),this.keys=Vy("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Uy extends xy{constructor(e,t){super(e,"not-in",t),this.keys=Vy("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Vy(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>km.fromName(e.referenceValue)))}class zy extends xy{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cy(t)&&ty(t.arrayValue,this.value)}}class By extends xy{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ty(this.value.arrayValue,t)}}class qy extends xy{constructor(e,t){super(e,"not-in",t)}matches(e){if(ty(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ty(this.value.arrayValue,t)}}class Wy extends xy{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>ty(this.value.arrayValue,e)))}}class Ky{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ce=null}}function Gy(e){return new Ky(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Hy(e){const t=rm(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Ry(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Jm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>iy(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>iy(e))).join(",")),t.ce=e}return t.ce}function Qy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ty(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Dy(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ey(e.startAt,t.startAt)&&Ey(e.endAt,t.endAt)}function Yy(e){return km.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function $y(e,t){return e.filters.filter((e=>e instanceof xy&&e.field.isEqual(t)))}function Xy(e,t,n){let r=Jg,i=!0;for(const s of $y(e,t)){let e=Jg,t=!0;switch(s.op){case"<":case"<=":e=py(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=Jg}gy({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];gy({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Jy(e,t,n){let r=Xg,i=!0;for(const s of $y(e,t)){let e=Xg,t=!0;switch(s.op){case">=":case">":e=my(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Xg}yy({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];yy({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Zy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function ev(e,t,n,r,i,s,o,a){return new Zy(e,t,n,r,i,s,o,a)}function tv(e){return new Zy(e)}function nv(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function rv(e){return null!==e.collectionGroup}function iv(e){const t=rm(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Mg(Tm.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Iy(r,n))})),e.has(Tm.keyField().canonicalString())||t.le.push(new Iy(Tm.keyField(),n))}return t.le}function sv(e){const t=rm(e);return t.he||(t.he=ov(t,iv(e))),t.he}function ov(e,t){if("F"===e.limitType)return Gy(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Iy(e.field,t)}));const n=e.endAt?new _y(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new _y(e.startAt.position,e.startAt.inclusive):null;return Gy(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function av(e,t){const n=e.filters.concat([t]);return new Zy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function cv(e,t,n){return new Zy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function lv(e,t){return Qy(sv(e),sv(t))&&e.limitType===t.limitType}function uv(e){return"".concat(Hy(sv(e)),"|lt:").concat(e.limitType)}function hv(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>My(e))).join(", "),"]")),Jm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>iy(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>iy(e))).join(",")),"Target(".concat(t,")")}(sv(e)),"; limitType=").concat(e.limitType,")")}function dv(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):km.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of iv(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Sy(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,iv(e),t))&&!(e.endAt&&!function(e,t,n){const r=Sy(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,iv(e),t))}(e,t)}function fv(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function pv(e){return(t,n)=>{let r=!1;for(const i of iv(e)){const e=mv(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function mv(e,t,n){const r=e.field.isKeyField()?km.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ny(r,i):tm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return tm()}}class gv{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Og(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Pg(this.inner)}size(){return this.innerSize}}const yv=new Rg(km.comparator);function vv(){return yv}const wv=new Rg(km.comparator);function bv(){let e=wv;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function _v(e){let t=wv;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Sv(){return Iv()}function Ev(){return Iv()}function Iv(){return new gv((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Tv=new Rg(km.comparator),kv=new Mg(km.comparator);function xv(){let e=kv;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Cv=new Mg(ym);function Nv(){return Cv}function Av(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zm(t)?"-0":t}}function Ov(e){return{integerValue:""+e}}function Pv(e,t){return eg(t)?Ov(t):Av(e,t)}class Rv{constructor(){this._=void 0}}function Dv(e,t,n){return e instanceof Fv?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Gg(t)&&(t=Hg(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof jv?Uv(e,t):e instanceof Vv?zv(e,t):function(e,t){const n=Mv(e,t),r=qv(n)+qv(e.Ie);return ay(n)&&ay(e.Ie)?Ov(r):Av(e.serializer,r)}(e,t)}function Lv(e,t,n){return e instanceof jv?Uv(e,t):e instanceof Vv?zv(e,t):n}function Mv(e,t){return e instanceof Bv?function(e){return ay(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Fv extends Rv{}class jv extends Rv{constructor(e){super(),this.elements=e}}function Uv(e,t){const n=Wv(t);for(const r of e.elements)n.some((e=>ey(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Vv extends Rv{constructor(e){super(),this.elements=e}}function zv(e,t){let n=Wv(t);for(const r of e.elements)n=n.filter((e=>!ey(e,r)));return{arrayValue:{values:n}}}class Bv extends Rv{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function qv(e){return Wg(e.integerValue||e.doubleValue)}function Wv(e){return cy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Kv{constructor(e,t){this.field=e,this.transform=t}}class Gv{constructor(e,t){this.version=e,this.transformResults=t}}class Hv{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hv}static exists(e){return new Hv(void 0,e)}static updateTime(e){return new Hv(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Yv{}function $v(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ow(e.key,Hv.none()):new tw(e.key,e.data,Hv.none());{const n=e.data,r=vy.empty();let i=new Mg(Tm.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new nw(e.key,r,new Ug(i.toArray()),Hv.none())}}function Xv(e,t,n){e instanceof tw?function(e,t,n){const r=e.value.clone(),i=iw(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof nw?function(e,t,n){if(!Qv(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=iw(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(rw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Jv(e,t,n,r){return e instanceof tw?function(e,t,n,r){if(!Qv(e.precondition,t))return n;const i=e.value.clone(),s=sw(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof nw?function(e,t,n,r){if(!Qv(e.precondition,t))return n;const i=sw(e.fieldTransforms,r,t),s=t.data;return s.setAll(rw(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Qv(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Zv(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Mv(r.transform,e||null);null!=i&&(null===n&&(n=vy.empty()),n.set(r.field,i))}return n||null}function ew(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&vm(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof jv&&t instanceof jv||e instanceof Vv&&t instanceof Vv?vm(e.elements,t.elements,ey):e instanceof Bv&&t instanceof Bv?ey(e.Ie,t.Ie):e instanceof Fv&&t instanceof Fv}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class tw extends Yv{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class nw extends Yv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function rw(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function iw(e,t,n){const r=new Map;nm(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Lv(o,a,n[i]))}return r}function sw(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Dv(e,s,t))}return r}class ow extends Yv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aw extends Yv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cw{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Xv(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Jv(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Jv(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ev();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=$v(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(_m.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),xv())}isEqual(e){return this.batchId===e.batchId&&vm(this.mutations,e.mutations,((e,t)=>ew(e,t)))&&vm(this.baseMutations,e.baseMutations,((e,t)=>ew(e,t)))}}class lw{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){nm(e.mutations.length===n.length);let r=Tv;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new lw(e,t,n,r)}}class uw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class hw{constructor(e,t){this.count=e,this.unchangedNames=t}}var dw,fw;function pw(e){switch(e){default:return tm();case im.CANCELLED:case im.UNKNOWN:case im.DEADLINE_EXCEEDED:case im.RESOURCE_EXHAUSTED:case im.INTERNAL:case im.UNAVAILABLE:case im.UNAUTHENTICATED:return!1;case im.INVALID_ARGUMENT:case im.NOT_FOUND:case im.ALREADY_EXISTS:case im.PERMISSION_DENIED:case im.FAILED_PRECONDITION:case im.ABORTED:case im.OUT_OF_RANGE:case im.UNIMPLEMENTED:case im.DATA_LOSS:return!0}}function mw(e){if(void 0===e)return Jp("GRPC error has no .code"),im.UNKNOWN;switch(e){case dw.OK:return im.OK;case dw.CANCELLED:return im.CANCELLED;case dw.UNKNOWN:return im.UNKNOWN;case dw.DEADLINE_EXCEEDED:return im.DEADLINE_EXCEEDED;case dw.RESOURCE_EXHAUSTED:return im.RESOURCE_EXHAUSTED;case dw.INTERNAL:return im.INTERNAL;case dw.UNAVAILABLE:return im.UNAVAILABLE;case dw.UNAUTHENTICATED:return im.UNAUTHENTICATED;case dw.INVALID_ARGUMENT:return im.INVALID_ARGUMENT;case dw.NOT_FOUND:return im.NOT_FOUND;case dw.ALREADY_EXISTS:return im.ALREADY_EXISTS;case dw.PERMISSION_DENIED:return im.PERMISSION_DENIED;case dw.FAILED_PRECONDITION:return im.FAILED_PRECONDITION;case dw.ABORTED:return im.ABORTED;case dw.OUT_OF_RANGE:return im.OUT_OF_RANGE;case dw.UNIMPLEMENTED:return im.UNIMPLEMENTED;case dw.DATA_LOSS:return im.DATA_LOSS;default:return tm()}}(fw=dw||(dw={}))[fw.OK=0]="OK",fw[fw.CANCELLED=1]="CANCELLED",fw[fw.UNKNOWN=2]="UNKNOWN",fw[fw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fw[fw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fw[fw.NOT_FOUND=5]="NOT_FOUND",fw[fw.ALREADY_EXISTS=6]="ALREADY_EXISTS",fw[fw.PERMISSION_DENIED=7]="PERMISSION_DENIED",fw[fw.UNAUTHENTICATED=16]="UNAUTHENTICATED",fw[fw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fw[fw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fw[fw.ABORTED=10]="ABORTED",fw[fw.OUT_OF_RANGE=11]="OUT_OF_RANGE",fw[fw.UNIMPLEMENTED=12]="UNIMPLEMENTED",fw[fw.INTERNAL=13]="INTERNAL",fw[fw.UNAVAILABLE=14]="UNAVAILABLE",fw[fw.DATA_LOSS=15]="DATA_LOSS";let gw=null;function yw(){return new TextEncoder}const vw=new Kp([4294967295,4294967295],0);function ww(e){const t=yw().encode(e),n=new Wp;return n.update(t),new Uint8Array(n.digest())}function bw(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Kp([n,r],0),new Kp([i,s],0)]}class _w{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Sw("Invalid padding: ".concat(t));if(n<0)throw new Sw("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Sw("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Sw("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Kp.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Kp.fromNumber(n)));return 1===r.compare(vw)&&(r=new Kp([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=ww(e),[n,r]=bw(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new _w(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=ww(e),[n,r]=bw(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Sw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ew{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Iw.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ew(_m.min(),r,new Rg(ym),vv(),xv())}}class Iw{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Iw(n,t,xv(),xv(),xv())}}class Tw{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class kw{constructor(e,t){this.targetId=e,this.fe=t}}class xw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zg.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Cw{constructor(){this.ge=0,this.pe=Ow(),this.ye=zg.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=xv(),t=xv(),n=xv();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:tm()}})),new Iw(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Ow()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Nw{constructor(e){this.Le=e,this.ke=new Map,this.qe=vv(),this.Qe=Aw(),this.Ke=new Rg(ym)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:tm()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Yy(i))if(0===n){const e=new km(i.path);this.We(t,e,by.newNoDocument(e,_m.min()))}else nm(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==gw||gw.tt(function(e,t,n,r,i){var s,o,a,c,l,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(c=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==c?c:0,padding:null!==(u=null===(l=null==d?void 0:d.bits)||void 0===l?void 0:l.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=Kg(n).toUint8Array()}catch(e){if(e instanceof Vg)return Zp("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new _w(s,r,i)}catch(e){return Zp(e instanceof Sw?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Yy(i.target)){const t=new km(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,by.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=xv();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Ew(e,t,this.Ke,this.qe,n);return this.qe=vv(),this.Qe=Aw(),this.Ke=new Rg(ym),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Cw,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Mg(ym),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Xp("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Cw),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Aw(){return new Rg(km.comparator)}function Ow(){return new Rg(km.comparator)}const Pw={asc:"ASCENDING",desc:"DESCENDING"},Rw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dw={and:"AND",or:"OR"};class Lw{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Mw(e,t){return e.useProto3Json||Jm(t)?t:{value:t}}function Fw(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function jw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Uw(e,t){return Fw(e,t.toTimestamp())}function Vw(e){return nm(!!e),_m.fromTimestamp(function(e){const t=qg(e);return new bm(t.seconds,t.nanos)}(e))}function zw(e,t){return function(e){return new Em(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Bw(e){const t=Em.fromString(e);return nm(ub(t)),t}function qw(e,t){return zw(e.databaseId,t.path)}function Ww(e,t){const n=Bw(t);if(n.get(1)!==e.databaseId.projectId)throw new sm(im.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new sm(im.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new km(Qw(n))}function Kw(e,t){return zw(e.databaseId,t)}function Gw(e){const t=Bw(e);return 4===t.length?Em.emptyPath():Qw(t)}function Hw(e){return new Em(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Qw(e){return nm(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Yw(e,t,n){return{name:qw(e,t),fields:n.value.mapValue.fields}}function $w(e,t,n){const r=Ww(e,t.name),i=Vw(t.updateTime),s=t.createTime?Vw(t.createTime):_m.min(),o=new vy({mapValue:{fields:t.fields}}),a=by.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Xw(e,t){let n;if(t instanceof tw)n={update:Yw(e,t.key,t.value)};else if(t instanceof ow)n={delete:qw(e,t.key)};else if(t instanceof nw)n={update:Yw(e,t.key,t.data),updateMask:lb(t.fieldMask)};else{if(!(t instanceof aw))return tm();n={verify:qw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Fv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof jv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Vv)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Bv)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw tm()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Uw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:tm()}(e,t.precondition)),n}function Jw(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Hv.updateTime(Vw(e.updateTime)):void 0!==e.exists?Hv.exists(e.exists):Hv.none()}(t.currentDocument):Hv.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)nm("REQUEST_TIME"===t.setToServerValue),n=new Fv;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new jv(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Vv(e)}else"increment"in t?n=new Bv(e,t.increment):tm();const r=Tm.fromServerFormat(t.fieldPath);return new Kv(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Ww(e,t.update.name),s=new vy({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Ug(t.map((e=>Tm.fromServerFormat(e))))}(t.updateMask);return new nw(i,s,e,n,r)}return new tw(i,s,n,r)}if(t.delete){const r=Ww(e,t.delete);return new ow(r,n)}if(t.verify){const r=Ww(e,t.verify);return new aw(r,n)}return tm()}function Zw(e,t){return{documents:[Kw(e,t.path)]}}function eb(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Kw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Kw(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return cb(Cy.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:ob(e.field),direction:rb(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Mw(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function tb(e){let t=Gw(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){nm(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=nb(e);return t instanceof Cy&&Oy(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Iy(ab(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Jm(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new _y(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new _y(n,t)}(n.endAt)),ev(t,i,o,s,a,"F",c,l)}function nb(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ab(e.unaryFilter.field);return xy.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=ab(e.unaryFilter.field);return xy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ab(e.unaryFilter.field);return xy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ab(e.unaryFilter.field);return xy.create(i,"!=",{nullValue:"NULL_VALUE"});default:return tm()}}(e):void 0!==e.fieldFilter?function(e){return xy.create(ab(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tm()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Cy.create(e.compositeFilter.filters.map((e=>nb(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return tm()}}(e.compositeFilter.op))}(e):tm()}function rb(e){return Pw[e]}function ib(e){return Rw[e]}function sb(e){return Dw[e]}function ob(e){return{fieldPath:e.canonicalString()}}function ab(e){return Tm.fromServerFormat(e.fieldPath)}function cb(e){return e instanceof xy?function(e){if("=="===e.op){if(uy(e.value))return{unaryFilter:{field:ob(e.field),op:"IS_NAN"}};if(ly(e.value))return{unaryFilter:{field:ob(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(uy(e.value))return{unaryFilter:{field:ob(e.field),op:"IS_NOT_NAN"}};if(ly(e.value))return{unaryFilter:{field:ob(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ob(e.field),op:ib(e.op),value:e.value}}}(e):e instanceof Cy?function(e){const t=e.getFilters().map((e=>cb(e)));return 1===t.length?t[0]:{compositeFilter:{op:sb(e.op),filters:t}}}(e):tm()}function lb(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function ub(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class hb{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_m.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:_m.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:zg.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new hb(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hb(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class db{constructor(e){this.ut=e}}function fb(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:pb(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:qw(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Fw(e,t.version.toTimestamp()),createTime:Fw(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:mb(t.version)};else{if(!t.isUnknownDocument())return tm();r.unknownDocument={path:n.path.toArray(),version:mb(t.version)}}return r}function pb(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function mb(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function gb(e){const t=new bm(e.seconds,e.nanoseconds);return _m.fromTimestamp(t)}function yb(e,t){const n=(t.baseMutations||[]).map((t=>Jw(e.ut,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>Jw(e.ut,t))),i=bm.fromMillis(t.localWriteTimeMs);return new cw(t.batchId,i,n,r)}function vb(e){const t=gb(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?gb(e.lastLimboFreeSnapshotVersion):_m.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return nm(1===e.documents.length),sv(tv(Gw(e.documents[0])))}(e.query):function(e){return sv(tb(e))}(e.query),new hb(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,zg.fromBase64String(e.resumeToken))}function wb(e,t){const n=mb(t.snapshotVersion),r=mb(t.lastLimboFreeSnapshotVersion);let i;i=Yy(t.target)?Zw(e.ut,t.target):eb(e.ut,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Hy(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function bb(e){const t=tb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?cv(t,t.limit,"L"):t}function _b(e,t){return new uw(t.largestBatchId,Jw(e.ut,t.overlayMutation))}function Sb(e,t){const n=t.path.lastSegment();return[e,tg(t.path.popLast()),n]}function Eb(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:mb(r.readTime),documentKey:tg(r.documentKey.path),largestBatchId:r.largestBatchId}}class Ib{getBundleMetadata(e,t){return Tb(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:gb(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return Tb(e).put(function(e){return{bundleId:e.id,createTime:mb(Vw(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return kb(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:bb(e.bundledQuery),readTime:gb(e.readTime)}}(e)}))}saveNamedQuery(e,t){return kb(e).put(function(e){return{name:e.name,readTime:mb(Vw(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Tb(e){return Ng(e,"bundles")}function kb(e){return Ng(e,"namedQueries")}class xb{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){const n=t.uid||"";return new xb(e,n)}getOverlay(e,t){return Cb(e).get(Sb(this.userId,t)).next((e=>e?_b(this.serializer,e):null))}getOverlays(e,t){const n=Sv();return Um.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new uw(t,i);r.push(this.lt(e,s))})),Um.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(tg(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Cb(e).H("collectionPathOverlayIndex",r))})),Um.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Sv(),i=tg(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Cb(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=_b(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Sv();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Cb(e).Y({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=_b(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}lt(e,t){return Cb(e).put(function(e,t,n){const[r,i,s]=Sb(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Xw(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}function Cb(e){return Ng(e,"documentOverlays")}class Nb{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Wg(e.integerValue));else if("doubleValue"in e){const n=Wg(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),Zm(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Tt(t,20),"string"==typeof n?t.dt(n):(t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Kg(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?fy(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):tm()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),km.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function Ab(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Ob(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Ab(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Nb.St=new Nb;class Pb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Dt(n.value),n=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Dt(e);else if(e<2048)this.Dt(960|e>>>6),this.Dt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e);else{const e=t.codePointAt(0);this.Dt(240|e>>>18),this.Dt(128|63&e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e)}}this.Ct()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Nt(e){const t=this.Bt(e),n=Ob(t);this.Lt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),n=Ob(t);this.Lt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Rb{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Db{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Lb{constructor(){this.Wt=new Pb,this.Gt=new Rb(this.Wt),this.zt=new Db(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Mb{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Mb(this.indexId,this.documentKey,this.arrayValue,n)}}function Fb(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=jb(e.arrayValue,t.arrayValue),0!==n?n:(n=jb(e.directionalValue,t.directionalValue),0!==n?n:km.comparator(e.documentKey,t.documentKey)))}function jb(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Ub{constructor(e){this.Jt=new Mg(((e,t)=>Tm.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Jt=this.Jt.add(e):this.Zt.push(e)}}get Xt(){return this.Jt.size>1}en(e){if(nm(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=Cm(e);if(void 0!==t&&!this.tn(t))return!1;const n=Nm(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){const e=this.Jt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.nn(e,t)||!this.rn(this.Yt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Yt.length||!this.rn(this.Yt[s++],e))return!1}return!0}sn(){if(this.Xt)return null;let e=new Mg(Tm.comparator);const t=[];for(const n of this.Zt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Am(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Am(n.field,0))}for(const n of this.Yt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Am(n.field,"asc"===n.dir?0:1)));return new xm(xm.UNKNOWN_ID,this.collectionId,t,Om.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Vb(e){var t,n;if(nm(e instanceof xy||e instanceof Cy),e instanceof xy){if(e instanceof By){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>xy.create(e.field,"==",t))))||[];return Cy.create(r,"or")}return e}const r=e.filters.map((e=>Vb(e)));return Cy.create(r,e.op)}function zb(e){if(0===e.getFilters().length)return[];const t=Kb(Vb(e));return nm(Wb(t)),Bb(t)||qb(t)?[t]:t.getFilters()}function Bb(e){return e instanceof xy}function qb(e){return e instanceof Cy&&Oy(e)}function Wb(e){return Bb(e)||qb(e)||function(e){if(e instanceof Cy&&Ay(e)){for(const t of e.getFilters())if(!Bb(t)&&!qb(t))return!1;return!0}return!1}(e)}function Kb(e){if(nm(e instanceof xy||e instanceof Cy),e instanceof xy)return e;if(1===e.filters.length)return Kb(e.filters[0]);const t=e.filters.map((e=>Kb(e)));let n=Cy.create(t,e.op);return n=Qb(n),Wb(n)?n:(nm(n instanceof Cy),nm(Ny(n)),nm(n.filters.length>1),n.filters.reduce(((e,t)=>Gb(e,t))))}function Gb(e,t){let n;return nm(e instanceof xy||e instanceof Cy),nm(t instanceof xy||t instanceof Cy),n=e instanceof xy?t instanceof xy?function(e,t){return Cy.create([e,t],"and")}(e,t):Hb(e,t):t instanceof xy?Hb(t,e):function(e,t){if(nm(e.filters.length>0&&t.filters.length>0),Ny(e)&&Ny(t))return Ly(e,t.getFilters());const n=Ay(e)?e:t,r=Ay(e)?t:e,i=n.filters.map((e=>Gb(e,r)));return Cy.create(i,"or")}(e,t),Qb(n)}function Hb(e,t){if(Ny(t))return Ly(t,e.getFilters());{const n=t.filters.map((t=>Gb(e,t)));return Cy.create(n,"or")}}function Qb(e){if(nm(e instanceof xy||e instanceof Cy),e instanceof xy)return e;const t=e.getFilters();if(1===t.length)return Qb(t[0]);if(Py(e))return e;const n=t.map((e=>Qb(e))),r=[];return n.forEach((t=>{t instanceof xy?r.push(t):t instanceof Cy&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Cy.create(r,e.op)}class Yb{constructor(){this.on=new $b}addToCollectionParentIndex(e,t){return this.on.add(t),Um.resolve()}getCollectionParents(e,t){return Um.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return Um.resolve()}deleteFieldIndex(e,t){return Um.resolve()}deleteAllFieldIndexes(e){return Um.resolve()}createTargetIndexes(e,t){return Um.resolve()}getDocumentsMatchingTarget(e,t){return Um.resolve(null)}getIndexType(e,t){return Um.resolve(0)}getFieldIndexes(e,t){return Um.resolve([])}getNextCollectionGroupToUpdate(e){return Um.resolve(null)}getMinOffset(e,t){return Um.resolve(Dm.min())}getMinOffsetFromCollectionGroup(e,t){return Um.resolve(Dm.min())}updateCollectionGroup(e,t,n){return Um.resolve()}updateIndexEntries(e,t){return Um.resolve()}}class $b{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Mg(Em.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Mg(Em.comparator)).toArray()}}const Xb=new Uint8Array(0);class Jb{constructor(e,t){this.user=e,this.databaseId=t,this._n=new $b,this.an=new gv((e=>Hy(e)),((e,t)=>Qy(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this._n.add(t)}));const i={collectionId:n,parent:tg(r)};return Zb(e).put(i)}return Um.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[wm(t),""],!1,!0);return Zb(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(ig(r.parent))}return n}))}addFieldIndex(e,t){const n=t_(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=n_(e);return i.next((e=>{n.put(Eb(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=t_(e),r=n_(e),i=e_(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=t_(e),n=e_(e),r=n_(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return Um.forEach(this.un(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new Ub(t).sn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=e_(e);let r=!0;const i=new Map;return Um.forEach(this.un(t),(t=>this.cn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=xv();const r=[];return Um.forEach(i,((i,s)=>{Xp("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(Hy(t)));const o=function(e,t){const n=Cm(t);if(void 0===n)return null;for(const r of $y(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of Nm(t))for(const t of $y(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of Nm(t)){const t=0===i.kind?Xy(e,i.fieldPath,e.startAt):Jy(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new _y(n,r)}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of Nm(t)){const t=0===i.kind?Jy(e,i.fieldPath,e.endAt):Xy(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new _y(n,r)}(s,i),u=this.ln(i,s,c),h=this.ln(i,s,l),d=this.hn(i,s,a),f=this.Pn(i.indexId,o,u,c.inclusive,h,l.inclusive,d);return Um.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=km.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Um.resolve(null)}))}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:zb(Cy.create(e.filters,"and")).map((t=>Gy(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.an.set(e,t),t)}Pn(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),c=a/(null!=t?t.length:1),l=[];for(let u=0;u<a;++u){const a=t?this.In(t[u/c]):Xb,h=this.Tn(e,a,n[u%c],r),d=this.En(e,a,i[u%c],s),f=o.map((t=>this.Tn(e,a,t,!0)));l.push(...this.createRange(h,d,f))}return l}Tn(e,t,n,r){const i=new Mb(e,km.empty(),t,n);return r?i:i.Ht()}En(e,t,n,r){const i=new Mb(e,km.empty(),t,n);return r?i.Ht():i}cn(e,t){const n=new Ub(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.en(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.un(t);return Um.forEach(r,(t=>this.cn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Mg(Tm.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}dn(e,t){const n=new Lb;for(const r of Nm(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.jt(r.kind);Nb.St.ht(e,i)}return n.Ut()}In(e){const t=new Lb;return Nb.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const n=new Lb;return Nb.St.ht(oy(this.databaseId,t),n.jt(function(e){const t=Nm(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}hn(e,t,n){if(null===n)return[];let r=[];r.push(new Lb);let i=0;for(const s of Nm(e)){const e=n[i++];for(const n of r)if(this.Rn(t,s.fieldPath)&&cy(e))r=this.Vn(r,s,e);else{const t=n.jt(s.kind);Nb.St.ht(e,t)}}return this.mn(r)}ln(e,t,n){return this.hn(e,t,n.position)}mn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ut();return t}Vn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new Lb;n.seed(e.Ut()),Nb.St.ht(s,n.jt(t.kind)),i.push(n)}return i}Rn(e,t){return!!e.filters.find((e=>e instanceof xy&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=t_(e),r=n_(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return Um.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Om(t.sequenceNumber,new Dm(gb(t.readTime),new km(ig(t.documentKey)),t.largestBatchId)):Om.empty(),r=e.fields.map((e=>{let[t,n]=e;return new Am(Tm.fromServerFormat(t),n)}));return new xm(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:ym(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=t_(e),i=n_(e);return this.fn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Um.forEach(t,(t=>i.put(Eb(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Um.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Um.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Um.forEach(i,(n=>this.gn(e,t,n).next((t=>{const i=this.pn(r,n);return t.isEqual(i)?Um.resolve():this.yn(e,r,n,t,i)})))))))}))}wn(e,t,n,r){return e_(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,n,r){return e_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}gn(e,t,n){const r=e_(e);let i=new Mg(Fb);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},((e,r)=>{i=i.add(new Mb(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}pn(e,t){let n=new Mg(Fb);const r=this.dn(t,e);if(null==r)return n;const i=Cm(t);if(null!=i){const s=e.data.field(i.fieldPath);if(cy(s))for(const i of s.arrayValue.values||[])n=n.add(new Mb(t.indexId,e.key,this.In(i),r))}else n=n.add(new Mb(t.indexId,e.key,Xb,r));return n}yn(e,t,n,r,i){Xp("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=jg(s),c=jg(o);for(;a||c;){let e=!1,t=!1;if(a&&c){const r=n(a,c);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(c),c=jg(o)):t?(i(a),a=jg(s)):(a=jg(s),c=jg(o))}}(r,i,Fb,(r=>{s.push(this.wn(e,t,n,r))}),(r=>{s.push(this.Sn(e,t,n,r))})),Um.waitFor(s)}fn(e){let t=1;return n_(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Fb(e,t))).filter(((e,t,n)=>!t||0!==Fb(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=Fb(s,e),i=Fb(s,t);if(0===n)r[0]=e.Ht();else if(n>0&&i<0)r.push(s),r.push(s.Ht());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Xb,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Xb,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return Fb(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(r_)}getMinOffset(e,t){return Um.mapArray(this.un(t),(t=>this.cn(e,t).next((e=>e||tm())))).next(r_)}}function Zb(e){return Ng(e,"collectionParents")}function e_(e){return Ng(e,"indexEntries")}function t_(e){return Ng(e,"indexConfiguration")}function n_(e){return Ng(e,"indexState")}function r_(e){nm(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Lm(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Dm(t.readTime,t.documentKey,n)}const i_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class s_{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new s_(e,s_.DEFAULT_COLLECTION_PERCENTILE,s_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function o_(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.Y({range:o},((e,t,n)=>(a++,n.delete())));s.push(c.next((()=>{nm(1===a)})));const l=[];for(const u of n.mutations){const e=ag(t,u.key.path,n.batchId);s.push(i.delete(e)),l.push(u.key)}return Um.waitFor(s).next((()=>l))}function a_(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw tm();t=e.noDocument}return JSON.stringify(t).length}s_.DEFAULT_COLLECTION_PERCENTILE=10,s_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,s_.DEFAULT=new s_(41943040,s_.DEFAULT_COLLECTION_PERCENTILE,s_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),s_.DISABLED=new s_(-1,0,0);class c_{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Dn={}}static ct(e,t,n,r){nm(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new c_(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return u_(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=h_(e),s=u_(e);return s.add({}).next((o=>{nm("number"==typeof o);const a=new cw(o,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>Xw(e.ut,t))),i=n.mutations.map((t=>Xw(e.ut,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),l=[];let u=new Mg(((e,t)=>ym(e.canonicalString(),t.canonicalString())));for(const e of r){const t=ag(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),l.push(s.put(c)),l.push(i.put(t,cg))}return u.forEach((t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Dn[o]=a.keys()})),Um.waitFor(l).next((()=>a))}))}lookupMutationBatch(e,t){return u_(e).get(t).next((e=>e?(nm(e.userId===this.userId),yb(this.serializer,e)):null))}Cn(e,t){return this.Dn[t]?Um.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Dn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return u_(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(nm(t.batchId>=n),i=yb(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return u_(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return u_(e).W("userMutationsIndex",t).next((e=>e.map((e=>yb(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=og(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return h_(e).Y({range:r},((n,r,s)=>{const[o,a,c]=n,l=ig(a);if(o===this.userId&&t.path.isEqual(l))return u_(e).get(c).next((e=>{if(!e)throw tm();nm(e.userId===this.userId),i.push(yb(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Mg(ym);const r=[];return t.forEach((t=>{const i=og(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=h_(e).Y({range:s},((e,r,i)=>{const[s,o,a]=e,c=ig(o);s===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()}));r.push(o)})),Um.waitFor(r).next((()=>this.vn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=og(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new Mg(ym);return h_(e).Y({range:s},((e,t,i)=>{const[s,a,c]=e,l=ig(a);s===this.userId&&n.isPrefixOf(l)?l.length===r&&(o=o.add(c)):i.done()})).next((()=>this.vn(e,o)))}vn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(u_(e).get(t).next((e=>{if(null===e)throw tm();nm(e.userId===this.userId),n.push(yb(this.serializer,e))})))})),Um.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return o_(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Fn(t.batchId)})),Um.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Um.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return h_(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=ig(e[1]);r.push(t)}else n.done()})).next((()=>{nm(0===r.length)}))}))}containsKey(e,t){return l_(e,this.userId,t)}Mn(e){return d_(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function l_(e,t,n){const r=og(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return h_(e).Y({range:s,J:!0},((e,n,r)=>{const[s,a,c]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function u_(e){return Ng(e,"mutations")}function h_(e){return Ng(e,"documentMutations")}function d_(e){return Ng(e,"mutationQueues")}class f_{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new f_(0)}static Nn(){return new f_(-1)}}class p_{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new f_(t.highestTargetId);return t.highestTargetId=n.next(),this.Ln(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>_m.fromTimestamp(new bm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r))))}addTargetData(e,t){return this.kn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.qn(t,n),this.Ln(e,n))))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>m_(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(nm(t.targetCount>0),t.targetCount-=1,this.Ln(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return m_(e).Y(((s,o)=>{const a=vb(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Um.waitFor(i))).next((()=>r))}forEachTarget(e,t){return m_(e).Y(((e,n)=>{const r=vb(n);t(r)}))}Bn(e){return g_(e).get("targetGlobalKey").next((e=>(nm(null!==e),e)))}Ln(e,t){return g_(e).put("targetGlobalKey",t)}kn(e,t){return m_(e).put(wb(this.serializer,t))}qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Hy(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return m_(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=vb(n);Qy(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=y_(e);return t.forEach((t=>{const s=tg(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),Um.waitFor(r)}removeMatchingKeys(e,t,n){const r=y_(e);return Um.forEach(t,(t=>{const i=tg(t.path);return Um.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=y_(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=y_(e);let i=xv();return r.Y({range:n,J:!0},((e,t,n)=>{const r=ig(e[1]),s=new km(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=tg(t.path),r=IDBKeyRange.bound([n],[wm(n)],!1,!0);let i=0;return y_(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return m_(e).get(t).next((e=>e?vb(e):null))}}function m_(e){return Ng(e,"targets")}function g_(e){return Ng(e,"targetGlobal")}function y_(e){return Ng(e,"targetDocuments")}function v_(e,t){let[n,r]=e,[i,s]=t;const o=ym(n,i);return 0===o?ym(r,s):o}class w_{constructor(e){this.Qn=e,this.buffer=new Mg(v_),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();v_(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class b_{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){Xp("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Wm(e)?Xp("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await jm(e)}await this.Gn(3e5)}))}}class __{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Um.resolve(Xm._e);const n=new w_(t);return this.zn.forEachTarget(e,(e=>n.Un(e.sequenceNumber))).next((()=>this.zn.Hn(e,(e=>n.Un(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Xp("LruGarbageCollector","Garbage collection skipped; disabled"),Um.resolve(i_)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Xp("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),i_):this.Jn(e,t)))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let n,r,i,s,o,a,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Xp("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),$p()<=ui.DEBUG&&Xp("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-a)+"ms\n"+"Total Duration: ".concat(c-l,"ms")),Um.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function S_(e,t){return new __(e,t)}class E_{constructor(e,t){this.db=e,this.garbageCollector=S_(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Yn(e){let t=0;return this.Hn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,((e,n)=>t(n)))}addReference(e,t,n){return I_(e,n)}removeReference(e,t,n){return I_(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return I_(e,t)}Xn(e,t){return function(e,t){let n=!1;return d_(e).Z((r=>l_(e,r,t).next((e=>(e&&(n=!0),Um.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Zn(e,((s,o)=>{if(o<=t){const t=this.Xn(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,_m.min()),y_(e).delete(function(e){return[0,tg(e.path)]}(s)))))}));r.push(t)}})).next((()=>Um.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return I_(e,t)}Zn(e,t){const n=y_(e);let r,i=Xm._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:c}=n;0===s?(i!==Xm._e&&t(new km(ig(r)),i),i=c,r=a):i=Xm._e})).next((()=>{i!==Xm._e&&t(new km(ig(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function I_(e,t){return y_(e).put(function(e,t){return{targetId:0,path:tg(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class T_{constructor(){this.changes=new gv((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,by.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Um.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class k_{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return A_(e).put(n)}removeEntry(e,t,n){return A_(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],pb(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.er(e,n))))}getEntry(e,t){let n=by.newInvalidDocument(t);return A_(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(O_(t))},((e,r)=>{n=this.tr(t,r)})).next((()=>n))}nr(e,t){let n={size:0,document:by.newInvalidDocument(t)};return A_(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(O_(t))},((e,r)=>{n={document:this.tr(t,r),size:a_(r)}})).next((()=>n))}getEntries(e,t){let n=vv();return this.rr(e,t,((e,t)=>{const r=this.tr(e,t);n=n.insert(e,r)})).next((()=>n))}ir(e,t){let n=vv(),r=new Rg(km.comparator);return this.rr(e,t,((e,t)=>{const i=this.tr(e,t);n=n.insert(e,i),r=r.insert(e,a_(t))})).next((()=>({documents:n,sr:r})))}rr(e,t,n){if(t.isEmpty())return Um.resolve();let r=new Mg(R_);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(O_(r.first()),O_(r.last())),s=r.getIterator();let o=s.getNext();return A_(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=km.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&R_(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.U(O_(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),pb(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return A_(e).W(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=vv();for(const i of e){const e=this.tr(km.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(dv(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=vv();const s=P_(t,n),o=P_(t,Dm.max());return A_(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.tr(km.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new C_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return N_(e).get("remoteDocumentGlobalKey").next((e=>(nm(!!e),e)))}er(e,t){return N_(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=$w(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=km.fromSegments(t.noDocument.path),r=gb(t.noDocument.readTime);n=by.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return tm();{const e=km.fromSegments(t.unknownDocument.path),r=gb(t.unknownDocument.version);n=by.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new bm(e[0],e[1]);return _m.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(_m.min()))return e}return by.newInvalidDocument(e)}}function x_(e){return new k_(e)}class C_ extends T_{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new gv((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Mg(((e,t)=>ym(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.ar.get(i);if(t.push(this._r.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=fb(this._r.serializer,s);r=r.add(i.path.popLast());const c=a_(a);n+=c-o.size,t.push(this._r.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=fb(this._r.serializer,s.convertToNoDocument(_m.min()));t.push(this._r.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,n))})),t.push(this._r.updateMetadata(e,n)),Um.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next((e=>(this.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this._r.ir(e,t).next((e=>{let{documents:t,sr:n}=e;return n.forEach(((e,n)=>{this.ar.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function N_(e){return Ng(e,"remoteDocumentGlobal")}function A_(e){return Ng(e,"remoteDocumentsV14")}function O_(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function P_(e,t){const n=t.documentKey.path.toArray();return[e,pb(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function R_(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ym(n[s],r[s]),i)return i;return i=ym(n.length,r.length),i||(i=ym(n[n.length-2],r[r.length-2]),i||ym(n[n.length-1],r[r.length-1]))}class D_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class L_{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Jv(n.mutation,e,Ug.empty(),bm.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,xv()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xv();const r=Sv();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=bv();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Sv();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,xv())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=vv();const s=Iv(),o=Iv();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof nw)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Jv(o.mutation,t,o.mutation.getFieldMask(),bm.now())):s.set(t.key,Ug.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new D_(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Iv();let r=new Rg(((e,t)=>e-t)),i=xv();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Ug.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||xv()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,c=r.value,l=Ev();c.forEach((e=>{if(!i.has(e)){const r=$v(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,l))}return Um.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return km.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):rv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Um.resolve(Sv());let o=-1,a=i;return s.next((t=>Um.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Um.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,xv()))).next((e=>({batchId:o,changes:_v(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new km(t)).next((e=>{let t=bv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=bv();return this.indexManager.getCollectionParents(e,i).next((o=>Um.forEach(o,(o=>{const a=function(e,t){return new Zy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,by.newInvalidDocument(r)))}));let n=bv();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Jv(s.mutation,r,Ug.empty(),bm.now()),dv(t,r)&&(n=n.insert(e,r))})),n}))}}class M_{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return Um.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Vw(e.createTime)}}(t)),Um.resolve()}getNamedQuery(e,t){return Um.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:bb(e.bundledQuery),readTime:Vw(e.readTime)}}(t)),Um.resolve()}}class F_{constructor(){this.overlays=new Rg(km.comparator),this.lr=new Map}getOverlay(e,t){return Um.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Sv();return Um.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),Um.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),Um.resolve()}getOverlaysForCollection(e,t,n){const r=Sv(),i=t.length+1,s=new km(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Um.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Rg(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Sv(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Sv(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Um.resolve(o)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new uw(t,n));let i=this.lr.get(t);void 0===i&&(i=xv(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class j_{constructor(){this.hr=new Mg(U_.Pr),this.Ir=new Mg(U_.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new U_(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new U_(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new km(new Em([])),n=new U_(t,e),r=new U_(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new km(new Em([])),n=new U_(t,e),r=new U_(t,e+1);let i=xv();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new U_(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class U_{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return km.comparator(e.key,t.key)||ym(e.gr,t.gr)}static Tr(e,t){return ym(e.gr,t.gr)||km.comparator(e.key,t.key)}}class V_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Mg(U_.Pr)}checkEmpty(e){return Um.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new cw(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.yr=this.yr.add(new U_(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Um.resolve(s)}lookupMutationBatch(e,t){return Um.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return Um.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Um.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Um.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new U_(t,0),r=new U_(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),Um.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Mg(ym);return t.forEach((e=>{const t=new U_(e,0),r=new U_(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),Um.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;km.isDocumentKey(i)||(i=i.child(""));const s=new U_(new km(i),0);let o=new Mg(ym);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gr)),!0)}),s),Um.resolve(this.br(o))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){nm(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return Um.forEach(t.mutations,(r=>{const i=new U_(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new U_(t,0),r=this.yr.firstAfterOrEqual(n);return Um.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Um.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class z_{constructor(e){this.Cr=e,this.docs=new Rg(km.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Um.resolve(n?n.document.mutableCopy():by.newInvalidDocument(t))}getEntries(e,t){let n=vv();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():by.newInvalidDocument(e))})),Um.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=vv();const s=t.path,o=new km(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Lm(Rm(o),n)<=0||(r.has(o.key)||dv(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Um.resolve(i)}getAllFromCollectionGroup(e,t,n,r){tm()}vr(e,t){return Um.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new B_(this)}getSize(e){return Um.resolve(this.size)}}class B_ extends T_{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),Um.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class q_{constructor(e){this.persistence=e,this.Fr=new gv((e=>Hy(e)),Qy),this.lastRemoteSnapshotVersion=_m.min(),this.highestTargetId=0,this.Mr=0,this.Or=new j_,this.targetCount=0,this.Nr=f_.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),Um.resolve()}getLastRemoteSnapshotVersion(e){return Um.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Um.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Um.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),Um.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new f_(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,Um.resolve()}updateTargetData(e,t){return this.kn(t),Um.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,Um.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Fr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Um.waitFor(i).next((()=>r))}getTargetCount(e){return Um.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return Um.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),Um.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Um.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),Um.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return Um.resolve(n)}containsKey(e,t){return Um.resolve(this.Or.containsKey(t))}}class W_{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Xm(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new q_(this),this.indexManager=new Yb,this.remoteDocumentCache=function(e){return new z_(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new db(t),this.Kr=new M_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new F_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new V_(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){Xp("MemoryPersistence","Starting transaction:",e);const r=new K_(this.Lr.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return Um.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class K_ extends Fm{constructor(e){super(),this.currentSequenceNumber=e}}class G_{constructor(e){this.persistence=e,this.Gr=new j_,this.zr=null}static jr(e){return new G_(e)}get Hr(){if(this.zr)return this.zr;throw tm()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),Um.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),Um.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),Um.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Um.forEach(this.Hr,(n=>{const r=km.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,_m.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return Um.or([()=>Um.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class H_{constructor(e){this.serializer=e}N(e,t,n,r){const i=new Vm("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sg,{unique:!0}),e.createObjectStore("documentMutations")}(e),Q_(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=Um.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Q_(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_m.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sg,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Um.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Zr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(i))))),n<7&&r>=7&&(s=s.next((()=>this.ei(i)))),n<8&&r>=8&&(s=s.next((()=>this.ti(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ni(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:bg});t.createIndex("collectionPathOverlayIndex",_g,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Sg,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:lg});t.createIndex("documentKeyIndex",ug),t.createIndex("collectionGroupIndex",hg)}(e))).next((()=>this.ri(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.ii(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:gg}).createIndex("sequenceNumberIndex",yg,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:vg}).createIndex("documentKeyIndex",wg,{unique:!1})}(e)))),s}Xr(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=a_(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Zr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>Um.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>Um.forEach(n,(n=>{nm(n.userId===t.userId);const r=yb(this.serializer,n);return o_(e,t.userId,r).next((()=>{}))}))))}))))}ei(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const s=new Em(n),o=function(e){return[0,tg(e)]}(s);r.push(t.get(o).next((n=>n?Um.resolve():(n=>t.put({targetId:0,path:tg(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>Um.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:mg});const n=t.store("collectionParents"),r=new $b,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:tg(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new Em(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,s]=e;const o=ig(r);return i(o.popLast())}))))}ni(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=vb(n),i=wb(this.serializer,r);return t.put(i)}))}ri(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new km(Em.fromString(e.document.name).popFirst(5)):e.noDocument?km.fromSegments(e.noDocument.path):e.unknownDocument?km.fromSegments(e.unknownDocument.path):tm()}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>Um.waitFor(r)))}ii(e,t){const n=t.store("mutations"),r=x_(this.serializer),i=new W_(G_.jr,this.serializer.ut);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:xv();yb(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Um.forEach(n,((e,n)=>{const s=new Hp(n),o=xb.ct(this.serializer,s),a=i.getIndexManager(s),c=c_.ct(s,this.serializer,a,i.referenceDelegate);return new L_(r,c,o,a).recalculateAndSaveOverlaysForDocumentKeys(new Cg(t,Xm._e),e).next()}))}))}}function Q_(e){e.createObjectStore("targetDocuments",{keyPath:fg}).createIndex("documentTargetsIndex",pg,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",dg,{unique:!0}),e.createObjectStore("targetGlobal")}const Y_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $_{constructor(e,t,n,r,i,s,o,a,c,l){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.si=i,this.window=s,this.document=o,this.oi=c,this._i=l,this.ai=u,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=e=>Promise.resolve(),!$_.D())throw new sm(im.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new E_(this,r),this.Ii=t+"main",this.serializer=new db(a),this.Ti=new zm(this.Ii,this.ai,new H_(this.serializer)),this.qr=new p_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=x_(this.serializer),this.Kr=new Ib,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===l&&Jp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new sm(im.FAILED_PRECONDITION,Y_);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.qr.getHighestSequenceNumber(e)))})).then((e=>{this.Lr=new Xm(e,this.oi)})).then((()=>{this.kr=!0})).catch((e=>(this.Ti&&this.Ti.close(),Promise.reject(e))))}mi(e){return this.Pi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((async()=>{this.started&&await this.di()})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>J_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))))}))})).next((()=>this.gi(e))).next((t=>this.isPrimary&&!t?this.pi(e).next((()=>!1)):!!t&&this.yi(e).next((()=>!0)))))).catch((e=>{if(Wm(e))return Xp("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Xp("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.si.enqueueRetryable((()=>this.Pi(e))),this.isPrimary=e}))}fi(e){return X_(e).get("owner").next((e=>Um.resolve(this.wi(e))))}Si(e){return J_(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Ng(e,"clientMetadata");return t.W().next((e=>{const n=this.Ci(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Um.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ei)for(const t of e)this.Ei.removeItem(this.vi(t.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.di().then((()=>this.bi())).then((()=>this.Vi()))))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?Um.resolve(!0):X_(e).get("owner").next((t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new sm(im.FAILED_PRECONDITION,Y_);return!1}}return!(!this.networkEnabled||!this.inForeground)||J_(e).W().next((e=>void 0===this.Ci(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Xp("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Cg(e,Xm._e);return this.pi(t).next((()=>this.Si(t)))})),this.Ti.close(),this.Ni()}Ci(e,t){return e.filter((e=>this.Di(e.updateTimeMs,t)&&!this.Fi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>J_(e).W().next((e=>this.Ci(e,18e5).map((e=>e.clientId))))))}get started(){return this.kr}getMutationQueue(e,t){return c_.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Jb(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return xb.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,n){Xp("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?xg:14===e?kg:13===e?Tg:12===e?Ig:11===e?Eg:void tm()}(this.ai);let s;return this.Ti.runTransaction(e,r,i,(r=>(s=new Cg(r,this.Lr?this.Lr.next():Xm._e),"readwrite-primary"===t?this.fi(s).next((e=>!!e||this.gi(s))).next((t=>{if(!t)throw Jp("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))),new sm(im.FAILED_PRECONDITION,Mm);return n(s)})).next((e=>this.yi(s).next((()=>e)))):this.Li(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}Li(e){return X_(e).get("owner").next((e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new sm(im.FAILED_PRECONDITION,Y_)}))}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return X_(e).put("owner",t)}static D(){return zm.D()}pi(e){const t=X_(e);return t.get("owner").next((e=>this.wi(e)?(Xp("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Um.resolve()))}Di(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Jp("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.di())))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;!zr()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return Xp("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Jp("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Jp("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}vi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function X_(e){return Ng(e,"owner")}function J_(e){return Ng(e,"clientMetadata")}function Z_(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class eS{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=xv(),r=xv();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new eS(e,t.fromCache,n,r)}}class tS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class nS{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new tS;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?($p()<=ui.DEBUG&&Xp("QueryEngine","SDK will not create cache indexes for query:",hv(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Um.resolve()):($p()<=ui.DEBUG&&Xp("QueryEngine","Query:",hv(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?($p()<=ui.DEBUG&&Xp("QueryEngine","The SDK decides to create cache indexes for query:",hv(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sv(t))):Um.resolve())}zi(e,t){if(nv(t))return Um.resolve(null);let n=sv(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=cv(t,null,"F"),n=sv(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=xv(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Yi(t,r);return this.Zi(t,s,i,n.readTime)?this.zi(e,cv(t,null,"F")):this.Xi(e,s,t,n)}))))})))))}ji(e,t,n,r){return nv(t)||r.isEqual(_m.min())?Um.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const s=this.Yi(t,i);return this.Zi(t,s,n,r)?Um.resolve(null):($p()<=ui.DEBUG&&Xp("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),hv(t)),this.Xi(e,s,t,Pm(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new Mg(pv(e));return t.forEach(((t,r)=>{dv(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return $p()<=ui.DEBUG&&Xp("QueryEngine","Using full collection scan to execute query:",hv(t)),this.Gi.getDocumentsMatchingQuery(e,t,Dm.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class rS{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new Rg(ym),this.ns=new gv((e=>Hy(e)),Qy),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new L_(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function iS(e,t,n,r){return new rS(e,t,n,r)}async function sS(e,t){const n=rm(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=xv();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function oS(e){const t=rm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function aS(e,t,n){let r=xv(),i=xv();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=vv();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(_m.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Xp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{us:r,cs:i}}))}function cS(e,t){const n=rm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function lS(e,t){const n=rm(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,Um.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new hb(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function uS(e,t,n){const r=rm(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Wm(e))throw e;Xp("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function hS(e,t,n){const r=rm(e);let i=_m.min(),s=xv();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=rm(e),i=r.ns.get(n);return void 0!==i?Um.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,sv(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:_m.min(),n?s:xv()))).next((e=>(pS(r,fv(t),e),{documents:e,ls:s})))))}function dS(e,t){const n=rm(e),r=rm(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function fS(e,t){const n=rm(e),r=n.rs.get(t)||_m.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.ss.getAllFromCollectionGroup(e,t,Pm(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(pS(n,t,e),e)))}function pS(e,t,n){let r=e.rs.get(t)||_m.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}async function mS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xv();const r=await lS(e,sv(bb(t.bundledQuery))),i=rm(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=Vw(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Kr.saveNamedQuery(e,t);const o=r.withResumeToken(zg.EMPTY_BYTE_STRING,s);return i.ts=i.ts.insert(o.targetId,o),i.qr.updateTargetData(e,o).next((()=>i.qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.Kr.saveNamedQuery(e,t)))}))}function gS(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function yS(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function vS(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class wS{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ts(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new sm(r.error.code,r.error.message))),s?new wS(e,t,r.state,i):(Jp("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class bS{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ts(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new sm(n.error.code,n.error.message))),i?new bS(e,n.state,r):(Jp("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _S{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Nv();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=eg(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new _S(e,i):(Jp("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class SS{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new SS(t.clientId,t.onlineState):(Jp("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class ES{constructor(){this.activeTargetIds=Nv()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IS{constructor(e,t,n,r,i){this.window=e,this.si=t,this.persistenceKey=n,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Rg(ym),this.started=!1,this.ps=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ys=gS(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new ES),this.Ss=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Rs)continue;const e=this.getItem(gS(this.persistenceKey,n));if(e){const t=_S.Ts(n,e);t&&(this.gs=this.gs.insert(t.clientId,t))}}this.Fs();const t=this.storage.getItem(this.Cs);if(t){const e=this.Ms(t);e&&this.xs(e)}for(const n of this.ps)this.fs(n);this.ps=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,n){this.Ns(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(vS(this.persistenceKey,e));if(n){const r=bS.Ts(e,n);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(vS(this.persistenceKey,e))}updateQueryState(e,t,n){this.ks(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Xp("SharedClientState","READ",e,t),t}setItem(e,t){Xp("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Xp("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const t=e;if(t.storageArea===this.storage){if(Xp("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ys)return void Jp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ss.test(t.key)){if(null==t.newValue){const e=this.Ks(t.key);return this.$s(e,null)}{const e=this.Us(t.key,t.newValue);if(e)return this.$s(e.clientId,e)}}else if(this.bs.test(t.key)){if(null!==t.newValue){const e=this.Ws(t.key,t.newValue);if(e)return this.Gs(e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.zs(t.key,t.newValue);if(e)return this.js(e)}}else if(t.key===this.Cs){if(null!==t.newValue){const e=this.Ms(t.newValue);if(e)return this.xs(e)}}else if(t.key===this.ws){const e=function(e){let t=Xm._e;if(null!=e)try{const n=JSON.parse(e);nm("number"==typeof n),t=n}catch(e){Jp("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Xm._e&&this.sequenceNumberHandler(e)}else if(t.key===this.vs){const e=this.Hs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Js(e))))}}else this.ps.push(t)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,n){const r=new wS(this.currentUser,e,t,n),i=yS(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}Bs(e){const t=yS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){const t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}ks(e,t,n){const r=vS(this.persistenceKey,e),i=new bS(e,t,n);this.setItem(r,i.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const n=this.Ks(e);return _S.Ts(n,t)}Ws(e,t){const n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return wS.Ts(new Hp(i),r,t)}zs(e,t){const n=this.Ds.exec(e),r=Number(n[1]);return bS.Ts(r,t)}Ms(e){return SS.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);Xp("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const n=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),i=this.Os(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.Xs(s,o).then((()=>{this.gs=n}))}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=Nv();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class TS{constructor(){this.eo=new ES,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new ES,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kS{ro(e){}shutdown(){}}class xS{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Xp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Xp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let CS=null;function NS(){return null===CS?CS=268435456+Math.round(2147483648*Math.random()):CS++,"0x"+CS.toString(16)}const AS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OS{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const PS="WebChannelConnection";class RS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.mo=t+"://"+e.host,this.fo="projects/".concat(n,"/databases/").concat(r),this.po="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get yo(){return!1}wo(e,t,n,r,i){const s=NS(),o=this.So(e,t);Xp("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(a,r,i),this.Do(e,o,a,n).then((t=>(Xp("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Zp("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}Co(e,t,n,r,i,s){return this.wo(e,t,n,r,i)}bo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=AS[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,n,r){const i=NS();return new Promise(((s,o)=>{const a=new qp;a.setWithCredentials(!0),a.listenOnce(jp.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Fp.NO_ERROR:const t=a.getResponseJson();Xp(PS,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Fp.TIMEOUT:Xp(PS,"RPC '".concat(e,"' ").concat(i," timed out")),o(new sm(im.DEADLINE_EXCEEDED,"Request time out"));break;case Fp.HTTP_ERROR:const n=a.getStatus();if(Xp(PS,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(im).indexOf(t)>=0?t:im.UNKNOWN}(t.status);o(new sm(e,t.message))}else o(new sm(im.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new sm(im.UNAVAILABLE,"Connection failed."));break;default:tm()}}finally{Xp(PS,"RPC '".concat(e,"' ").concat(i," completed."))}}));const c=JSON.stringify(r);Xp(PS,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",c,n,15)}))}vo(e,t,n){const r=NS(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Lp(),o=Mp(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.xmlHttpFactory=new zp({})),this.bo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=i.join("");Xp(PS,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),a);const u=s.createWebChannel(l,a);let h=!1,d=!1;const f=new OS({co:t=>{d?Xp(PS,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Xp(PS,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Xp(PS,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Bp.EventType.OPEN,(()=>{d||Xp(PS,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Bp.EventType.CLOSE,(()=>{d||(d=!0,Xp(PS,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Ro())})),p(u,Bp.EventType.ERROR,(t=>{d||(d=!0,Zp(PS,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Ro(new sm(im.UNAVAILABLE,"The operation could not be completed")))})),p(u,Bp.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];nm(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Xp(PS,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=dw[e];if(void 0!==t)return mw(t)}(t),i=o.message;void 0===n&&(n=im.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.Ro(new sm(n,i)),u.close()}else Xp(PS,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.Vo(i)}})),p(o,Up.STAT_EVENT,(t=>{t.stat===Vp.PROXY?Xp(PS,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Vp.NOPROXY&&Xp(PS,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ao()}),0),f}}function DS(){return"undefined"!=typeof window?window:null}function LS(){return"undefined"!=typeof document?document:null}function MS(e){return new Lw(e,!0)}class FS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Fo=n,this.Mo=r,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&Xp("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class jS{constructor(e,t,n,r,i,s,o,a){this.si=e,this.Ko=n,this.$o=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new FS(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(()=>this.Xo())))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==e?this.zo.reset():t&&t.code===im.RESOURCE_EXHAUSTED?(Jp(t.toString()),Jp("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===im.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Uo===t&&this.s_(n,r)}),(t=>{e((()=>{const e=new sm(im.UNKNOWN,"Fetching auth token failed: "+t.message);return this.o_(e)}))}))}s_(e,t){const n=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((()=>{n((()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,(()=>(this.Ho()&&(this.state=3),Promise.resolve()))),this.listener.ho())))})),this.stream.Io((e=>{n((()=>this.o_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Jo(){this.state=5,this.zo.ko((async()=>{this.state=0,this.start()}))}o_(e){return Xp("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget((()=>this.Uo===e?t():(Xp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class US extends jS{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:tm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(nm(void 0===t||"string"==typeof t),zg.fromBase64String(t||"")):(nm(void 0===t||t instanceof Uint8Array),zg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?im.UNKNOWN:mw(e.code);return new sm(t,e.message||"")}(o);n=new xw(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ww(e,r.document.name),s=Vw(r.document.updateTime),o=r.document.createTime?Vw(r.document.createTime):_m.min(),a=new vy({mapValue:{fields:r.document.fields}}),c=by.newFoundDocument(i,s,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Tw(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ww(e,r.document),s=r.readTime?Vw(r.readTime):_m.min(),o=by.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Tw([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ww(e,r.document),s=r.removedTargetIds||[];n=new Tw([],s,i,null)}else{if(!("filter"in t))return tm();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new hw(r,i),o=e.targetId;n=new kw(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return _m.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?_m.min():t.readTime?Vw(t.readTime):_m.min()}(e);return this.listener.a_(t,n)}u_(e){const t={};t.database=Hw(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Yy(r)?{documents:Zw(e,r)}:{query:eb(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=jw(e,t.resumeToken);const r=Mw(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(_m.min())>0){n.readTime=Fw(e,t.snapshotVersion.toTimestamp());const r=Mw(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tm()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}c_(e){const t={};t.database=Hw(this.serializer),t.removeTarget=e,this.e_(t)}}class VS extends jS{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(nm(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function(e,t){return e&&e.length>0?(nm(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Vw(e.updateTime):Vw(t);return n.isEqual(_m.min())&&(n=Vw(t)),new Gv(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Vw(e.commitTime);return this.listener.I_(n,t)}return nm(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Hw(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Xw(this.serializer,e)))};this.e_(t)}}class zS extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new sm(im.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,n){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.connection.wo(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===im.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new sm(im.UNKNOWN,e.toString())}))}Co(e,t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Co(e,t,n,s,o,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===im.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new sm(im.UNKNOWN,e.toString())}))}terminate(){this.d_=!0}}class BS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve()))))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(Jp(t),this.f_=!1):Xp("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class qS{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro((e=>{n.enqueueAndForget((async()=>{JS(this)&&(Xp("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=rm(e);t.C_.add(4),await KS(t),t.M_.set("Unknown"),t.C_.delete(4),await WS(t)}(this))}))})),this.M_=new BS(n,r)}}async function WS(e){if(JS(e))for(const t of e.v_)await t(!0)}async function KS(e){for(const t of e.v_)await t(!1)}function GS(e,t){const n=rm(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),XS(n)?$S(n):gE(n).Ho()&&QS(n,t))}function HS(e,t){const n=rm(e),r=gE(n);n.D_.delete(t),r.Ho()&&YS(n,t),0===n.D_.size&&(r.Ho()?r.Zo():JS(n)&&n.M_.set("Unknown"))}function QS(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_m.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}gE(e).u_(t)}function YS(e,t){e.x_.Oe(t),gE(e).c_(t)}function $S(e){e.x_=new Nw({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),gE(e).start(),e.M_.g_()}function XS(e){return JS(e)&&!gE(e).jo()&&e.D_.size>0}function JS(e){return 0===rm(e).C_.size}function ZS(e){e.x_=void 0}async function eE(e){e.D_.forEach(((t,n)=>{QS(e,t)}))}async function tE(e,t){ZS(e),XS(e)?(e.M_.w_(t),$S(e)):e.M_.set("Unknown")}async function nE(e,t,n){if(e.M_.set("Online"),t instanceof xw&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.D_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.D_.delete(r),e.x_.removeTarget(r))}(e,t)}catch(n){Xp("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await rE(e,n)}else if(t instanceof Tw?e.x_.$e(t):t instanceof kw?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(_m.min()))try{const t=await oS(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.x_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.D_.get(t);if(!r)return;e.D_.set(t,r.withResumeToken(zg.EMPTY_BYTE_STRING,r.snapshotVersion)),YS(e,t);const i=new hb(r.target,t,n,r.sequenceNumber);QS(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Xp("RemoteStore","Failed to raise snapshot:",t),await rE(e,t)}}async function rE(e,t,n){if(!Wm(t))throw t;e.C_.add(1),await KS(e),e.M_.set("Offline"),n||(n=()=>oS(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Xp("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await WS(e)}))}function iE(e,t){return t().catch((n=>rE(e,n,t)))}async function sE(e){const t=rm(e),n=yE(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;oE(t);)try{const e=await cS(t.localStore,r);if(null===e){0===t.b_.length&&n.Zo();break}r=e.batchId,aE(t,e)}catch(e){await rE(t,e)}cE(t)&&lE(t)}function oE(e){return JS(e)&&e.b_.length<10}function aE(e,t){e.b_.push(t);const n=yE(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function cE(e){return JS(e)&&!yE(e).jo()&&e.b_.length>0}function lE(e){yE(e).start()}async function uE(e){yE(e).E_()}async function hE(e){const t=yE(e);for(const n of e.b_)t.P_(n.mutations)}async function dE(e,t,n){const r=e.b_.shift(),i=lw.from(r,t,n);await iE(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await sE(e)}async function fE(e,t){t&&yE(e).h_&&await async function(e,t){if(function(e){return pw(e)&&e!==im.ABORTED}(t.code)){const n=e.b_.shift();yE(e).Yo(),await iE(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await sE(e)}}(e,t),cE(e)&&lE(e)}async function pE(e,t){const n=rm(e);n.asyncQueue.verifyOperationInProgress(),Xp("RemoteStore","RemoteStore received new credentials");const r=JS(n);n.C_.add(3),await KS(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await WS(n)}async function mE(e,t){const n=rm(e);t?(n.C_.delete(2),await WS(n)):t||(n.C_.add(2),await KS(n),n.M_.set("Unknown"))}function gE(e){return e.O_||(e.O_=function(e,t,n){const r=rm(e);return r.A_(),new US(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:eE.bind(null,e),Io:tE.bind(null,e),a_:nE.bind(null,e)}),e.v_.push((async t=>{t?(e.O_.Yo(),XS(e)?$S(e):e.M_.set("Unknown")):(await e.O_.stop(),ZS(e))}))),e.O_}function yE(e){return e.N_||(e.N_=function(e,t,n){const r=rm(e);return r.A_(),new VS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:uE.bind(null,e),Io:fE.bind(null,e),T_:hE.bind(null,e),I_:dE.bind(null,e)}),e.v_.push((async t=>{t?(e.N_.Yo(),await sE(e)):(await e.N_.stop(),e.b_.length>0&&(Xp("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]))}))),e.N_}class vE{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new om,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new vE(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sm(im.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wE(e,t){if(Jp("AsyncQueue","".concat(t,": ").concat(e)),Wm(e))return new sm(im.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class bE{constructor(e){this.comparator=e?(t,n)=>e(t,n)||km.comparator(t.key,n.key):(e,t)=>km.comparator(e.key,t.key),this.keyedMap=bv(),this.sortedSet=new Rg(this.comparator)}static emptySet(e){return new bE(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bE))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new bE;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class _E{constructor(){this.B_=new Rg(km.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):tm():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class SE{constructor(e,t,n,r,i,s,o,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new SE(e,t,bE.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class EE{constructor(){this.k_=void 0,this.listeners=[]}}class IE{constructor(){this.queries=new gv((e=>uv(e)),lv),this.onlineState="Unknown",this.q_=new Set}}async function TE(e,t){const n=rm(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new EE),i)try{s.k_=await n.onListen(r)}catch(e){const n=wE(e,"Initialization of query '".concat(hv(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&NE(n)}async function kE(e,t){const n=rm(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function xE(e,t){const n=rm(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.K_(i)&&(r=!0);t.k_=i}}r&&NE(n)}function CE(e,t,n){const r=rm(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function NE(e){e.q_.forEach((e=>{e.next()}))}class AE{constructor(e,t,n){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}K_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new SE(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){if(e.docChanges.length>0)return!0;const t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}H_(e){e=SE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class OE{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class PE{constructor(e){this.serializer=e}hs(e){return Ww(this.serializer,e)}Ps(e){return e.metadata.exists?$w(this.serializer,e.document,!1):by.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Vw(e)}}class RE{constructor(e,t,n){this.X_=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=DE(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const n=Em.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,n=new PE(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.hs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||xv()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=rm(e);let s=xv(),o=vv();for(const l of n){const e=t.hs(l.metadata.name);l.document&&(s=s.add(e));const n=t.Ps(l);n.setReadTime(t.Is(l.metadata.readTime)),o=o.insert(e,n)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),c=await lS(i,function(e){return sv(tv(Em.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>aS(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.qr.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.qr.addMatchingKeys(e,s,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs))).next((()=>t.us))))))}(this.localStore,new PE(this.serializer),this.documents,this.X_.id),t=this.ta(this.documents);for(const n of this.queries)await mS(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function DE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class LE{constructor(e){this.key=e}}class ME{constructor(e){this.key=e}}class FE{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=xv(),this.mutatedKeys=xv(),this._a=pv(e),this.aa=new bE(this._a)}get ua(){return this.ia}ca(e,t){const n=t?t.la:new _E,r=t?t.aa:this.aa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),u=dv(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ha(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this._a(u,a)>0||c&&this._a(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{aa:s,la:n,Zi:o,mutatedKeys:i}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const i=e.la.L_();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tm()}};return n(e)-n(t)}(e.type,t.type)||this._a(e.doc,t.doc))),this.Pa(n);const s=t?this.Ia():[],o=0===this.oa.size&&this.current?1:0,a=o!==this.sa;return this.sa=o,0!==i.length||a?{snapshot:new SE(this.query,e.aa,r,i,e.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new _E,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach((e=>this.ia=this.ia.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ia=this.ia.delete(e))),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=xv(),this.aa.forEach((e=>{this.Ea(e.key)&&(this.oa=this.oa.add(e.key))}));const t=[];return e.forEach((e=>{this.oa.has(e)||t.push(new ME(e))})),this.oa.forEach((n=>{e.has(n)||t.push(new LE(n))})),t}da(e){this.ia=e.ls,this.oa=xv();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return SE.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class jE{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class UE{constructor(e){this.key=e,this.Ra=!1}}class VE{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new gv((e=>uv(e)),lv),this.fa=new Map,this.ga=new Set,this.pa=new Rg(km.comparator),this.ya=new Map,this.wa=new j_,this.Sa={},this.ba=new Map,this.Da=f_.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}async function zE(e,t){const n=fI(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const e=await lS(n.localStore,sv(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await BE(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&GS(n.remoteStore,e)}return i}async function BE(e,t,n,r,i){e.va=(t,n,r)=>async function(e,t,n,r){let i=t.view.ca(n);i.Zi&&(i=await hS(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ca(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return ZE(e,t.targetId,o.Ta),o.snapshot}(e,t,n,r);const s=await hS(e.localStore,t,!0),o=new FE(t,s.ls),a=o.ca(s.documents),c=Iw.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=o.applyChanges(a,e.isPrimaryClient,c);ZE(e,n,l.Ta);const u=new jE(t,n,o);return e.ma.set(t,u),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),l.snapshot}async function qE(e,t){const n=rm(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter((e=>!lv(e,t)))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await uS(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),HS(n.remoteStore,r.targetId),XE(n,r.targetId)})).catch(jm)):(XE(n,r.targetId),await uS(n.localStore,r.targetId,!0))}async function WE(e,t){const n=rm(e);try{const e=await function(e,t){const n=rm(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const o=[];t.targetChanges.forEach(((s,a)=>{const c=i.get(a);if(!c)return;o.push(n.qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.qr.addMatchingKeys(e,s.addedDocuments,a))));let l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?l=l.withResumeToken(zg.EMPTY_BYTE_STRING,_m.min()).withLastLimboFreeSnapshotVersion(_m.min()):s.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(s.resumeToken,r)),i=i.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,s)&&o.push(n.qr.updateTargetData(e,l))}));let a=vv(),c=xv();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(aS(e,s,t.documentUpdates).next((e=>{a=e.us,c=e.cs}))),!r.isEqual(_m.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Um.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.ya.get(t);r&&(nm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ra=!0:e.modifiedDocuments.size>0?nm(r.Ra):e.removedDocuments.size>0&&(nm(r.Ra),r.Ra=!1))})),await nI(n,e,t)}catch(e){await jm(e)}}function KE(e,t,n){const r=rm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ma.forEach(((n,r)=>{const i=r.view.Q_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=rm(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Q_(t)&&(r=!0)})),r&&NE(n)}(r.eventManager,t),e.length&&r.Va.a_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function GE(e,t,n){const r=rm(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let e=new Rg(km.comparator);e=e.insert(s,by.newNoDocument(s,_m.min()));const n=xv().add(s),i=new Ew(_m.min(),new Map,new Rg(ym),e,n);await WE(r,i),r.pa=r.pa.remove(s),r.ya.delete(t),tI(r)}else await uS(r.localStore,t,!1).then((()=>XE(r,t,n))).catch(jm)}async function HE(e,t){const n=rm(e),r=t.batch.batchId;try{const e=await function(e,t){const n=rm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Um.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);nm(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=xv();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);$E(n,r,null),YE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nI(n,e)}catch(e){await jm(e)}}async function QE(e,t,n){const r=rm(e);try{const e=await function(e,t){const n=rm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(nm(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);$E(r,t,n),YE(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await nI(r,e)}catch(n){await jm(n)}}function YE(e,t){(e.ba.get(t)||[]).forEach((e=>{e.resolve()})),e.ba.delete(t)}function $E(e,t,n){const r=rm(e);let i=r.Sa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function XE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((t=>{e.wa.containsKey(t)||JE(e,t)}))}function JE(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);null!==n&&(HS(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),tI(e))}function ZE(e,t,n){for(const r of n)r instanceof LE?(e.wa.addReference(r.key,t),eI(e,r)):r instanceof ME?(Xp("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||JE(e,r.key)):tm()}function eI(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(Xp("SyncEngine","New document in limbo: "+n),e.ga.add(r),tI(e))}function tI(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new km(Em.fromString(t)),r=e.Da.next();e.ya.set(r,new UE(n)),e.pa=e.pa.insert(n,r),GS(e.remoteStore,new hb(sv(tv(n.path)),r,"TargetPurposeLimboResolution",Xm._e))}}async function nI(e,t,n){const r=rm(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach(((e,a)=>{o.push(r.va(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=eS.Qi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Va.a_(i),await async function(e,t){const n=rm(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Um.forEach(t,(t=>Um.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Um.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Wm(e))throw e;Xp("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,s))}async function rI(e,t){const n=rm(e);if(!n.currentUser.isEqual(t)){Xp("SyncEngine","User change. New user:",t.toKey());const e=await sS(n.localStore,t);n.currentUser=t,function(e,t){e.ba.forEach((e=>{e.forEach((e=>{e.reject(new sm(im.CANCELLED,t))}))})),e.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await nI(n,e._s)}}function iI(e,t){const n=rm(e),r=n.ya.get(t);if(r&&r.Ra)return xv().add(r.key);{let e=xv();const r=n.fa.get(t);if(!r)return e;for(const t of r){const r=n.ma.get(t);e=e.unionWith(r.view.ua)}return e}}async function sI(e,t){const n=rm(e),r=await hS(n.localStore,t.query,!0),i=t.view.da(r);return n.isPrimaryClient&&ZE(n,t.targetId,i.Ta),i}async function oI(e,t){const n=rm(e);return fS(n.localStore,t).then((e=>nI(n,e)))}async function aI(e,t,n,r){const i=rm(e),s=await function(e,t){const n=rm(e),r=rm(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Cn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Um.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await sE(i.remoteStore):"acknowledged"===n||"rejected"===n?($E(i,t,r||null),YE(i,t),function(e,t){rm(rm(e).mutationQueue).Fn(t)}(i.localStore,t)):tm(),await nI(i,s)):Xp("SyncEngine","Cannot apply mutation batch with id: "+t)}async function cI(e,t,n){const r=rm(e),i=[],s=[];for(const o of t){let e;const t=r.fa.get(o);if(t&&0!==t.length){e=await lS(r.localStore,sv(t[0]));for(const e of t){const t=r.ma.get(e),n=await sI(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await dS(r.localStore,o);e=await lS(r.localStore,t),await BE(r,lI(t),o,!1,e.resumeToken)}i.push(e)}return r.Va.a_(s),i}function lI(e){return ev(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function uI(e){return function(e){return rm(rm(e).persistence).Bi()}(rm(e).localStore)}async function hI(e,t,n,r){const i=rm(e);if(i.Ca)return void Xp("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await fS(i.localStore,fv(s[0])),r=Ew.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,zg.EMPTY_BYTE_STRING);await nI(i,e,r);break}case"rejected":await uS(i.localStore,t,!0),XE(i,t,r);break;default:tm()}}async function dI(e,t,n){const r=fI(e);if(r.Ca){for(const e of t){if(r.fa.has(e)){Xp("SyncEngine","Adding an already active target "+e);continue}const t=await dS(r.localStore,e),n=await lS(r.localStore,t);await BE(r,lI(t),n.targetId,!1,n.resumeToken),GS(r.remoteStore,n)}for(const e of n)r.fa.has(e)&&await uS(r.localStore,e,!1).then((()=>{HS(r.remoteStore,e),XE(r,e)})).catch(jm)}}function fI(e){const t=rm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=WE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=GE.bind(null,t),t.Va.a_=xE.bind(null,t.eventManager),t.Va.Fa=CE.bind(null,t.eventManager),t}function pI(e){const t=rm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=HE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=QE.bind(null,t),t}class mI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=MS(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return iS(this.persistence,new nS,e.initialUser,this.serializer)}createPersistence(e){return new W_(G_.jr,this.serializer)}createSharedClientState(e){return new TS}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class gI extends mI{constructor(e,t,n){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await pI(this.xa.syncEngine),await sE(this.xa.remoteStore),await this.persistence.mi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return iS(this.persistence,new nS,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new b_(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new $m(t,this.persistence);return new Ym(e.asyncQueue,n)}createPersistence(e){const t=Z_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?s_.withCacheSize(this.cacheSizeBytes):s_.DEFAULT;return new $_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,DS(),LS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new TS}}class yI extends gI{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xa.syncEngine;this.sharedClientState instanceof IS&&(this.sharedClientState.syncEngine={Ys:aI.bind(null,t),Zs:hI.bind(null,t),Xs:dI.bind(null,t),Bi:uI.bind(null,t),Js:oI.bind(null,t)},await this.sharedClientState.start()),await this.persistence.mi((async e=>{await async function(e,t){const n=rm(e);if(fI(n),pI(n),!0===t&&!0!==n.Ca){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await cI(n,e.toArray());n.Ca=!0,await mE(n.remoteStore,!0);for(const r of t)GS(n.remoteStore,r)}else if(!1===t&&!1!==n.Ca){const e=[];let t=Promise.resolve();n.fa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(XE(n,i),uS(n.localStore,i,!0)))),HS(n.remoteStore,i)})),await t,await cI(n,e),function(e){const t=rm(e);t.ya.forEach(((e,n)=>{HS(t.remoteStore,n)})),t.wa.Vr(),t.ya=new Map,t.pa=new Rg(km.comparator)}(n),n.Ca=!1,await mE(n.remoteStore,!1)}}(this.xa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=DS();if(!IS.D(t))throw new sm(im.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Z_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new IS(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class vI{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>KE(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=rI.bind(null,this.syncEngine),await mE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new IE}createDatastore(e){const t=MS(e.databaseInfo.databaseId),n=function(e){return new RS(e)}(e.databaseInfo);return function(e,t,n,r){return new zS(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new qS(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>KE(this.syncEngine,e,0)),xS.D()?new xS:new kS)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new VE(e,t,n,r,i,s);return o&&(a.Ca=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=rm(e);Xp("RemoteStore","RemoteStore shutting down."),t.C_.add(5),await KS(t),t.F_.shutdown(),t.M_.set("Unknown")}(this.remoteStore)}}function wI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class bI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Jp("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class _I{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new om,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then((e=>{e&&e.Z_()?this.metadata.resolve(e.Y_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Y_))))}),(e=>this.metadata.reject(e)))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(null===e)return null;const t=this.La.decode(e),n=Number(t);isNaN(n)&&this.Qa("length string (".concat(t,") is not valid number"));const r=await this.Ka(n);return new OE(JSON.parse(r),e.length+n)}$a(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async qa(){for(;this.$a()<0&&!await this.Ua(););if(0===this.buffer.length)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const t=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qa(e){throw this.Ba.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ua(){const e=await this.Ba.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class SI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new sm(im.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=rm(e),r=Hw(n.serializer)+"/documents",i={documents:t.map((e=>qw(n.serializer,e)))},s=await n.Co("BatchGetDocuments",r,i,t.length),o=new Map;s.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){nm(!!t.found),t.found.name,t.found.updateTime;const n=Ww(e,t.found.name),r=Vw(t.found.updateTime),i=t.found.createTime?Vw(t.found.createTime):_m.min(),s=new vy({mapValue:{fields:t.found.fields}});return by.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){nm(!!t.missing),nm(!!t.readTime);const n=Ww(e,t.missing),r=Vw(t.readTime);return by.newNoDocument(n,r)}(e,t):tm()}(n.serializer,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());nm(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new ow(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=km.fromPath(t);this.mutations.push(new aw(n,this.precondition(n)))})),await async function(e,t){const n=rm(e),r=Hw(n.serializer)+"/documents",i={writes:t.map((e=>Xw(n.serializer,e)))};await n.wo("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tm();t=_m.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new sm(im.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(_m.min())?Hv.exists(!1):Hv.updateTime(t):Hv.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_m.min()))throw new sm(im.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Hv.updateTime(t)}return Hv.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class EI{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Wa=n.maxAttempts,this.zo=new FS(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko((async()=>{const e=new SI(this.datastore),t=this.za(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.ja(e)}))))})).catch((e=>{this.ja(e)}))}))}za(e){try{const t=this.updateFunction(e);return!Jm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ga(),Promise.resolve())))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!pw(t)}return!1}}class II{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Hp.UNAUTHENTICATED,this.clientId=gm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Xp("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Xp("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new sm(im.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new om;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(Ae){const n=wE(Ae,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function TI(e,t){e.asyncQueue.verifyOperationInProgress(),Xp("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await sS(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function kI(e,t){e.asyncQueue.verifyOperationInProgress();const n=await CI(e);Xp("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>pE(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>pE(t.remoteStore,n))),e._onlineComponents=t}function xI(e){return"FirebaseError"===e.name?e.code===im.FAILED_PRECONDITION||e.code===im.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function CI(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Xp("FirestoreClient","Using user provided OfflineComponentProvider");try{await TI(e,e._uninitializedComponentsProvider._offline)}catch(Ae){const n=Ae;if(!xI(n))throw n;Zp("Error using user provided cache. Falling back to memory cache: "+n),await TI(e,new mI)}}else Xp("FirestoreClient","Using default OfflineComponentProvider"),await TI(e,new mI);return e._offlineComponents}async function NI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Xp("FirestoreClient","Using user provided OnlineComponentProvider"),await kI(e,e._uninitializedComponentsProvider._online)):(Xp("FirestoreClient","Using default OnlineComponentProvider"),await kI(e,new vI))),e._onlineComponents}function AI(e){return CI(e).then((e=>e.persistence))}function OI(e){return CI(e).then((e=>e.localStore))}function PI(e){return NI(e).then((e=>e.remoteStore))}function RI(e){return NI(e).then((e=>e.syncEngine))}function DI(e){return NI(e).then((e=>e.datastore))}async function LI(e){const t=await NI(e),n=t.eventManager;return n.onListen=zE.bind(null,t.syncEngine),n.onUnlisten=qE.bind(null,t.syncEngine),n}function MI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new om;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new bI({next:s=>{t.enqueueAndForget((()=>kE(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new sm(im.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new sm(im.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new AE(tv(n.path),s,{includeMetadataChanges:!0,J_:!0});return TE(e,o)}(await LI(e),e.asyncQueue,t,n,r))),r.promise}function FI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new om;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new bI({next:n=>{t.enqueueAndForget((()=>kE(e,o))),n.fromCache&&"server"===r.source?i.reject(new sm(im.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new AE(n,s,{includeMetadataChanges:!0,J_:!0});return TE(e,o)}(await LI(e),e.asyncQueue,t,n,r))),r.promise}function jI(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?yw().encode(e):e,function(e,t){return new _I(e,t)}(function(e,t){if(e instanceof Uint8Array)return wI(e,t);if(e instanceof ArrayBuffer)return wI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,MS(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=rm(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=rm(e),r=Vw(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Kr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(DE(r));const i=new RE(r,e.localStore,t.serializer);let s=await t.Ma();for(;s;){const e=await i.ea(s);e&&n._updateProgress(e),s=await t.Ma()}const o=await i.complete();return await nI(e,o.ra,void 0),await function(e,t){const n=rm(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Kr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.na)}catch(e){return Zp("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await RI(e),i,r)}))}function UI(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const VI=new Map;function zI(e,t,n){if(!n)throw new sm(im.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function BI(e,t,n,r){if(!0===t&&!0===r)throw new sm(im.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function qI(e){if(!km.isDocumentKey(e))throw new sm(im.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function WI(e){if(km.isDocumentKey(e))throw new sm(im.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function KI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":tm()}function GI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new sm(im.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=KI(e);throw new sm(im.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function HI(e,t){if(t<=0)throw new sm(im.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class QI{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new sm(im.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new sm(im.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UI(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new sm(im.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new sm(im.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new sm(im.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class YI{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new sm(im.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new sm(im.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new cm;switch(e.type){case"firstParty":return new dm(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new sm(im.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=VI.get(e);t&&(Xp("ComponentProvider","Removing Datastore"),VI.delete(e),t.terminate())}(this),Promise.resolve()}}function $I(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=GI(e,YI))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&Zp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Hp.MOCK_USER;else{t=Ur(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new sm(im.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Hp(s)}e._authCredentials=new lm(new am(t,n))}}class XI{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new XI(this.firestore,e,this._query)}}class JI{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ZI(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new JI(this.firestore,e,this._key)}}class ZI extends XI{constructor(e,t,n){super(e,t,tv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new JI(this.firestore,null,new km(e))}withConverter(e){return new ZI(this.firestore,e,this._path)}}function eT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ii(e),zI("collection","path",t),e instanceof YI){const n=Em.fromString(t,...r);return WI(n),new ZI(e,null,n)}{if(!(e instanceof JI||e instanceof ZI))throw new sm(im.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Em.fromString(t,...r));return WI(n),new ZI(e.firestore,null,n)}}function tT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ii(e),1===arguments.length&&(t=gm.newId()),zI("doc","path",t),e instanceof YI){const n=Em.fromString(t,...r);return qI(n),new JI(e,null,new km(n))}{if(!(e instanceof JI||e instanceof ZI))throw new sm(im.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Em.fromString(t,...r));return qI(n),new JI(e.firestore,e instanceof ZI?e.converter:null,new km(n))}}function nT(e,t){return e=ii(e),t=ii(t),(e instanceof JI||e instanceof ZI)&&(t instanceof JI||t instanceof ZI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function rT(e,t){return e=ii(e),t=ii(t),e instanceof XI&&t instanceof XI&&e.firestore===t.firestore&&lv(e._query,t._query)&&e.converter===t.converter}class iT{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new FS(this,"async_queue_retry"),this.iu=()=>{const e=LS();e&&Xp("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const e=LS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=LS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise((()=>{}));const t=new om;return this.ou((()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ya.push(e),this._u())))}async _u(){if(0!==this.Ya.length){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Wm(e))throw e;Xp("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko((()=>this._u()))}}ou(e){const t=this.Ja.then((()=>(this.tu=!0,e().catch((e=>{this.eu=e,this.tu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Jp("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.tu=!1,e))))));return this.Ja=t,t}enqueueAfterDelay(e,t,n){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=vE.createAndSchedule(this,e,t,n,(e=>this.au(e)));return this.Xa.push(r),r}su(){this.eu&&tm()}verifyOperationInProgress(){}async uu(){let e;do{e=this.Ja,await e}while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then((()=>{this.Xa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()}))}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function sT(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class oT{constructor(){this._progressObserver={},this._taskCompletionResolver=new om,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class aT extends YI{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new iT,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||lT(this),this._firestoreClient.terminate()}}function cT(e){return e._firestoreClient||lT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function lT(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Yg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,UI(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new II(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function uT(e,t,n){const r=new om;return e.asyncQueue.enqueue((async()=>{try{await TI(e,n),await kI(e,t),r.resolve()}catch(e){const n=e;if(!xI(n))throw n;Zp("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function hT(e){return function(e){const t=new om;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=rm(e);JS(n.remoteStore)||Xp("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=rm(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.ba.get(e)||[];r.push(t),n.ba.set(e,r)}catch(e){const n=wE(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await RI(e),t))),t.promise}(cT(e=GI(e,aT)))}function dT(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await AI(e),n=await PI(e);return t.setNetworkEnabled(!0),function(e){const t=rm(e);return t.C_.delete(0),WS(t)}(n)}))}(cT(e=GI(e,aT)))}function fT(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await AI(e),n=await PI(e);return t.setNetworkEnabled(!1),async function(e){const t=rm(e);t.C_.add(0),await KS(t),t.M_.set("Offline")}(n)}))}(cT(e=GI(e,aT)))}function pT(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=rm(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Kr.getNamedQuery(e,t)))}(await OI(e),t)))}(cT(e=GI(e,aT)),t).then((t=>t?new XI(e,null,t.query):null))}function mT(e){if(e._initialized||e._terminated)throw new sm(im.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gT{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gT(zg.fromBase64String(e))}catch(e){throw new sm(im.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new gT(zg.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class yT{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new sm(im.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tm(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vT{constructor(e){this._methodName=e}}class wT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new sm(im.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new sm(im.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ym(this._lat,e._lat)||ym(this._long,e._long)}}const bT=/^__.*__$/;class _T{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new nw(e,this.data,this.fieldMask,t,this.fieldTransforms):new tw(e,this.data,t,this.fieldTransforms)}}class ST{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new nw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ET(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tm()}}class IT{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new IT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return WT(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(ET(this.Iu)&&bT.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class TT{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||MS(e)}pu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new IT({Iu:e,methodName:t,gu:n,path:Tm.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kT(e){const t=e._freezeSettings(),n=MS(e._databaseId);return new TT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function xT(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.pu(s.merge||s.mergeFields?2:0,t,n,i);VT("Data must be an object, but it was:",o,r);const a=jT(r,o);let c,l;if(s.merge)c=new Ug(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=zT(t,r,n);if(!o.contains(i))throw new sm(im.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));KT(e,i)||e.push(i)}c=new Ug(e),l=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=o.fieldTransforms;return new _T(new vy(a),c,l)}class CT extends vT{_toFieldTransform(e){if(2!==e.Iu)throw 1===e.Iu?e.mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof CT}}function NT(e,t,n){return new IT({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class AT extends vT{_toFieldTransform(e){return new Kv(e.path,new Fv)}isEqual(e){return e instanceof AT}}class OT extends vT{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=NT(this,e,!0),n=this.yu.map((e=>FT(e,t))),r=new jv(n);return new Kv(e.path,r)}isEqual(e){return this===e}}class PT extends vT{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=NT(this,e,!0),n=this.yu.map((e=>FT(e,t))),r=new Vv(n);return new Kv(e.path,r)}isEqual(e){return this===e}}class RT extends vT{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new Bv(e.serializer,Pv(e.serializer,this.wu));return new Kv(e.path,t)}isEqual(e){return this===e}}function DT(e,t,n,r){const i=e.pu(1,t,n);VT("Data must be an object, but it was:",i,r);const s=[],o=vy.empty();Og(r,((e,r)=>{const a=qT(t,e,n);r=ii(r);const c=i.Ru(a);if(r instanceof CT)s.push(a);else{const e=FT(r,c);null!=e&&(s.push(a),o.set(a,e))}}));const a=new Ug(s);return new ST(o,a,i.fieldTransforms)}function LT(e,t,n,r,i,s){const o=e.pu(1,t,n),a=[zT(t,r,n)],c=[i];if(s.length%2!=0)throw new sm(im.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(zT(t,s[d])),c.push(s[d+1]);const l=[],u=vy.empty();for(let d=a.length-1;d>=0;--d)if(!KT(l,a[d])){const e=a[d];let t=c[d];t=ii(t);const n=o.Ru(e);if(t instanceof CT)l.push(e);else{const r=FT(t,n);null!=r&&(l.push(e),u.set(e,r))}}const h=new Ug(l);return new ST(u,h,o.fieldTransforms)}function MT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return FT(n,e.pu(r?4:3,t))}function FT(e,t){if(UT(e=ii(e)))return VT("Unsupported field value:",t,e),jT(e,t);if(e instanceof vT)return function(e,t){if(!ET(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=FT(i,t.Vu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ii(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Pv(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=bm.fromDate(e);return{timestampValue:Fw(t.serializer,n)}}if(e instanceof bm){const n=new bm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Fw(t.serializer,n)}}if(e instanceof wT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof gT)return{bytesValue:jw(t.serializer,e._byteString)};if(e instanceof JI){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.mu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:zw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(KI(e)))}(e,t)}function jT(e,t){const n={};return Pg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Og(e,((e,r)=>{const i=FT(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function UT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof bm||e instanceof wT||e instanceof gT||e instanceof JI||e instanceof vT)}function VT(e,t,n){if(!UT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=KI(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function zT(e,t,n){if((t=ii(t))instanceof yT)return t._internalPath;if("string"==typeof t)return qT(e,t);throw WT("Field path arguments must be of type string or ",e,!1,void 0,n)}const BT=new RegExp("[~\\*/\\[\\]]");function qT(e,t,n){if(t.search(BT)>=0)throw WT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new yT(...t.split("."))._internalPath}catch(Ne){throw WT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function WT(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=" in field ".concat(r)),o&&(c+=" in document ".concat(i)),c+=")"),new sm(im.INVALID_ARGUMENT,a+e+c)}function KT(e,t){return e.some((e=>e.isEqual(t)))}class GT{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new JI(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new HT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(QT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class HT extends GT{data(){return super.data()}}function QT(e,t){return"string"==typeof t?qT(e,t):t instanceof yT?t._internalPath:t._delegate._internalPath}function YT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new sm(im.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $T{}class XT extends $T{}function JT(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof $T&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof ek)).length,n=e.filter((e=>e instanceof ZT)).length;if(t>1||t>0&&n>0)throw new sm(im.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class ZT extends XT{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new ZT(e,t,n)}_apply(e){const t=this._parse(e);return ck(e._query,t),new XI(e.firestore,e.converter,av(e._query,t))}_parse(e){const t=kT(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new sm(im.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){ak(o,s);const t=[];for(const n of o)t.push(ok(r,e,n));a={arrayValue:{values:t}}}else a=ok(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||ak(o,s),a=MT(n,t,o,"in"===s||"not-in"===s);return xy.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class ek extends $T{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ek(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Cy.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)ck(n,i),n=av(n,i)}(e._query,t),new XI(e.firestore,e.converter,av(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class tk extends XT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new tk(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new sm(im.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new sm(im.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Iy(t,n)}(e._query,this._field,this._direction);return new XI(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Zy(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class nk extends XT{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new nk(e,t,n)}_apply(e){return new XI(e.firestore,e.converter,cv(e._query,this._limit,this._limitType))}}class rk extends XT{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new rk(e,t,n)}_apply(e){const t=sk(e,this.type,this._docOrFields,this._inclusive);return new XI(e.firestore,e.converter,function(e,t){return new Zy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class ik extends XT{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new ik(e,t,n)}_apply(e){const t=sk(e,this.type,this._docOrFields,this._inclusive);return new XI(e.firestore,e.converter,function(e,t){return new Zy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function sk(e,t,n,r){if(n[0]=ii(n[0]),n[0]instanceof GT)return function(e,t,n,r,i){if(!r)throw new sm(im.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of iv(e))if(o.field.isKeyField())s.push(oy(t,r.key));else{const e=r.data.field(o.field);if(Gg(e))throw new sm(im.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new sm(im.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new _y(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=kT(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new sm(im.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let c=0;c<i.length;c++){const s=i[c];if(o[c].field.isKeyField()){if("string"!=typeof s)throw new sm(im.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!rv(e)&&-1!==s.indexOf("/"))throw new sm(im.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(Em.fromString(s));if(!km.isDocumentKey(n))throw new sm(im.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new km(n);a.push(oy(t,i))}else{const e=MT(n,r,s);a.push(e)}}return new _y(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function ok(e,t,n){if("string"==typeof(n=ii(n))){if(""===n)throw new sm(im.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rv(t)&&-1!==n.indexOf("/"))throw new sm(im.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Em.fromString(n));if(!km.isDocumentKey(r))throw new sm(im.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return oy(e,new km(r))}if(n instanceof JI)return oy(e,n._key);throw new sm(im.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(KI(n),"."))}function ak(e,t){if(!Array.isArray(e)||0===e.length)throw new sm(im.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function ck(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new sm(im.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new sm(im.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class lk{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Zg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Kg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tm()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Og(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new wT(Wg(e.latitude),Wg(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Hg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Qg(e));default:return null}}convertTimestamp(e){const t=qg(e);return new bm(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Em.fromString(e);nm(ub(n));const r=new $g(n.get(1),n.get(3)),i=new km(n.popFirst(5));return r.isEqual(t)||Jp("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function uk(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class hk extends lk{constructor(e){super(),this.firestore=e}convertBytes(e){return new gT(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new JI(this.firestore,null,t)}}class dk{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fk extends GT{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new pk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(QT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class pk extends fk{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class mk{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new dk(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new pk(this._firestore,this._userDataWriter,n.key,n,new dk(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new sm(im.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new pk(e._firestore,e._userDataWriter,n.doc.key,n.doc,new dk(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new pk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:gk(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function gk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tm()}}function yk(e,t){return e instanceof fk&&t instanceof fk?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof mk&&t instanceof mk&&e._firestore===t._firestore&&rT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class vk extends lk{constructor(e){super(),this.firestore=e}convertBytes(e){return new gT(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new JI(this.firestore,null,t)}}function wk(e){e=GI(e,JI);const t=GI(e.firestore,aT),n=cT(t),r=new vk(t);return function(e,t){const n=new om;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=rm(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new sm(im.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=wE(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await OI(e),t,n))),n.promise}(n,e._key).then((n=>new fk(t,r,e._key,n,new dk(null!==n&&n.hasLocalMutations,!0),e.converter)))}function bk(e){e=GI(e,XI);const t=GI(e.firestore,aT),n=cT(t),r=new vk(t);return function(e,t){const n=new om;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await hS(e,t,!0),i=new FE(t,r.ls),s=i.ca(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=wE(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await OI(e),t,n))),n.promise}(n,e._query).then((n=>new mk(t,r,e,n)))}function _k(e,t,n){e=GI(e,JI);const r=GI(e.firestore,aT),i=uk(e.converter,t,n);return Tk(r,[xT(kT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Hv.none())])}function Sk(e,t,n){e=GI(e,JI);const r=GI(e.firestore,aT),i=kT(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),c=3;c<o;c++)a[c-3]=arguments[c];return s="string"==typeof(t=ii(t))||t instanceof yT?LT(i,"updateDoc",e._key,t,n,a):DT(i,"updateDoc",e._key,t),Tk(r,[s.toMutation(e._key,Hv.exists(!0))])}function Ek(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=ii(e);let a={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||sT(n[c])||(a=n[c],c++);const l={includeMetadataChanges:a.includeMetadataChanges};if(sT(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[c+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,h,d;if(e instanceof JI)h=GI(e.firestore,aT),d=tv(e._key.path),u={next:t=>{n[c]&&n[c](kk(h,e,t))},error:n[c+1],complete:n[c+2]};else{const t=GI(e,XI);h=GI(t.firestore,aT),d=t._query;const r=new vk(h);u={next:e=>{n[c]&&n[c](new mk(h,r,t,e))},error:n[c+1],complete:n[c+2]},YT(e._query)}return function(e,t,n,r){const i=new bI(r),s=new AE(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>TE(await LI(e),s))),()=>{i.Na(),e.asyncQueue.enqueueAndForget((async()=>kE(await LI(e),s)))}}(cT(h),d,l,u)}function Ik(e,t){return function(e,t){const n=new bI(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){rm(e).q_.add(t),t.next()}(await LI(e),n))),()=>{n.Na(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){rm(e).q_.delete(t)}(await LI(e),n)))}}(cT(e=GI(e,aT)),sT(t)?t:{next:t})}function Tk(e,t){return function(e,t){const n=new om;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=pI(e);try{const e=await function(e,t){const n=rm(e),r=bm.now(),i=t.reduce(((e,t)=>e.add(t.key)),xv());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=vv(),c=xv();return n.ss.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=Zv(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new nw(e.key,t,wy(t.value.mapValue),Hv.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:_v(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Sa[e.currentUser.toKey()];r||(r=new Rg(ym)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(r,e.batchId,n),await nI(r,e.changes),await sE(r.remoteStore)}catch(e){const t=wE(e,"Failed to persist write");n.reject(t)}}(await RI(e),t,n))),n.promise}(cT(e),t)}function kk(e,t,n){const r=n.docs.get(t._key),i=new vk(e);return new fk(e,i,t._key,r,new dk(n.hasPendingWrites,n.fromCache),t.converter)}const xk={maxAttempts:5};class Ck{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=kT(e)}set(e,t,n){this._verifyNotCommitted();const r=Nk(e,this._firestore),i=uk(r.converter,t,n),s=xT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Hv.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Nk(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=ii(t))||t instanceof yT?LT(this._dataReader,"WriteBatch.update",r._key,t,n,o):DT(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Hv.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Nk(e,this._firestore);return this._mutations=this._mutations.concat(new ow(t._key,Hv.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new sm(im.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nk(e,t){if((e=ii(e)).firestore!==t)throw new sm(im.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Ak extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=kT(e)}get(e){const t=Nk(e,this._firestore),n=new hk(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return tm();const r=e[0];if(r.isFoundDocument())return new GT(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new GT(this._firestore,n,t._key,null,t.converter);throw tm()}))}set(e,t,n){const r=Nk(e,this._firestore),i=uk(r.converter,t,n),s=xT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=Nk(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=ii(t))||t instanceof yT?LT(this._dataReader,"Transaction.update",r._key,t,n,o):DT(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Nk(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Nk(e,this._firestore),n=new vk(this._firestore);return super.get(e).then((e=>new fk(this._firestore,n,t._key,e._document,new dk(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Qp=e}(Yi),qi(new si("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new aT(new um(e.getProvider("auth-internal")),new pm(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new sm(im.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $g(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),es(Gp,"4.3.2",e),es(Gp,"4.3.2","esm2017")}();function Ok(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new sm("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Pk(){if("undefined"===typeof Uint8Array)throw new sm("unimplemented","Uint8Arrays are not available in this environment.")}function Rk(){if("undefined"==typeof atob)throw new sm("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Dk{constructor(e){this._delegate=e}static fromBase64String(e){return Rk(),new Dk(gT.fromBase64String(e))}static fromUint8Array(e){return Pk(),new Dk(gT.fromUint8Array(e))}toBase64(){return Rk(),this._delegate.toBase64()}toUint8Array(){return Pk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Lk(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Mk{enableIndexedDbPersistence(e,t){return function(e,t){mT(e=GI(e,aT));const n=cT(e);if(n._uninitializedComponentsProvider)throw new sm(im.FAILED_PRECONDITION,"SDK cache is already specified.");Zp("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new vI;return uT(n,i,new gI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){mT(e=GI(e,aT));const t=cT(e);if(t._uninitializedComponentsProvider)throw new sm(im.FAILED_PRECONDITION,"SDK cache is already specified.");Zp("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new vI;return uT(t,r,new yI(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new sm(im.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new om;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!zm.D())return Promise.resolve();const t=e+"main";await zm.delete(t)}(Z_(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class Fk{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof $g||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Zp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$I(this._delegate,e,t,n)}enableNetwork(){return dT(this._delegate)}disableNetwork(){return fT(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,BI("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return hT(this._delegate)}onSnapshotsInSync(e){return Ik(this._delegate,e)}get app(){if(!this._appCompat)throw new sm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Xk(this,eT(this._delegate,e))}catch(t){throw qk(t,"collection()","Firestore.collection()")}}doc(e){try{return new Bk(this,tT(this._delegate,e))}catch(t){throw qk(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Qk(this,function(e,t){if(e=GI(e,YI),zI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new sm(im.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new XI(e,null,function(e){return new Zy(Em.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw qk(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=GI(e,aT);const r=Object.assign(Object.assign({},xk),n);return function(e){if(e.maxAttempts<1)throw new sm(im.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new om;return e.asyncQueue.enqueueAndForget((async()=>{const i=await DI(e);new EI(e.asyncQueue,i,n,t,r).run()})),r.promise}(cT(e),(n=>t(new Ak(e,n))),r)}(this._delegate,(t=>e(new Uk(this,t))))}batch(){return cT(this._delegate),new Vk(new Ck(this._delegate,(e=>Tk(this._delegate,e))))}loadBundle(e){return function(e,t){const n=cT(e=GI(e,aT)),r=new oT;return jI(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return pT(this._delegate,e).then((e=>e?new Qk(this,e):null))}}class jk extends lk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dk(new gT(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Bk.forKey(t,this.firestore,null)}}class Uk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new jk(e)}get(e){const t=Jk(e);return this._delegate.get(t).then((e=>new Gk(this._firestore,new fk(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=Jk(e);return n?(Ok("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=Jk(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=Jk(e);return this._delegate.delete(t),this}}class Vk{constructor(e){this._delegate=e}set(e,t,n){const r=Jk(e);return n?(Ok("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=Jk(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=Jk(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class zk{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new pk(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Hk(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=zk.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new zk(e,new jk(e),t),r.set(t,i)),i}}zk.INSTANCES=new WeakMap;class Bk{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jk(e)}static forPath(e,t,n){if(e.length%2!==0)throw new sm("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new Bk(t,new JI(t._delegate,n,new km(e)))}static forKey(e,t,n){return new Bk(t,new JI(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Xk(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Xk(this.firestore,eT(this._delegate,e))}catch(t){throw qk(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=ii(e))instanceof JI&&nT(this._delegate,e)}set(e,t){t=Ok("DocumentReference.set",t);try{return t?_k(this._delegate,e,t):_k(this._delegate,e)}catch(n){throw qk(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Sk(this._delegate,e):Sk(this._delegate,e,t,...r)}catch(s){throw qk(s,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return Tk(GI(e.firestore,aT),[new ow(e._key,Hv.none())])}(this._delegate)}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Wk(t),i=Kk(t,(e=>new Gk(this.firestore,new fk(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return Ek(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?wk(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=GI(e,JI);const t=GI(e.firestore,aT);return MI(cT(t),e._key,{source:"server"}).then((n=>kk(t,e,n)))}(this._delegate):function(e){e=GI(e,JI);const t=GI(e.firestore,aT);return MI(cT(t),e._key).then((n=>kk(t,e,n)))}(this._delegate),t.then((e=>new Gk(this.firestore,new fk(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new Bk(this.firestore,e?this._delegate.withConverter(zk.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function qk(e,t,n){return e.message=e.message.replace(t,n),e}function Wk(e){for(const t of e)if("object"===typeof t&&!Lk(t))return t;return{}}function Kk(e,t){var n,r;let i;return i=Lk(e[0])?e[0]:Lk(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Gk{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Bk(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return yk(this._delegate,e._delegate)}}class Hk extends Gk{data(e){const t=this._delegate.data(e);return this._delegate._converter||function(e,t){e||tm()}(void 0!==t),t}}class Qk{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jk(e)}where(e,t,n){try{return new Qk(this.firestore,JT(this._delegate,function(e,t,n){const r=t,i=QT("where",e);return ZT._create(i,r,n)}(e,t,n)))}catch(r){throw qk(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Qk(this.firestore,JT(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=QT("orderBy",e);return tk._create(n,t)}(e,t)))}catch(n){throw qk(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Qk(this.firestore,JT(this._delegate,function(e){return HI("limit",e),nk._create("limit",e,"F")}(e)))}catch(t){throw qk(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Qk(this.firestore,JT(this._delegate,function(e){return HI("limitToLast",e),nk._create("limitToLast",e,"L")}(e)))}catch(t){throw qk(t,"limitToLast()","Query.limitToLast()")}}startAt(){try{return new Qk(this.firestore,JT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rk._create("startAt",t,!0)}(...arguments)))}catch(e){throw qk(e,"startAt()","Query.startAt()")}}startAfter(){try{return new Qk(this.firestore,JT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rk._create("startAfter",t,!1)}(...arguments)))}catch(e){throw qk(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new Qk(this.firestore,JT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ik._create("endBefore",t,!1)}(...arguments)))}catch(e){throw qk(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new Qk(this.firestore,JT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ik._create("endAt",t,!0)}(...arguments)))}catch(e){throw qk(e,"endAt()","Query.endAt()")}}isEqual(e){return rT(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?bk(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=GI(e,XI);const t=GI(e.firestore,aT),n=cT(t),r=new vk(t);return FI(n,e._query,{source:"server"}).then((n=>new mk(t,r,e,n)))}(this._delegate):function(e){e=GI(e,XI);const t=GI(e.firestore,aT),n=cT(t),r=new vk(t);return YT(e._query),FI(n,e._query).then((n=>new mk(t,r,e,n)))}(this._delegate),t.then((e=>new $k(this.firestore,new mk(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Wk(t),i=Kk(t,(e=>new $k(this.firestore,new mk(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return Ek(this._delegate,r,i)}withConverter(e){return new Qk(this.firestore,e?this._delegate.withConverter(zk.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Yk{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Hk(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class $k{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Qk(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Hk(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new Yk(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Hk(this._firestore,n))}))}isEqual(e){return yk(this._delegate,e._delegate)}}class Xk extends Qk{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Bk(this.firestore,e):null}doc(e){try{return new Bk(this.firestore,void 0===e?tT(this._delegate):tT(this._delegate,e))}catch(t){throw qk(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=GI(e.firestore,aT),r=tT(e),i=uk(e.converter,t);return Tk(n,[xT(kT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Hv.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new Bk(this.firestore,e)))}isEqual(e){return nT(this._delegate,e._delegate)}withConverter(e){return new Xk(this.firestore,e?this._delegate.withConverter(zk.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Jk(e){return GI(e,JI)}class Zk{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new yT(...t)}static documentId(){return new Zk(Tm.keyField().canonicalString())}isEqual(e){return(e=ii(e))instanceof yT&&this._delegate._internalPath.isEqual(e._internalPath)}}class ex{constructor(e){this._delegate=e}static serverTimestamp(){const e=new AT("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new ex(e)}static delete(){const e=new CT("deleteField");return e._methodName="FieldValue.delete",new ex(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new OT("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new ex(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new PT("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new ex(e)}static increment(e){const t=function(e){return new RT("increment",e)}(e);return t._methodName="FieldValue.increment",new ex(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const tx={Firestore:Fk,GeoPoint:wT,Timestamp:bm,Blob:Dk,Transaction:Uk,WriteBatch:Vk,DocumentReference:Bk,DocumentSnapshot:Gk,Query:Qk,QueryDocumentSnapshot:Hk,QuerySnapshot:$k,CollectionReference:Xk,FieldPath:Zk,FieldValue:ex,setLogLevel:function(e){!function(e){Yp.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new si("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},tx)))}(e,((e,t)=>new Fk(e,t,new Mk))),e.registerVersion("@firebase/firestore-compat","0.3.22")}(ws);const nx="firebasestorage.googleapis.com",rx="storageBucket";class ix extends Gr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(ax(e),"Firebase Storage: ".concat(t," (").concat(ax(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ix.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ax(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var sx,ox;function ax(e){return"storage/"+e}function cx(){return new ix(sx.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function lx(){return new ix(sx.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ux(){return new ix(sx.CANCELED,"User canceled the upload/download.")}function hx(){return new ix(sx.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function dx(e){return new ix(sx.INVALID_ARGUMENT,e)}function fx(){return new ix(sx.APP_DELETED,"The Firebase app was deleted.")}function px(e){return new ix(sx.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mx(e,t){return new ix(sx.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function gx(e){throw new ix(sx.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(sx||(sx={}));class yx{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=yx.makeFromUrl(e,t)}catch(i){return new yx(e,"")}if(""===n.path)return n;throw r=e,new ix(sx.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===nx?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let c=0;c<a.length;c++){const t=a[c],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new yx(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new ix(sx.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class vx{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function wx(e){return"string"===typeof e||e instanceof String}function bx(e){return _x()&&e instanceof Blob}function _x(){return"undefined"!==typeof Blob&&!zr()}function Sx(e,t,n,r){if(r<t)throw dx("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw dx("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Ex(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Ix(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Tx(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(ox||(ox={}));class kx{constructor(e,t,n,r,i,s,o,a,c,l,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new xx(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===ox.NO_ERROR,i=n.getStatus();if(!t||Tx(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===ox.ABORT;return void e(!1,new xx(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new xx(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(s){r(s)}else if(null!==i){const e=cx();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?fx():ux())}else{r(lx())}};this.canceled_?t(0,new xx(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return 2===a}let l=!1;function u(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,c())}),t)}function d(){s&&clearTimeout(s)}function f(e){if(l)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(c()||o)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),l||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),s=setTimeout((()=>{o=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class xx{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Cx(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Nx(){const e=Cx();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(_x())return new Blob(n);throw new ix(sx.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Ax(e){if("undefined"===typeof atob)throw t="base-64",new ix(sx.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const Ox={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Px{constructor(e,t){this.data=e,this.contentType=t||null}}function Rx(e,t){switch(e){case Ox.RAW:return new Px(Dx(t));case Ox.BASE64:case Ox.BASE64URL:return new Px(Lx(e,t));case Ox.DATA_URL:return new Px(function(e){const t=new Mx(e);return t.base64?Lx(Ox.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw mx(Ox.DATA_URL,"Malformed data URL.")}return Dx(t)}(t.rest)}(t),new Mx(t).contentType)}throw cx()}function Dx(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Lx(e,t){switch(e){case Ox.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw mx(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Ox.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw mx(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Ax(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw mx(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Mx{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw mx(Ox.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Fx{constructor(e,t){let n=0,r="";bx(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(bx(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Fx(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Fx(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(_x()){const e=t.map((e=>e instanceof Fx?e.data_:e));return new Fx(Nx.apply(null,e))}{const e=t.map((e=>wx(e)?Rx(Ox.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Fx(r,!0)}}uploadData(){return this.data_}}function jx(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Ux(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Vx(e,t){return t}class zx{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Vx}}let Bx=null;function qx(){if(Bx)return Bx;const e=[];e.push(new zx("bucket")),e.push(new zx("generation")),e.push(new zx("metageneration")),e.push(new zx("name","fullPath",!0));const t=new zx("name");t.xform=function(e,t){return function(e){return!wx(e)||e.length<2?e:Ux(e)}(t)},e.push(t);const n=new zx("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new zx("timeCreated")),e.push(new zx("updated")),e.push(new zx("md5Hash",null,!0)),e.push(new zx("cacheControl",null,!0)),e.push(new zx("contentDisposition",null,!0)),e.push(new zx("contentEncoding",null,!0)),e.push(new zx("contentLanguage",null,!0)),e.push(new zx("contentType",null,!0)),e.push(new zx("metadata","customMetadata",!0)),Bx=e,Bx}function Wx(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new yx(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Kx(e,t,n){const r=jx(t);if(null===r)return null;return Wx(e,r,n)}function Gx(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const Hx="prefixes",Qx="items";function Yx(e,t,n){const r=jx(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Hx])for(const i of n[Hx]){const n=i.replace(/\/$/,""),s=e._makeStorageReference(new yx(t,n));r.prefixes.push(s)}if(n[Qx])for(const i of n[Qx]){const n=e._makeStorageReference(new yx(t,i.name));r.items.push(n)}return r}(e,t,r)}class $x{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xx(e){if(!e)throw cx()}function Jx(e,t){return function(n,r){const i=Kx(e,r,t);return Xx(null!==i),i}}function Zx(e,t){return function(n,r){const i=Kx(e,r,t);return Xx(null!==i),function(e,t,n,r){const i=jx(t);if(null===i)return null;if(!wx(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return Ex("/b/"+o(i)+"/o/"+o(s),n,r)+Ix({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function eC(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new ix(sx.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new ix(sx.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new ix(sx.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new ix(sx.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function tC(e){const t=eC(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new ix(sx.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function nC(e,t,n){const r=Ex(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new $x(r,"GET",Jx(e,n),i);return s.errorHandler=tC(t),s}function rC(e,t,n,r,i){const s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=Ex(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,c=new $x(o,"GET",function(e,t){return function(n,r){const i=Yx(e,t,r);return Xx(null!==i),i}}(e,t.bucket),a);return c.urlParams=s,c.errorHandler=eC(t),c}function iC(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function sC(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const c=iC(t,r,i),l="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Gx(c,n)+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",u="\r\n--"+a+"--",h=Fx.getBlob(l,r,u);if(null===h)throw hx();const d={name:c.fullPath},f=Ex(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new $x(f,"POST",Jx(e,n),p);return m.urlParams=d,m.headers=o,m.body=h.uploadData(),m.errorHandler=eC(t),m}class oC{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function aC(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Xx(!1)}return Xx(!!n&&-1!==(t||["active"]).indexOf(n)),n}const cC=262144;function lC(e,t,n,r,i,s,o,a){const c=new oC(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new ix(sx.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const l=c.total-c.current;let u=l;i>0&&(u=Math.min(u,i));const h=c.current,d=h+u;let f="";f=0===u?"finalize":l===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(c.current)},m=r.slice(h,d);if(null===m)throw hx();const g=t.maxUploadRetryTime,y=new $x(n,"POST",(function(e,n){const i=aC(e,["active","final"]),o=c.current+u,a=r.size();let l;return l="final"===i?Jx(t,s)(e,n):null,new oC(o,a,"final"===i,l)}),g);return y.headers=p,y.body=m.uploadData(),y.progressCallback=a||null,y.errorHandler=eC(e),y}const uC={STATE_CHANGED:"state_changed"},hC={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function dC(e){switch(e){case"running":case"pausing":case"canceling":return hC.RUNNING;case"paused":return hC.PAUSED;case"success":return hC.SUCCESS;case"canceled":return hC.CANCELED;default:return hC.ERROR}}class fC{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function pC(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let mC=null;class gC{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ox.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=ox.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=ox.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw gx("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gx("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gx("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw gx("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gx("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class yC extends gC{initXhr(){this.xhr_.responseType="text"}}function vC(){return mC?mC():new yC}class wC{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=qx(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(sx.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(Tx(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=lx()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(sx.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o=iC(t,r,i),a={name:o.fullPath},c=Ex(s,e.host,e._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=Gx(o,n),h=e.maxUploadRetryTime,d=new $x(c,"POST",(function(e){let t;aC(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Xx(!1)}return Xx(wx(t)),t}),h);return d.urlParams=a,d.headers=l,d.body=u,d.errorHandler=eC(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,vC,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,s=new $x(n,"POST",(function(e){const t=aC(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){Xx(!1)}n||Xx(!1);const i=Number(n);return Xx(!isNaN(i)),new oC(i,r.size(),"final"===t)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=eC(t),s}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,vC,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=cC*this._chunkMultiplier,t=new oC(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let s;try{s=lC(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const o=this._ref.storage._makeRequest(s,vC,r,i,!1);this._request=o,o.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(cC*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=nC(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,vC,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=sC(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,vC,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=ux(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=dC(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new fC(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(dC(this._state)){case hC.SUCCESS:pC(this._resolve.bind(null,this.snapshot))();break;case hC.CANCELED:case hC.ERROR:pC(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(dC(this._state)){case hC.RUNNING:case hC.PAUSED:e.next&&pC(e.next.bind(e,this.snapshot))();break;case hC.SUCCESS:e.complete&&pC(e.complete.bind(e))();break;default:e.error&&pC(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class bC{constructor(e,t){this._service=e,this._location=t instanceof yx?t:yx.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new bC(e,t)}get root(){const e=new yx(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ux(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new yx(this._location.bucket,e);return new bC(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw px(e)}}function _C(e){const t={prefixes:[],items:[]};return SC(e,t).then((()=>t))}async function SC(e,t,n){const r={pageToken:n},i=await EC(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await SC(e,t,i.nextPageToken)}function EC(e,t){null!=t&&"number"===typeof t.maxResults&&Sx("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=rC(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,vC)}function IC(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=Ex(t.fullServerUrl(),e.host,e._protocol),s=Gx(n,r),o=e.maxOperationRetryTime,a=new $x(i,"PATCH",Jx(e,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=tC(t),a}(e.storage,e._location,t,qx());return e.storage.makeRequestWithTokens(n,vC)}function TC(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Ex(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new $x(r,"GET",Zx(e,n),i);return s.errorHandler=tC(t),s}(e.storage,e._location,qx());return e.storage.makeRequestWithTokens(t,vC).then((e=>{if(null===e)throw new ix(sx.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function kC(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=Ex(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new $x(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=tC(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,vC)}function xC(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new yx(e._location.bucket,n);return new bC(e.storage,r)}function CC(e,t){if(e instanceof OC){const n=e;if(null==n._bucket)throw new ix(sx.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+rx+"' property when initializing the app?");const r=new bC(n,n._bucket);return null!=t?CC(r,t):r}return void 0!==t?xC(e,t):e}function NC(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof OC)return new bC(e,t);throw dx("To use ref(service, url), the first argument must be a Storage instance.")}return CC(e,t)}function AC(e,t){const n=null===t||void 0===t?void 0:t[rx];return null==n?null:yx.makeFromBucketSpec(n,e)}class OC{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=nx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?yx.makeFromBucketSpec(r,this._host):AC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=yx.makeFromBucketSpec(this._url,e):this._bucket=AC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Sx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Sx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bC(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new vx(fx());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=Ix(e.urlParams),c=e.url+a,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(l,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new kx(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const PC="@firebase/storage",RC="0.11.2",DC="storage";function LC(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new wC(e,new Fx(t),n)}(e=ii(e),t,n)}function MC(e){return function(e){e._throwIfRoot("getMetadata");const t=nC(e.storage,e._location,qx());return e.storage.makeRequestWithTokens(t,vC)}(e=ii(e))}function FC(e,t){return NC(e=ii(e),t)}function jC(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Ur(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function UC(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new OC(r,i,s,n,Yi)}qi(new si(DC,UC,"PUBLIC").setMultipleInstances(!0)),es(PC,RC,""),es(PC,RC,"esm2017");class VC{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class zC{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new VC(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new VC(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new VC(e,this,this._ref)):{next:t.next?e=>t.next(new VC(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class BC{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new qC(e,this._service)))}get items(){return this._delegate.items.map((e=>new qC(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class qC{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return xC(e,t)}(this._delegate,e);return new qC(t,this.storage)}get root(){return new qC(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new qC(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new zC(LC(this._delegate,e,t),this)}putString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ox.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");const r=Rx(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new zC(new wC(this._delegate,new Fx(r.data,!0),i),this)}listAll(){return function(e){return _C(e=ii(e))}(this._delegate).then((e=>new BC(e,this.storage)))}list(e){return function(e,t){return EC(e=ii(e),t)}(this._delegate,e||void 0).then((e=>new BC(e,this.storage)))}getMetadata(){return MC(this._delegate)}updateMetadata(e){return function(e,t){return IC(e=ii(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return TC(e=ii(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return kC(e=ii(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw px(e)}}class WC{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(KC(e))throw dx("ref() expected a child path but got a URL, use refFromURL instead.");return new qC(FC(this._delegate,e),this)}refFromURL(e){if(!KC(e))throw dx("refFromURL() expected a full URL but got a child path, use ref() instead.");try{yx.makeFromUrl(e,this._delegate.host)}catch(t){throw dx("refFromUrl() expected a valid full URL but got an invalid one.")}return new qC(FC(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};jC(this._delegate,e,t,n)}}function KC(e){return/^[A-Za-z]+:\/\//.test(e)}function GC(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new WC(r,i)}!function(e){const t={TaskState:hC,TaskEvent:uC,StringFormat:Ox,Storage:WC,Reference:qC};e.INTERNAL.registerComponent(new si("storage-compat",GC,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.2")}(ws);const HC=function(e){let{id:t,img:n,titulo:i,descricao:s,props:o,typeButton:a,tipo:c}=e;const[l,u]=(0,r.useState)(),[h,d]=(0,r.useState)(1);return(0,r.useEffect)((()=>{u(n),setTimeout((()=>{d(0)}),2e3)}),[]),(0,kr.jsxs)("div",{className:"card card-home m-2",children:[h?(0,kr.jsx)("div",{className:"row spinnerCard",children:(0,kr.jsx)("div",{className:"mx-auto spinner-border text-danger my-5",role:"status"})}):(0,kr.jsx)("img",{src:l,className:"card-img-top img-fluid img-cartao",alt:"Imagem do Card",id:t}),(0,kr.jsxs)("div",{className:"card-body text-center",children:[(0,kr.jsx)("h5",{className:"card-title card-title-home lead",children:i}),"vercard"===a?(0,kr.jsx)("button",{type:"button",className:"btn btn-detalhes","data-bs-toggle":"modal","data-bs-target":"#cardModal",onClick:()=>o(i,s,l,t,a),children:"Ver card"}):(0,kr.jsx)("button",{type:"button",className:"btn btn-detalhes","data-bs-toggle":"modal","data-bs-target":"#cardModal",onClick:()=>o(c,n),children:"Adicionar card"})]})]})},QC=bs.firestore();const YC=function(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),[s,o]=(0,r.useState)([]),[a,c]=(0,r.useState)([]),l=(e,t,n,r)=>{o(e),c(r),i((0,kr.jsxs)(kr.Fragment,{children:[t?(0,kr.jsx)(kr.Fragment,{children:(0,kr.jsx)("div",{className:"card-body w-100 border-bottom",children:(0,kr.jsx)("p",{className:"card-text",children:t})})}):null,(0,kr.jsx)("img",{src:n,className:"img-fluid img-Modal",alt:e})]}))};let u=[];const h=cr((e=>e.usuarioEmail));return(0,r.useEffect)((()=>{QC.collection("cards").where("usuario","==",h).get().then((async e=>{await e.docs.forEach((e=>{u.push({id:e.id,...e.data()})})),t(u)}))}),[]),(0,kr.jsxs)(kr.Fragment,{children:[(0,kr.jsx)(xr,{}),(0,kr.jsx)("div",{className:"modal fade",id:"cardModal",tabIndex:"-1","aria-labelledby":"cardModalLabel",children:(0,kr.jsx)("div",{className:"modal-dialog",children:(0,kr.jsxs)("div",{className:"modal-content",children:[(0,kr.jsxs)("div",{className:"modal-header",children:[(0,kr.jsx)("h1",{className:"modal-title lead fs-5",id:"cardModalLabel",children:0!==s.length?s:(0,kr.jsx)(kr.Fragment,{children:"Carregando..."})}),(0,kr.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Fechar"})]}),(0,kr.jsx)("div",{className:"modal-body p-0 d-flex justify-content-center flex-wrap",children:0!==n.length?(0,kr.jsx)("div",{className:"card w-100 border-white",children:n}):(0,kr.jsx)(kr.Fragment,{children:"..."})}),(0,kr.jsxs)("div",{className:"modal-footer justify-content-between",children:[(0,kr.jsx)("button",{type:"submit",className:"btn btn-danger",onClick:()=>{(async e=>{window.confirm("Voc\xea tem certeza que quer apagar esse card?\nEssa a\xe7\xe3o \xe9 irrevers\xedvel.")&&await QC.collection("cards").doc(e).delete().then((()=>{window.location.reload(!1)})).catch((e=>{console.log(e)}))})(a)},children:"Apagar card"}),(0,kr.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Fechar"})]})]})})}),(0,kr.jsx)("div",{className:"d-flex justify-content-center pb-3",children:cr((e=>e.usuarioLogado))>0?(0,kr.jsx)(kr.Fragment,{children:(0,kr.jsxs)("div",{className:"userContent col-12",children:[(0,kr.jsxs)("h2",{className:"p-3 position-relative",children:["Aqui est\xe3o seus cards! ",(0,kr.jsx)("span",{className:"fw-normal fs-6",children:"*separados por tipos"})]}),(0,kr.jsxs)("div",{className:"accordion",id:"accordionPanelsStayOpenExample",children:[(0,kr.jsxs)("div",{className:"accordion-item",children:[(0,kr.jsx)("h2",{className:"accordion-header",children:(0,kr.jsxs)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseTwo","aria-expanded":"false",children:["Comida ",(0,kr.jsx)("span",{className:"ms-1 badge",children:e.filter((e=>"Comida"===e.tipo)).length})]})}),(0,kr.jsx)("div",{id:"panelsStayOpen-collapseTwo",className:"accordion-collapse collapse",children:(0,kr.jsx)("div",{className:"accordion-body text-center",children:e.filter((e=>"Comida"===e.tipo)).length>=1?e.filter((e=>"Comida"===e.tipo)).map((e=>(0,kr.jsx)(HC,{id:e.id,img:e.foto,titulo:e.titulo,descricao:e.descricao,props:l,typeButton:"vercard"},e.id))):(0,kr.jsxs)(kr.Fragment,{children:[(0,kr.jsx)("h3",{children:"Voc\xea n\xe3o possui ainda nenhum card nessa categoria! \ud83d\ude22"}),(0,kr.jsx)("h4",{children:(0,kr.jsx)(Te,{to:"/criarcard",children:"Cadastre um card!"})})]})})})]}),(0,kr.jsxs)("div",{className:"accordion-item",children:[(0,kr.jsx)("h2",{className:"accordion-header",children:(0,kr.jsxs)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseThree","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseThree",children:["Emerg\xeancias ",(0,kr.jsx)("span",{className:"ms-1 badge",children:e.filter((e=>"Emerg\xeancias"===e.tipo)).length})]})}),(0,kr.jsx)("div",{id:"panelsStayOpen-collapseThree",className:"accordion-collapse collapse",children:(0,kr.jsx)("div",{className:"accordion-body text-center",children:e.filter((e=>"Emerg\xeancias"===e.tipo)).length>=1?e.filter((e=>"Emerg\xeancias"===e.tipo)).map((e=>(0,kr.jsx)(HC,{id:e.id,img:e.foto,titulo:e.titulo,descricao:e.descricao,props:l,typeButton:"vercard"},e.id))):(0,kr.jsxs)(kr.Fragment,{children:[(0,kr.jsx)("h3",{children:"Voc\xea n\xe3o possui ainda nenhum card nessa categoria! \ud83d\ude22"}),(0,kr.jsx)("h4",{children:(0,kr.jsx)(Te,{to:"/criarcard",children:"Cadastre um card!"})})]})})})]}),(0,kr.jsxs)("div",{className:"accordion-item",children:[(0,kr.jsx)("h2",{className:"accordion-header",children:(0,kr.jsxs)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseFour","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseFour",children:["Outros ",(0,kr.jsx)("span",{className:"ms-1 badge",children:e.filter((e=>"Outros"===e.tipo)).length})]})}),(0,kr.jsx)("div",{id:"panelsStayOpen-collapseFour",className:"accordion-collapse collapse",children:(0,kr.jsx)("div",{className:"accordion-body text-center",children:e.filter((e=>"Outros"===e.tipo)).length>=1?e.filter((e=>"Outros"===e.tipo)).map((e=>(0,kr.jsx)(HC,{id:e.id,img:e.foto,titulo:e.titulo,descricao:e.descricao,props:l,typeButton:"vercard"},e.id))):(0,kr.jsxs)(kr.Fragment,{children:[(0,kr.jsx)("h3",{children:"Voc\xea n\xe3o possui ainda nenhum card nessa categoria! \ud83d\ude22"}),(0,kr.jsx)("h4",{children:(0,kr.jsx)(Te,{to:"/criarcard",children:"Cadastre um card!"})})]})})})]})]})]})}):(0,kr.jsxs)("div",{className:"p-3 userNotContent",children:[(0,kr.jsx)("h1",{children:"Voc\xea n\xe3o est\xe1 logado! \ud83d\ude22"}),(0,kr.jsxs)("h4",{children:[(0,kr.jsx)(Te,{to:"/login",children:"Logue-se"})," para ver seus cards!"]})]})})]})};const $C=function(){const[e,t]=(0,r.useState)(),[n,i]=(0,r.useState)(),[s,o]=(0,r.useState)();return(0,kr.jsxs)(kr.Fragment,{children:[cr((e=>e.usuarioLogado))>0?(0,kr.jsx)(fe,{to:"/"}):null,(0,kr.jsx)(xr,{}),(0,kr.jsx)("div",{className:"d-flex align-items-center my-2 py-lg-5",children:(0,kr.jsxs)("form",{className:"text-center form-login mx-auto",onSubmit:e=>e.preventDefault(),children:[(0,kr.jsxs)("div",{className:"text-center mb-4",children:[(0,kr.jsx)("img",{className:"mb-4",src:Cr,alt:"",width:"150",height:"150"}),(0,kr.jsx)("h1",{className:"h3 mb-3 fw-normal fw-bold",children:"Recuperar senha"})]}),(0,kr.jsxs)("div",{className:"form-floating",children:[(0,kr.jsx)("input",{onChange:e=>t(e.target.value),type:"email",className:"form-control my-2",placeholder:"Email"}),(0,kr.jsx)("label",{htmlFor:"floatingInput",children:"Email"})]}),(0,kr.jsx)("div",{className:"text-center my-3",children:(0,kr.jsx)("span",{children:s})}),n?(0,kr.jsx)("div",{className:"mx-auto spinner-border text-danger mt-3",role:"status"}):(0,kr.jsx)("button",{type:"button",className:"btn btn-lg btn-block mt-3 btn-login w-100 text-white",onClick:function(){o(null),i(1),bs.auth().sendPasswordResetEmail(e).then((e=>{i(0),o("Caso a conta exista, foi enviado um link ao seu e-mail para voc\xea redefinir sua senha! \ud83d\ude09")})).catch((e=>{i(0),o("Verifique se o e-mail est\xe1 correto.")}))},children:"Enviar"})]})})]})};const XC=function(){const[e,t]=(0,r.useState)(),[n,i]=(0,r.useState)(),[s,o]=(0,r.useState)(),[a,c]=(0,r.useState)(),[l,u]=(0,r.useState)(),[h,d]=(0,r.useState)(),[f,p]=(0,r.useState)(),m=bs.storage(),g=bs.firestore(),y=cr((e=>e.usuarioEmail)),v=ee();function w(){t("sucesso"),p(0),d("disabled"),setTimeout((()=>{v("/")}),2e3)}function b(e){return"jpg"===e||"png"===e||"jpeg"===e||"gif"===e||"svg"===e||"webp"===e}return(0,kr.jsxs)(kr.Fragment,{children:[(0,kr.jsx)(xr,{}),cr((e=>e.usuarioLogado))>0?null:(0,kr.jsx)(fe,{to:"/"}),(0,kr.jsxs)("div",{className:"col-12 p-3",children:[(0,kr.jsx)("div",{className:"row text-center",children:(0,kr.jsx)("h3",{className:"mx-auto fw-bold",children:"Novo card"})}),(0,kr.jsxs)("form",{children:[(0,kr.jsxs)("div",{className:"form-group",children:[(0,kr.jsx)("label",{htmlFor:"tituloInput",children:"T\xedtulo: "}),(0,kr.jsx)("input",{id:"tituloInput",onChange:e=>i(e.target.value),type:"text",className:"form-control"})]}),(0,kr.jsxs)("div",{className:"form-group",children:[(0,kr.jsx)("label",{htmlFor:"tipoSelect",children:"Tipo do card: "}),(0,kr.jsxs)("select",{id:"tipoSelect",defaultValue:"-- Selecione um tipo --",onChange:e=>o(e.target.value),className:"form-control",children:[(0,kr.jsx)("option",{disabled:!0,children:"-- Selecione um tipo --"}),(0,kr.jsx)("option",{children:"Comida"}),(0,kr.jsx)("option",{children:"Emerg\xeancias"}),(0,kr.jsx)("option",{children:"Outros"})]})]}),(0,kr.jsxs)("div",{className:"form-group",children:[(0,kr.jsx)("label",{htmlFor:"descricaoTextArea",children:"Descri\xe7\xe3o do card"}),(0,kr.jsx)("textarea",{className:"form-control",onChange:e=>c(e.target.value),id:"descricaoTextArea",rows:"3"})]}),(0,kr.jsxs)("div",{className:"form-group",children:[(0,kr.jsx)("label",{htmlFor:"fotoInput",children:"Upload da foto:"}),(0,kr.jsx)("input",{id:"fotoInput",onChange:e=>u(e.target.files[0]),type:"file",accept:"image/*",className:"form-control"})]}),(0,kr.jsx)("div",{className:"row",children:f?(0,kr.jsx)("div",{className:"mx-auto spinner-border text-danger mt-3",role:"status"}):(0,kr.jsx)("button",{onClick:function(){if(!n||!s||!a)return t("erro"),void p(0);t(null),p(1);const e={titulo:n,tipo:s,usuario:y,descricao:a,criacao:new Date};if(l){!0===b(l.name.split(".").pop().toLowerCase())?Object.assign(e,{foto:l.name.split(".").pop()}):Object.assign(e,{foto:"https://firebasestorage.googleapis.com/v0/b/testers-fc6a9.appspot.com/o/src%2F1697669890197.png?alt=media"})}else Object.assign(e,{foto:"https://firebasestorage.googleapis.com/v0/b/testers-fc6a9.appspot.com/o/src%2F1697669890197.png?alt=media"});g.collection("cards").add(e).then((e=>{if(l){const t=l.name.split(".").pop().toLowerCase();!0===b(t)?(g.collection("cards").doc(e.id).update({foto:"https://firebasestorage.googleapis.com/v0/b/testers-fc6a9.appspot.com/o/imagens%2F".concat(e.id+"."+t,"?alt=media")}),m.ref("imagens/".concat(e.id+"."+t)).put(l).then((()=>w()))):w()}else w()})).catch((e=>{console.log(e),t("erro"),p(0)}))},type:"button",className:"btn btn-lg btn-block my-3 btn-criarCard text-white w-100 "+h,children:"Criar card"})})]}),(0,kr.jsxs)("div",{className:"msg-login text-center",children:["sucesso"===e&&(0,kr.jsxs)("span",{children:[(0,kr.jsx)("strong",{children:"WoW!"})," Card criado! \ud83d\ude0e"]}),"erro"===e&&(0,kr.jsxs)("span",{children:[(0,kr.jsx)("strong",{children:"Ops!"})," N\xe3o foi poss\xedvel criar o card! \ud83d\ude22"]})]}),(0,kr.jsxs)("div",{className:"text-center pt-5",children:[(0,kr.jsx)("h3",{children:"Est\xe1 sem ideias?"}),(0,kr.jsx)("h4",{children:(0,kr.jsx)(Te,{to:"/cardsref",children:"Veja alguns cards pr\xe9-prontos!"})})]})]})]})};const JC=function(){const e=bs.firestore(),t=cr((e=>e.usuarioEmail)),[n,i]=(0,r.useState)(),[s,o]=(0,r.useState)(),[a,c]=(0,r.useState)(),[l,u]=(0,r.useState)(),[h,d]=(0,r.useState)(),[f,p]=(0,r.useState)([]),[m,g]=(0,r.useState)([]),y=(e,t)=>{p(e),g(t)};return(0,kr.jsxs)(kr.Fragment,{children:[(0,kr.jsx)(xr,{}),cr((e=>e.usuarioLogado))>0?null:(0,kr.jsx)(fe,{to:"/"}),(0,kr.jsx)("div",{className:"modal fade",id:"cardModal",tabIndex:"-1","aria-labelledby":"cardModalLabel","aria-hidden":"true",children:(0,kr.jsx)("div",{className:"modal-dialog",children:(0,kr.jsxs)("div",{className:"modal-content",children:[(0,kr.jsxs)("div",{className:"modal-header",children:[(0,kr.jsx)("h1",{className:"modal-title fs-5",id:"cardModalLabel",children:"Novo card"}),(0,kr.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,kr.jsxs)("div",{className:"modal-body",children:[(0,kr.jsxs)("form",{children:[(0,kr.jsxs)("div",{className:"mb-3",children:[(0,kr.jsx)("label",{htmlFor:"t\xedtulo",className:"col-form-label",children:"T\xedtulo:"}),(0,kr.jsx)("input",{type:"text",className:"form-control",id:"t\xedtulo",onChange:e=>i(e.target.value)})]}),(0,kr.jsxs)("div",{className:"mb-3",children:[(0,kr.jsx)("label",{htmlFor:"tipoSelect",className:"col-form-label",children:"Tipo do card: "}),(0,kr.jsx)("select",{id:"tipoSelect",defaultValue:"-- Selecione um tipo --",className:"form-control",onChange:e=>p(e.target.value),disabled:!0,children:(0,kr.jsx)("option",{defaultValue:!0,children:f})})]}),(0,kr.jsxs)("div",{className:"mb-3",children:[(0,kr.jsx)("label",{htmlFor:"descri\xe7\xe3o",className:"col-form-label",children:"Descri\xe7\xe3o:"}),(0,kr.jsx)("textarea",{className:"form-control",id:"descri\xe7\xe3o",onChange:e=>o(e.target.value)})]})]}),(0,kr.jsx)("div",{className:"msg-login text-center mb-2 mt-4",children:a?(0,kr.jsx)("div",{className:"mx-auto spinner-border text-danger",role:"status"}):(0,kr.jsxs)(kr.Fragment,{children:["sucesso"===l&&(0,kr.jsxs)("span",{children:[(0,kr.jsx)("strong",{children:"WoW!"})," Card criado! \ud83d\ude0e"]}),"erro"===l&&(0,kr.jsxs)("span",{children:[(0,kr.jsx)("strong",{children:"Ops!"})," N\xe3o foi poss\xedvel criar o card! \ud83d\ude22"]})]})})]}),(0,kr.jsxs)("div",{className:"modal-footer",children:[(0,kr.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Fechar"}),(0,kr.jsx)("button",{onClick:function(){if(!n||!f||!s)return u("erro"),void c(0);u(null),c(1);const r={titulo:n,tipo:f,usuario:t,descricao:s,criacao:new Date};Object.assign(r,{foto:m}),e.collection("cards").add(r).then((e=>{u("sucesso"),c(0),d("disabled"),setTimeout((()=>{window.location.href="/Talk-cards/"}),2e3)})).catch((e=>{console.log(e),u("erro"),c(0)}))},type:"button",className:"btn btn-primary "+h,children:"Criar card"})]})]})})}),(0,kr.jsxs)("div",{className:"accordion",id:"accordionPanelsStayOpenExample",children:[(0,kr.jsxs)("div",{className:"accordion-item",children:[(0,kr.jsx)("h2",{className:"accordion-header",children:(0,kr.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseTwo","aria-expanded":"false",children:"Comida"})}),(0,kr.jsx)("div",{id:"panelsStayOpen-collapseTwo",className:"accordion-collapse collapse",children:(0,kr.jsxs)("div",{className:"accordion-body text-center",children:[(0,kr.jsx)(HC,{id:"lanche",img:"https://firebasestorage.googleapis.com/v0/b/testers-fc6a9.appspot.com/o/src%2Freferencias%2Fcomidas%2F1.svg?alt=media",titulo:"Lanche",descricao:"",tipo:"Comida",props:y},"lanche"),(0,kr.jsx)(HC,{id:"almo\xe7o",img:"https://firebasestorage.googleapis.com/v0/b/testers-fc6a9.appspot.com/o/src%2Freferencias%2Fcomidas%2F2.svg?alt=media",titulo:"Almo\xe7o",descricao:"",tipo:"Comida",props:y},"almo\xe7o"),(0,kr.jsx)(HC,{id:"janta",img:"https://firebasestorage.googleapis.com/v0/b/testers-fc6a9.appspot.com/o/src%2Freferencias%2Fcomidas%2F3.svg?alt=media",titulo:"Janta",descricao:"",tipo:"Comida",props:y},"janta"),(0,kr.jsx)(HC,{id:"\xe1gua",img:"https://firebasestorage.googleapis.com/v0/b/testers-fc6a9.appspot.com/o/src%2Freferencias%2Fcomidas%2F4.svg?alt=media",titulo:"\xc1gua",descricao:"",tipo:"Comida",props:y},"\xe1gua"),(0,kr.jsx)(HC,{id:"suco",img:"https://firebasestorage.googleapis.com/v0/b/testers-fc6a9.appspot.com/o/src%2Freferencias%2Fcomidas%2F5.svg?alt=media",titulo:"Suco",descricao:"",tipo:"Comida",props:y},"suco"),(0,kr.jsx)(HC,{id:"refrigerante",img:"https://firebasestorage.googleapis.com/v0/b/testers-fc6a9.appspot.com/o/src%2Freferencias%2Fcomidas%2F6.svg?alt=media",titulo:"Refrigerante",descricao:"",tipo:"Comida",props:y},"refrigerante")]})})]}),(0,kr.jsxs)("div",{className:"accordion-item",children:[(0,kr.jsx)("h2",{className:"accordion-header",children:(0,kr.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseThree","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseThree",children:"Emerg\xeancias"})}),(0,kr.jsx)("div",{id:"panelsStayOpen-collapseThree",className:"accordion-collapse collapse",children:(0,kr.jsxs)("div",{className:"accordion-body text-center",children:[(0,kr.jsx)(HC,{id:"pol\xedcia",img:"https://firebasestorage.googleapis.com/v0/b/testers-fc6a9.appspot.com/o/src%2Freferencias%2Femergencias%2F1.svg?alt=media",titulo:"Pol\xedcia",descricao:"",tipo:"Emerg\xeancias",props:y},"pol\xedcia"),(0,kr.jsx)(HC,{id:"m\xe9dico",img:"https://firebasestorage.googleapis.com/v0/b/testers-fc6a9.appspot.com/o/src%2Freferencias%2Femergencias%2F2.svg?alt=media",titulo:"M\xe9dico",descricao:"",tipo:"Emerg\xeancias",props:y},"m\xe9dico"),(0,kr.jsx)(HC,{id:"bombeiro",img:"https://firebasestorage.googleapis.com/v0/b/testers-fc6a9.appspot.com/o/src%2Freferencias%2Femergencias%2F3.svg?alt=media",titulo:"Bombeiro",descricao:"",tipo:"Emerg\xeancias",props:y},"bombeiro"),(0,kr.jsx)(HC,{id:"ambul\xe2ncia",img:"https://firebasestorage.googleapis.com/v0/b/testers-fc6a9.appspot.com/o/src%2Freferencias%2Femergencias%2F4.svg?alt=media",titulo:"Ambul\xe2ncia",descricao:"",tipo:"Emerg\xeancias",props:y},"ambul\xe2ncia"),(0,kr.jsx)(HC,{id:"ajuda",img:"https://firebasestorage.googleapis.com/v0/b/testers-fc6a9.appspot.com/o/src%2Freferencias%2Femergencias%2F5.svg?alt=media",titulo:"Ajuda!!!",descricao:"",tipo:"Emerg\xeancias",props:y},"ajuda")]})})]}),(0,kr.jsxs)("div",{className:"accordion-item",children:[(0,kr.jsx)("h2",{className:"accordion-header",children:(0,kr.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseFour","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseFour",children:"Outros"})}),(0,kr.jsx)("div",{id:"panelsStayOpen-collapseFour",className:"accordion-collapse collapse",children:(0,kr.jsxs)("div",{className:"accordion-body text-center",children:[(0,kr.jsx)(HC,{id:"eu",img:"https://firebasestorage.googleapis.com/v0/b/testers-fc6a9.appspot.com/o/src%2Freferencias%2Foutros%2FEU.svg?alt=media",titulo:"Eu",descricao:"",tipo:"Outros",props:y},"eu"),(0,kr.jsx)(HC,{id:"n\xe3o",img:"https://firebasestorage.googleapis.com/v0/b/testers-fc6a9.appspot.com/o/src%2Freferencias%2Foutros%2FNAO.svg?alt=media",titulo:"N\xe3o",descricao:"",tipo:"Outros",props:y},"n\xe3o"),(0,kr.jsx)(HC,{id:"n\xf3s",img:"https://firebasestorage.googleapis.com/v0/b/testers-fc6a9.appspot.com/o/src%2Freferencias%2Foutros%2FNOS.svg?alt=media",titulo:"N\xf3s",descricao:"",tipo:"Outros",props:y},"n\xf3s"),(0,kr.jsx)(HC,{id:"sim",img:"https://firebasestorage.googleapis.com/v0/b/testers-fc6a9.appspot.com/o/src%2Freferencias%2Foutros%2FSIM.svg?alt=media",titulo:"Sim",descricao:"",tipo:"Outros",props:y},"sim"),(0,kr.jsx)(HC,{id:"voc\xea",img:"https://firebasestorage.googleapis.com/v0/b/testers-fc6a9.appspot.com/o/src%2Freferencias%2Foutros%2FVOCE.svg?alt=media",titulo:"Voc\xea",descricao:"",tipo:"Outros",props:y},"voc\xea")]})})]})]})]})};const ZC=function(){return(0,kr.jsx)(fr,{store:Hn,children:(0,kr.jsx)(Tr,{loading:null,persistor:Qn,children:(0,kr.jsx)(Se,{basename:"/Talk-cards",children:(0,kr.jsxs)(ge,{children:[(0,kr.jsx)(pe,{exact:!0,path:"/",element:(0,kr.jsx)(YC,{})}),(0,kr.jsx)(pe,{path:"/novousuario",element:(0,kr.jsx)(Tu,{})}),(0,kr.jsx)(pe,{path:"/login",element:(0,kr.jsx)(Iu,{})}),(0,kr.jsx)(pe,{path:"/usuariorecuperarsenha",element:(0,kr.jsx)($C,{})}),(0,kr.jsx)(pe,{path:"/criarcard",element:(0,kr.jsx)(XC,{})}),(0,kr.jsx)(pe,{path:"/cardsref",element:(0,kr.jsx)(JC,{})})]})})})})};s.createRoot(document.getElementById("root")).render((0,kr.jsx)(ZC,{}))})()})();
//# sourceMappingURL=main.8ed04ed5.js.map